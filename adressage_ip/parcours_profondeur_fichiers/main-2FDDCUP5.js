import{a as pi,b as hi,c as dl}from"./chunk-P43LDTDV.js";import{b as cl}from"./chunk-J6IC2M6B.js";import{a as Qs}from"./chunk-7CSBEB3V.js";import{a as Rt,c as ol}from"./chunk-E5ZA5763.js";import{a as sl}from"./chunk-VA3ZEK2O.js";import{a as al}from"./chunk-YWOUMLOF.js";import"./chunk-P77SXUYR.js";import{b as ll}from"./chunk-W6INLPM7.js";import{a as ys}from"./chunk-DNXLOF7Z.js";import{a as vs,c as U}from"./chunk-7Q7YRLBY.js";import{a as qs}from"./chunk-CSFKHO73.js";import{a as Ns}from"./chunk-QLI6JPR7.js";import{a as tr}from"./chunk-T7U2BLZ6.js";import{$ as Zi,$a as S,$m as Os,A as aa,Aa as Ur,Ab as N,Ae as Bn,An as Vs,B as sa,Ba as Oe,Bb as ft,Bc as wt,Bd as Ln,Bn as js,C as Yi,Ca as E,Cb as ya,Cc as Dn,Cd as Ua,Cl as ps,Cm as Ts,Cn as zs,D as ke,Da as ga,Dl as Bi,Dm as Ms,Dn as sn,E as la,Ea as Mn,Ec as Zt,Eh as Ot,Ek as ms,Em as Qe,En as er,F as ca,Fa as _e,Fb as ba,Fc as ut,Fe as za,Fm as Wn,Fn as Hs,G as da,Gb as C,Gh as ai,Gm as Ps,H as ge,Hb as x,Hc as ka,He as Vn,Hm as Ze,Hn as Gs,Ia as c,Ib as me,Ie as vt,Im as Ti,In as $s,Ja as jt,Jb as Pn,Jc as Fn,Jd as jr,Jg as Ie,Jj as ls,Jm as Re,Jn as Ks,K as ua,Ka as va,Kg as Kt,Kj as cs,Km as se,Lb as Te,Lg as $a,Ll as hs,Lm as Jn,M as We,Ma as qe,Mb as Lr,Mc as Rn,Mg as Ka,Mj as ds,Ml as Z,Mm as As,Nb as Fi,Nc as Oa,Ng as Qa,Ni as si,Nl as Dt,Nm as be,O as q,Oc as Da,Of as Ga,Oj as us,Ol as fs,Om as pe,Pl as zr,Q as ne,Qb as $t,Qc as Fa,Ql as gs,Rb as Ca,Rg as Wa,Rl as xi,Rm as Is,Rq as Ws,S as he,Sb as Sa,Sc as Nn,Sd as La,Sl as $n,Sm as mi,T as Se,Ta as a,Tb as An,Tj as Hn,Tl as qr,Tm as ws,U as Be,Ua as s,Ub as xa,Ul as Vi,V as X,Va as g,Vb as oe,Vl as Hr,W as I,Wa as le,Wb as Ee,Wg as Ja,Wl as Kn,X as bn,Xa as ce,Xb as G,Xg as Xa,Xk as ci,Y as Dr,Yc as Ra,Yg as ni,Yl as _s,Ym as ks,Z as Cn,Za as L,Zc as Na,_ as Fr,_a,_d as Ba,_g as qn,a as J,aa as D,ab as h,ac as Je,ah as ye,an as Xn,ar as Js,b as Ue,ba as F,bd as ei,bh as Ya,c as yn,cd as kt,cf as jn,cm as ui,cn as Ds,d as hd,da as Sn,db as zt,dd as Ni,df as qa,dm as Fe,dn as Fs,e as na,ea as ma,eb as it,ec as In,ed as Un,ef as zn,em as Es,er as Xs,f as kr,fa as bi,fb as nt,fd as Q,ff as V,fh as Za,fm as Ft,g as ra,ga as Ci,gc as Ta,gd as ae,gh as es,gm as Ve,h as Tt,ha as en,hc as rn,hm as bs,hn as Rs,hr as Ys,hs as mt,ia as tn,id as Br,ih as ts,ja as nn,jb as qt,jd as De,je as an,ka as Rr,kb as Ht,kc as Ma,kh as is,kr as Zs,l as ze,la as Nr,lb as Gt,lc as Pa,lh as ns,ln as Yn,m as Di,ma as ue,mb as re,mc as Aa,md as gt,mf as Ha,mh as rs,mn as Us,n as Or,na as ve,nb as u,nc as Ia,nd as Vr,nn as Ls,o as Le,ob as k,oc as wn,oe as Va,oh as os,pa as xn,pb as H,pc as kn,pd as Y,ph as ri,pr as el,q as Ke,qa as pa,qb as Ea,qc as wa,qd as b,qe as we,qh as oi,ql as di,qm as Cs,r as oa,ra as l,re as Li,rh as M,rr as tl,s as ct,sc as fd,se as ii,sh as as,sr as il,ta as ha,td as O,th as ss,tm as Ss,ua as fa,ub as Mt,uc as On,uh as Xe,uk as Qt,ur as nl,va as Tn,vb as Pt,vc as Yt,vk as li,vm as Qn,vn as Bs,w as tt,wa as v,wb as At,wc as Ri,wd as on,xd as Si,xm as xs,ya as w,yc as It,yd as Ui,yk as Gn,ym as Ye,yn as Zn,yr as rl,z as ie,za as xe,zb as K,zc as dt,zd as ti,ze as ja,zm as _t,zn as ji}from"./chunk-V2WYJ35H.js";var ud=hd((ST,Yo)=>{"use strict";var st=new function(){var t=this;this.version="3.3.55npm",this.vsakt={c:"130",f:"131",s:"17.6",e:"130",i:"12",ios:"17.6",samsung:"27",o:"114",e_a:"129",o_a:"84",y:"24.7.8",v:"6.9",uc:"13.7.8"},this.vsinsecure_below={c:"126",f:"126",s:"11.1.1",e:"119",i:11,ios:"16.5",samsung:12,o:62,o_a:78,y:"20",v:"6.0",uc:"13.4"},this.vsdefault={c:-3,f:-3,s:-2,e:17,i:11,ios:12,samsung:-3,o:-3,o_a:-3,y:-1,v:-1,uc:-.2,a:535},this.names={c:"Chrome",f:"Firefox",s:"Safari",e:"Edge",i:"Internet Explorer",ios:"iOS",samsung:"Samsung Internet",o:"Opera",o_a:"Opera",e_a:"Edge",y:"Yandex Browser",v:"Vivaldi",uc:"UC Browser",a:"Android Browser",x:"Other",silk:"Silk"},this.get_browser=function(n){var e,n=(n||navigator.userAgent).replace("_","."),r={n:"x",v:0,t:"other browser",age_years:void 0,no_device_update:!1,available:t.vsakt};function o(P,A){return new RegExp(A,"i").test(n)?P:!1}r.other=o("bot","Pagespeed|pingdom|Preview|ktxn|dynatrace|Ruxit|PhantomJS|Headless|Lighthouse|bot|spider|archiver|transcoder|crawl|checker|monitoring|prerender|screenshot|python-|php|uptime|validator|fetcher|facebook|slurp|google|yahoo|node|mail.ru|github|cloudflare|addthis|thumb|proxy|feed|fetch|favicon|link|http|scrape|seo|page|search console|AOLBuild|Teoma|Expeditor")||o("TV","SMART-TV|SmartTV")||o("niche browser","motorola edge|Comodo.Dragon|OculusBrowser|Falkon|Brave|Classic Browser|Dorado|LBBROWSER|Focus|waterfox|Firefox/56.2|Firefox/56.3|Whale|MIDP|k-meleon|sparrow|wii|Chromium|Puffin|Opera Mini|maxthon|maxton|dolfin|dolphin|seamonkey|opera mini|netfront|moblin|maemo|arora|kazehakase|epiphany|konqueror|rekonq|symbian|webos|PaleMoon|Basilisk|QupZilla|Otter|Midori|qutebrowser|slimjet")||o("mobile without upgrade path or landing page","OPR/44.12.2246|cros|kindle|tizen|silk|blackberry|bb10|RIM|PlayBook|meego|nokia|ucweb|ZuneWP7|537.85.10"),r.embedded=/"QtWebEngine|Teams|Electron/i.test(n),r.mobile=/iphone|ipod|ipad|android|mobile|phone|ios|iemobile/i.test(n),r.discontinued=/netscape|greenbrowser|camino|flot|fennec|galeon|coolnovo/i.test(n);for(var d=[["CriOS.VV","c","ios"],["FxiOS.VV","f","ios"],["Trident.*rv:VV","i","i"],["Trident.VV","i","i"],["UCBrowser.VV","uc","c"],["MSIE.VV","i","i"],["Edge.VV","e","e"],["Edg.VV","e","c"],["EdgA.VV","e_a","c"],["Vivaldi.VV","v","c"],["Android.*OPR.VV","o_a","c"],["OPR.VV","o","c"],["YaBrowser.VV","y","c"],["SamsungBrowser.VV","samsung","c"],["Silk.VV","silk","c"],["Chrome.VV","c","c"],["Firefox.VV","f","f"],[" OS.VV.*Safari","ios","ios"],["Version.VV.*Safari","s","s"],["Safari.VV","s","s"],["Opera.*Version.VV","o"],["Opera.VV","o"]],m="(\\d+\\.?\\d+\\.?\\d*\\.?\\d*)",p=0;p<d.length;p++)if(n.match(new RegExp(d[p][0].replace("VV",m),"i"))){r.n=d[p][1],r.engine=d[p][2];break}if(r.fullv=RegExp.$1,r.v=parseFloat(r.fullv),/windows.nt.5|windows.nt.4|windows.nt.6.0|windows.95|windows.98|os x 10.2|os x 10.3|os x 10.4|os x 10.5/i.test(n)&&(r.no_device_update=!0,r.available={}),navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1&&(r.n="ios",r.engine="ios",r.fullv=r.v=13,r.no_device_update=!0),/iphone|ipod|ipad|ios/i.test(n)){n.match(new RegExp("OS."+m,"i")),r.n="ios",r.fullv=RegExp.$1,r.v=parseFloat(r.fullv),r.engine="ios";var f=t.available_ios(n,r.v);f<12&&Math.round(r.v)===11&&(f=12),r.available={ios:f},parseFloat(r.available.ios)<15&&(r.no_device_update=!0)}if(/windows.nt.5.1|windows.nt.5.2|windows.nt.6.0/i.test(n)&&(r.available={c:49.9,f:52.9},r.no_device_update=!0),/os x 10.6/i.test(n)&&(r.available={s:"5.1.10",c:49.9,f:48},r.no_device_update=!0),/os x 10.7|os x 10.8/i.test(n)&&(r.available={s:"6.2.8",c:49.9,f:48},r.no_device_update=!0),/os x 10.9/i.test(n)&&(r.available.s="9.1.3"),/os x 10.10/i.test(n)&&(r.available.s="10.1.2"),n.indexOf("Android")>-1&&r.n==="s"){var _=parseInt((/WebKit\/([0-9]+)/i.exec(n)||0)[1],10)||2e3;_<=534&&(r.n="a",r.fullv=r.v=_,r.is_insecure=!0)}r.t=t.names[r.n]+" "+r.v,r.is_supported=r.is_latest=t.vsakt[r.n]?t.less(r.fullv,t.vsakt[r.n])<=0:void 0,r.vmaj=Math.round(r.v),r.is_insecure=r.is_insecure||!t.vsinsecure_below[r.n]?void 0:t.less(r.fullv,t.vsinsecure_below[r.n])===1,(r.n==="f"&&(r.vmaj===115||r.vmaj===128)||r.n==="c"&&r.vmaj===120)&&(r.is_supported=!0,r.is_insecure=!1,r.n==="f"&&(r.esr=!0)),r.n==="ios"&&r.v>=15&&(r.is_supported=!0),(r.n==="a"||r.n==="x")&&(r.t=t.names[r.n]),r.n==="e"&&(r.t=t.names[r.n]+" "+r.vmaj,r.is_supported=t.less(r.fullv,"18.15063")!=1),r.n in["c","f","o","e"]&&t.less(r.fullv,parseFloat(t.vsakt[r.n])-1)<=0&&(r.is_supported=!0);var y={f:7,c:8,o:8,i:1,e:1,s:1};y[r.n]&&(r.age_years=Math.round((t.vsakt[r.n]-r.v)/y[r.n]*10)/10||0);var T={e:"Edge.VV",c:"Chrome.VV",f:"Firefox.VV",s:"Version.VV",i:"MSIE.VV",ios:" OS.VV"};return r.engine&&(n.match(new RegExp(T[r.engine].replace("VV",m),"i")),r.engine_version=parseFloat(RegExp.$1)),r},this.semver=function(i){if(i instanceof Array)return i;var e=(i+".0.0.0").split(".");return[parseInt(e[0])||0,parseInt(e[1])||0,parseInt(e[2])||0,parseInt(e[3])||0]},this.less=function(i,e){i=t.semver(i),e=t.semver(e);for(var n=0;;n++){if(n>=i.length)return n>=e.length?0:1;if(n>=e.length)return-1;var r=e[n]-i[n];if(r)return r>0?1:-1}},this.available_ios=function(i,e){var n=Math.max(window.screen.height,window.screen.width),r=window.devicePixelRatio;return/ipad/i.test(i)?n==1024&&r==2?10:n==1112||n==1366?15:n==1024&&e<6?5:9:r==1?6:r==3||n==812||n==736||n==667?15:n==568?10:n==480?7:6}};window.$bu_getBrowser=st.get_browser;var Ov=function(t,i){var e=window.navigator,n;t=window._buorgres=t||{};var r=t.l||(e.languages?e.languages[0]:null)||e.language||e.browserLanguage||e.userLanguage||document.documentElement.getAttribute("lang")||"en";t.llfull=r.replace("_","-").toLowerCase().substr(0,5),t.ll=t.llfull.substr(0,2),t.domain=t.domain!==void 0?t.domain:(/file:/.test(location.href)?"https:":"")+"//browser-update.org",t.apiver=t.api||t.c||-1,t.jsv=st.version;var o=t.apiver<2018&&{i:10,f:11,o:21,s:8,c:30}||{},d=t.notify||t.vs||{};d.e!==0&&(d.e=d.e||d.i),d.i=d.i||d.e;var m=t.required||{};m.e!==0&&(m.e=m.e||m.i),m.i||(m.i=m.e,st.vsakt.i=st.vsakt.e);for(n in st.vsdefault)d[n]&&(st.less(d[n],0)>=0?m[n]=parseFloat(st.vsakt[n])+parseFloat(d[n])+.01:m[n]=parseFloat(d[n])+.01),(!(n in m)||m[n]==null)&&(m[n]=st.vsdefault[n]),st.less(m[n],0)>=0&&(m[n]=parseFloat(st.vsakt[n])+parseFloat(m[n])),o[n]&&st.less(m[n],o[n])===1&&(m[n]=o[n]);m.ios=m.ios||m.s,m.i<79&&m.i>65&&(m.i=m.i-60),m.e<79&&m.e>65&&(m.e=m.e-60),t.required=m,t.reminder=t.reminder<.1?0:t.reminder||24*7,t.reminderClosed=t.reminderClosed<1?0:t.reminderClosed||24*7,t.onshow=t.onshow||function(f){},t.onclick=t.onclick||function(f){},t.onclose=t.onclose||function(f){},t.pageurl=t.pageurl||location.hostname||"x",t.newwindow=t.newwindow!==!1,t.test=i||t.test||location.hash==="#test-bu"||!1,t.ignorecookie=t.ignorecookie||location.hash==="#ignorecookie-bu",t.reasons=[],t.hide_reasons=[];function p(f){var _=f.browser=st.get_browser(f.override_ua);return f.is_below_required=m[_.n]&&st.less(_.fullv,m[_.n])===1,_.other!==!1&&f.hide_reasons.push("is other browser:"+_.other),_.embedded!==!1&&f.hide_reasons.push("is embedded browser:"+_.embedded),_.esr&&!f.notify_esr&&f.hide_reasons.push("Extended support (ESR)"),_.mobile&&f.mobile===!1&&f.hide_reasons.push("do not notify mobile"),_.is_latest&&f.hide_reasons.push("is latest version of the browser"),_.no_device_update&&f.hide_reasons.push("no device update"),f.is_below_required&&f.reasons.push("below required"),(f.insecure||f.unsecure)&&_.is_insecure&&f.reasons.push("insecure"),f.unsupported&&!_.is_supported&&f.reasons.push("no vendor support"),f.hide_reasons.length>0?!1:f.reasons.length>0}if(t.notified=p(t),t.already_shown=document.cookie.indexOf("browserupdateorg=pause")>-1&&!t.ignorecookie,!(!t.test&&(!t.notified||t.already_shown))){if(t.setCookie=function(f){document.cookie="browserupdateorg=pause; expires="+new Date(new Date().getTime()+36e5*f).toGMTString()+"; path=/; SameSite=Lax"+(/https:/.test(location.href)?"; Secure":"")},t.already_shown&&(t.ignorecookie||t.test)&&t.setCookie(-10),t.reminder>0&&t.setCookie(t.reminder),t.nomessage){t.onshow(t);return}Dv()}};typeof Yo<"u"&&(Yo.exports=Ov);var Dv=function(){var t=window._buorgres,i=$bu_getBrowser(),e=t.burl||"http"+(/MSIE/i.test(navigator.userAgent)?"":"s")+"://browser-update.org/";t.url||(t.url=e+(t.l&&t.l+"/"||"")+"update-browser.html"+(t.test?"?force_outdated=true":"")+"#"+t.jsv+":"+t.pageurl),t.url_permanent_hide=t.url_permanent_hide||e+"block-ignore-browser-update-warning.html";function n(){for(var ee=arguments,fe=ee[0],Ae=1;Ae<ee.length;++Ae)fe=fe.replace(/%s/,ee[Ae]);return fe}var r={},o;r.en={msg:"Your web browser ({brow_name}) is out of date.",msgmore:"Update your browser for more security, speed and the best experience on this site.",bupdate:"Update browser",bignore:"Ignore",remind:"You will be reminded in {days} days.",bnever:"Never show again",insecure:"Your web browser ({brow_name}) has a serious security vulnerability!"},r.ar={msg:"\u0645\u062A\u0635\u0641\u062D \u0627\u0644\u0625\u0646\u062A\u0631\u0646\u062A \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 ({brow_name}) \u063A\u064A\u0631 \u0645\u064F\u062D\u062F\u0651\u062B.",msgmore:"\u0642\u0645 \u0628\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u062A\u0635\u0641\u062D \u0627\u0644\u062E\u0627\u0635 \u0628\u0643 \u0644\u0645\u0632\u064A\u062F \u0645\u0646 \u0627\u0644\u0623\u0645\u0627\u0646 \u0648\u0627\u0644\u0633\u0631\u0639\u0629 \u0648\u0644\u0623\u0641\u0636\u0644 \u062A\u062C\u0631\u0628\u0629 \u0639\u0644\u0649 \u0647\u0630\u0627 \u0627\u0644\u0645\u0648\u0642\u0639.",bupdate:"\u062A\u062D\u062F\u064A\u062B \u0627\u0644\u0645\u062A\u0635\u0641\u062D",bignore:"\u062A\u062C\u0627\u0647\u0644",remind:"\u0633\u064A\u062A\u0645 \u062A\u0630\u0643\u064A\u0631\u0643 \u0641\u064A \u063A\u0636\u0648\u0646 {days} \u0623\u064A\u0627\u0645.",bnever:"\u0644\u0627 \u062A\u0638\u0647\u0631 \u0645\u0631\u0629 \u0623\u062E\u0631\u0649"},r.bg={msg:"\u0412\u0430\u0448\u0438\u044F\u0442 \u0443\u0435\u0431 \u0431\u0440\u0430\u0443\u0437\u044A\u0440 ({brow_name}) \u0435 \u043E\u0441\u0442\u0430\u0440\u044F\u043B.",msgmore:"\u0410\u043A\u0442\u0443\u0430\u043B\u0438\u0437\u0438\u0440\u0430\u0439\u0442\u0435 \u0431\u0440\u0430\u0443\u0437\u044A\u0440\u0430 \u0441\u0438 \u0437\u0430 \u043F\u043E\u0432\u0435\u0447\u0435 \u0441\u0438\u0433\u0443\u0440\u043D\u043E\u0441\u0442, \u0431\u044A\u0440\u0437\u0438\u043D\u0430 \u0438 \u043D\u0430\u0439-\u0434\u043E\u0431\u0440\u043E\u0442\u043E \u0438\u0437\u0436\u0438\u0432\u044F\u0432\u0430\u043D\u0435 \u043D\u0430 \u0442\u043E\u0437\u0438 \u0441\u0430\u0439\u0442.",bupdate:"\u0410\u043A\u0442\u0443\u0430\u043B\u0438\u0437\u0438\u0440\u0430\u043D\u0435 \u043D\u0430 \u0431\u0440\u0430\u0443\u0437\u044A\u0440\u0430",bignore:"\u0438\u0433\u043D\u043E\u0440\u0438\u0440\u0430\u0439",remind:"\u0429\u0435 \u0432\u0438 \u0431\u044A\u0434\u0435 \u043D\u0430\u043F\u043E\u043C\u043D\u0435\u043D\u043E \u0441\u043B\u0435\u0434 {days} \u0434\u043D\u0438.",bnever:"\u041D\u0438\u043A\u043E\u0433\u0430 \u043F\u043E\u0432\u0435\u0447\u0435 \u0434\u0430 \u043D\u0435 \u0441\u0435 \u043F\u043E\u043A\u0430\u0437\u0432\u0430"},r.ca={msg:"El teu navegador ({brow_name}) est\xE0 desactualitzat.",msgmore:"Actualitzeu el vostre navegador per obtenir m\xE9s seguretat, velocitat i una millor experi\xE8ncia en aquest lloc.",bupdate:"Actualitza el navegador",bignore:"Ignorar",remind:"T'ho recordarem d'aqu\xED a {days} dies.",bnever:"No ho tornis a mostrar"},r.cs={msg:"V\xE1\u0161 prohl\xED\u017Ee\u010D ({brow_name}) je zastaral\xFD.",msgmore:"Aktualizujte prohl\xED\u017Ee\u010D pro lep\u0161\xED zabezpe\u010Den\xED, rychlost a nejlep\u0161\xED z\xE1\u017Eitek z tohoto webu.",bupdate:"Aktualizovat prohl\xED\u017Ee\u010D",bignore:"Ignorovat",remind:"Znovu budete upozorn\u011Bni za {days} dn\u016F.",bnever:"Ji\u017E nezobrazovat"},r.cy={msg:"Mae eich porwr gwe ({brow_name}) angen ei ddiweddaru.",msgmore:"Diweddarwch eich porwr i gael mwy o ddiogelwch, cyflymder a'r profiad gorau ar y safle hwn.",bupdate:"Diweddaru porwr",bignore:"Anwybyddu",remind:"Byddwn yn eich atgoffa mewn {days} diwrnod.",bnever:"Peidiwch \xE2 dangos eto"},r.da={msg:"Din web browser ({brow_name}) er for\xE6ldet",msgmore:"Opdater din browser for mere sikkerhed, hastighed og den bedste oplevelse p\xE5 denne side.",bupdate:"Opdater browser",bignore:"Ignorer",remind:"Du vil blive p\xE5mindet om {days} dage.",bnever:"Vis aldrig igen"},r.de={msg:"Ihr Webbrowser ({brow_name}) ist veraltet.",msgmore:"Aktualisieren Sie Ihren Browser f\xFCr mehr Sicherheit, Geschwindigkeit und den besten Komfort auf dieser Seite.",bupdate:"Browser aktualisieren",bignore:"Ignorieren",remind:"Sie werden in {days} Tagen wieder erinnert.",bnever:"Nie wieder anzeigen",insecure:"Ihr Webbrowser ({brow_name}) hat eine ernsthafte Sicherheitsl\xFCcke!"},r.el={msg:"\u03A4\u03BF \u03C0\u03C1\u03CC\u03B3\u03C1\u03B1\u03BC\u03BC\u03B1 \u03C0\u03B5\u03C1\u03B9\u03AE\u03B3\u03B7\u03C3\u03AE\u03C2 \u03C3\u03B1\u03C2 ({brow_name}) \u03B5\u03AF\u03BD\u03B1\u03B9 \u03B1\u03C0\u03B1\u03C1\u03C7\u03B1\u03B9\u03C9\u03BC\u03AD\u03BD\u03BF.",msgmore:"\u0395\u03BD\u03B7\u03BC\u03B5\u03C1\u03CE\u03C3\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CC\u03B3\u03C1\u03B1\u03BC\u03BC\u03B1 \u03C0\u03B5\u03C1\u03B9\u03AE\u03B3\u03B7\u03C3\u03AE\u03C2 \u03C3\u03B1\u03C2 \u03B3\u03B9\u03B1 \u03C0\u03B5\u03C1\u03B9\u03C3\u03C3\u03CC\u03C4\u03B5\u03C1\u03B7 \u03B1\u03C3\u03C6\u03AC\u03BB\u03B5\u03B9\u03B1, \u03C4\u03B1\u03C7\u03CD\u03C4\u03B7\u03C4\u03B1 \u03BA\u03B1\u03B9 \u03C4\u03B7\u03BD \u03BA\u03B1\u03BB\u03CD\u03C4\u03B5\u03C1\u03B7 \u03B5\u03BC\u03C0\u03B5\u03B9\u03C1\u03AF\u03B1 \u03C3' \u03B1\u03C5\u03C4\u03CC\u03BD \u03C4\u03BF\u03BD \u03B9\u03C3\u03C4\u03CC\u03C4\u03BF\u03C0\u03BF.",bupdate:"\u0395\u03BD\u03B7\u03BC\u03B5\u03C1\u03CE\u03C3\u03C4\u03B5 \u03C4\u03BF \u03C0\u03C1\u03CC\u03B3\u03C1\u03B1\u03BC\u03BC\u03B1 \u03C0\u03B5\u03C1\u03B9\u03AE\u03B3\u03B7\u03C3\u03B7\u03C2",bignore:"\u0391\u03B3\u03BD\u03BF\u03AE\u03C3\u03C4\u03B5",remind:"\u0398\u03B1 \u03C3\u03B1\u03C2 \u03C4\u03BF \u03C5\u03C0\u03B5\u03BD\u03B8\u03C5\u03BC\u03AF\u03C3\u03BF\u03C5\u03BC\u03B5 \u03C3\u03B5 {days} \u03B7\u03BC\u03AD\u03C1\u03B5\u03C2.",bnever:"\u039D\u03B1 \u03BC\u03B7\u03BD \u03B5\u03BC\u03C6\u03B1\u03BD\u03B9\u03C3\u03C4\u03B5\u03AF \u03BE\u03B1\u03BD\u03AC"},r.es={msg:"Su navegador web ({brow_name}) est\xE1 desactualizado.",msgmore:"Actualice su navegador para obtener m\xE1s seguridad, velocidad y para disfrutar de la mejor experiencia en este sitio.",bupdate:"Actualizar navegador",bignore:"Ignorar",remind:"Se le recordar\xE1 en {days} d\xEDas.",bnever:"No mostrar de nuevo"},r.et={msg:"Teie veebilehitseja ({brow_name}) on vananenud.",msgmore:"Veebilehitseja uuendamisega kaasneb nii parem turvalisus, kiirus kui ka kasutusmugavus.",bupdate:"Uuenda veebilehitsejat",bignore:"Eira",remind:"Uus meeldetuletus {days} p\xE4eva p\xE4rast.",bnever:"\xC4ra kunagi enam n\xE4ita"},r.fa={msg:"\u0645\u0631\u0648\u0631\u06AF\u0631 \u0634\u0645\u0627 ({brow_name}) \u0642\u062F\u06CC\u0645\u06CC \u0627\u0633\u062A.",msgmore:"\u0628\u0631\u0627\u06CC \u0627\u06CC\u0645\u0646\u06CC\u060C \u0633\u0631\u0639\u062A \u0648 \u062A\u062C\u0631\u0628\u0647 \u0628\u0647\u062A\u0631 \u0645\u0631\u0648\u0631\u06AF\u0631 \u062E\u0648\u062F \u0631\u0627 \u0628\u0647\u200C\u0631\u0648\u0632 \u06A9\u0646\u06CC\u062F.",bupdate:"\u0628\u0647\u200C\u0631\u0648\u0632\u0631\u0633\u0627\u0646\u06CC \u0645\u0631\u0648\u0631\u06AF\u0631",bignore:"\u0646\u0627\u062F\u06CC\u062F\u0647 \u06AF\u0631\u0641\u062A\u0646",remind:"\u0628\u0647 \u0634\u0645\u0627 \u062A\u0627 {days} \u0631\u0648\u0632 \u062F\u06CC\u06AF\u0631 \u062F\u0648\u0628\u0627\u0631\u0647 \u06CC\u0627\u062F\u200C\u0622\u0648\u0631\u06CC \u062E\u0648\u0627\u0647\u062F \u0634\u062F.",bnever:"\u0647\u0631\u06AF\u0632 \u0646\u0645\u0627\u06CC\u0634 \u0646\u062F\u0647"},r.fi={msg:"Selaimesi ({brow_name}) on vanhentunut.",msgmore:"P\xE4ivit\xE4 selaimesi saadaksesi tietoturvap\xE4ivityksi\xE4, nopeutta sek\xE4 parhaan k\xE4ytt\xF6kokemuksen sivustolla.",bupdate:"P\xE4ivit\xE4 selain",bignore:"Ohita",remind:"Saat uuden muistutuksen {days} p\xE4iv\xE4n p\xE4\xE4st\xE4.",bnever:"\xC4l\xE4 n\xE4yt\xE4 uudestaan"},r.fr={msg:"Votre navigateur Web ({brow_name}) n'est pas \xE0 jour.",msgmore:"Mettez \xE0 jour votre navigateur pour plus de s\xE9curit\xE9 et de rapidit\xE9 et une meilleure exp\xE9rience sur ce site.",bupdate:"Mettre \xE0 jour le navigateur",bignore:"Ignorer",remind:"Vous serez rappel\xE9 dans {days} jours.",bnever:"Ne plus afficher"},r.gl={msg:"T\xE1 an l\xEDonl\xE9itheoir agat ({brow_name}) as d\xE1ta.",msgmore:"Actualiza o teu navegador para obter m\xE1is seguridade, rapidez e mellor experiencia neste sitio.",bupdate:"Actualizar navegador web",bignore:"Ignorar",remind:"Lembraralle en {days} d\xEDas.",bnever:"Non volver mostrar m\xE1is"},r.he={msg:"\u05D3\u05E4\u05D3\u05E4\u05DF ({brow_name}) \u05E9\u05DC\u05DA \u05D0\u05D9\u05E0\u05D5 \u05DE\u05E2\u05D5\u05D3\u05DB\u05DF.",msgmore:"\u05E2\u05D3\u05DB\u05DF/\u05D9 \u05D0\u05EA \u05D4\u05D3\u05E4\u05D3\u05E4\u05DF \u05E9\u05DC\u05DA \u05DC\u05E9\u05D9\u05E4\u05D5\u05E8 \u05D4\u05D0\u05D1\u05D8\u05D7\u05D4 \u05D5\u05D4\u05DE\u05D4\u05D9\u05E8\u05D5\u05EA \u05D5\u05DB\u05D3\u05D9 \u05DC\u05D9\u05D4\u05E0\u05D5\u05EA \u05DE\u05D4\u05D7\u05D5\u05D5\u05D9\u05D4 \u05D4\u05D8\u05D5\u05D1\u05D4 \u05D1\u05D9\u05D5\u05EA\u05E8 \u05D1\u05D0\u05EA\u05E8 \u05D6\u05D4.",bupdate:"\u05E2\u05D3\u05DB\u05DF \u05D3\u05E4\u05D3\u05E4\u05DF",bignore:"\u05D4\u05EA\u05E2\u05DC\u05DD",remind:"\u05EA\u05E7\u05D1\u05DC/\u05D9 \u05EA\u05D6\u05DB\u05D5\u05E8\u05EA \u05D1\u05E2\u05D5\u05D3  {days} \u05D9\u05DE\u05D9\u05DD.",bnever:"\u05D0\u05DC \u05EA\u05E6\u05D9\u05D2 \u05E9\u05D5\u05D1"},r.hi={msg:"\u0906\u092A\u0915\u093E \u0935\u0947\u092C \u092C\u094D\u0930\u093E\u0909\u091C\u093C\u0930 ({brow_name}) \u092A\u0941\u0930\u093E\u0928\u093E \u0939\u0948\u0964",msgmore:"\u0907\u0938 \u0938\u093E\u0907\u091F \u092A\u0930 \u0905\u0927\u093F\u0915 \u0938\u0941\u0930\u0915\u094D\u0937\u093E, \u0917\u0924\u093F \u0914\u0930 \u0938\u0930\u094D\u0935\u094B\u0924\u094D\u0924\u092E \u0905\u0928\u0941\u092D\u0935 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0905\u092A\u0928\u0947 \u092C\u094D\u0930\u093E\u0909\u095B\u0930 \u0915\u094B \u0905\u092A\u0921\u0947\u091F \u0915\u0930\u0947\u0902 \u0964",bupdate:"\u092C\u094D\u0930\u093E\u0909\u091C\u093C\u0930 \u0905\u092A\u0921\u0947\u091F \u0915\u0930\u0947\u0902",bignore:"\u0928\u091C\u0930\u0905\u0902\u0926\u093E\u091C \u0915\u0930\u0947\u0902",remind:"\u0906\u092A\u0915\u094B {days} \u0926\u093F\u0928\u094B\u0902 \u092E\u0947\u0902 \u092F\u093E\u0926 \u0926\u093F\u0932\u093E\u092F\u093E \u091C\u093E\u090F\u0917\u093E\u0964",bnever:"\u092B\u093F\u0930 \u0915\u092D\u0940 \u092E\u0924 \u0926\u093F\u0916\u093E\u0928\u093E"},r.hu={msg:"Az \xD6n webb\xF6ng\xE9sz\u0151je ({brow_name}) elavult.",msgmore:"Friss\xEDtse b\xF6ng\xE9sz\u0151j\xE9t a nagyobb biztons\xE1g, sebess\xE9g \xE9s \xE9lm\xE9ny \xE9rdek\xE9ben!",bupdate:"B\xF6ng\xE9sz\u0151 friss\xEDt\xE9se",bignore:"Mell\u0151z\xE9s",remind:"\xDAjra eml\xE9keztet\xFCnk {days} napon bel\xFCl.",bnever:"Ne mutassa t\xF6bbet"},r.id={msg:"Peramban web ({brow_name}) Anda sudah usang.",msgmore:"Perbarui peramban Anda untuk pengalaman terbaik, lebih aman, dan cepat di situs ini.",bupdate:"Perbarui peramban",bignore:"Abaikan",remind:"Anda akan diingatkan kembali dalam {days} hari.",bnever:"Jangan pernah tampilkan lagi"},r.it={msg:"Il tuo browser ({brow_name}) non \xE8 aggiornato.",msgmore:"Aggiorna il browser per una maggiore sicurezza, velocit\xE0 e la migliore esperienza su questo sito.",bupdate:"Aggiorna browser",bignore:"Ignora",remind:"Riceverai un promemoria tra {days} giorni.",bnever:"Non mostrare di nuovo"},r.ja={msg:"\u304A\u4F7F\u3044\u306E\u30D6\u30E9\u30A6\u30B6\uFF08{brow_name}\uFF09\u306F\u6700\u65B0\u7248\u3067\u306F\u3042\u308A\u307E\u305B\u3093\u3002",msgmore:"\u30BB\u30AD\u30E5\u30EA\u30C6\u30A3\u3001\u30B9\u30D4\u30FC\u30C9\u3001\u305D\u3057\u3066\u3053\u306E\u30B5\u30A4\u30C8\u3067\u306E\u6700\u826F\u306E\u4F53\u9A13\u306E\u305F\u3081\u306B\u304A\u4F7F\u3044\u306E\u30D6\u30E9\u30A6\u30B6\u3092\u66F4\u65B0\u3057\u3066\u304F\u3060\u3055\u3044\u3002",bupdate:"\u30D6\u30E9\u30A6\u30B6\u3092\u66F4\u65B0\u3059\u308B",bignore:"\u7121\u8996\u3059\u308B",remind:"{days} \u65E5\u5F8C\u306B\u3082\u3046\u4E00\u5EA6\u304A\u77E5\u3089\u305B\u3057\u307E\u3059\u3002",bnever:"\u6B21\u56DE\u304B\u3089\u8868\u793A\u3057\u306A\u3044"},r.ko={msg:"\uADC0\uD558\uC758 \uC6F9 \uBE0C\uB77C\uC6B0\uC800({brow_name})\uB294 \uC624\uB798\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",msgmore:"\uC774 \uC0AC\uC774\uD2B8\uC5D0\uC11C \uBCF4\uC548, \uC18D\uB3C4\uC640 \uCD5C\uC0C1\uC758 \uACBD\uD5D8\uC744 \uC5BB\uC73C\uB824\uBA74 \uBE0C\uB77C\uC6B0\uC800\uB97C \uC5C5\uB370\uC774\uD2B8\uD558\uC2ED\uC2DC\uC624.",bupdate:"\uBE0C\uB77C\uC6B0\uC800 \uC5C5\uB370\uC774\uD2B8\uD558\uAE30",bignore:"\uBB34\uC2DC\uD558\uAE30",remind:"{days}\uC77C \uD6C4\uC5D0 \uC54C\uB824 \uB4DC\uB9BD\uB2C8\uB2E4.",bnever:"\uB2E4\uC2DC \uD45C\uC2DC\uD558\uC9C0 \uC54A\uAE30"},r.lt={msg:"J\u016Bs\u0173 nar\u0161ykl\u0117 ({brow_name}) yra pasenusi.",msgmore:"Atsinaujinkite savo nar\u0161ykl\u0119 nor\u0117dami gauti daugiau saugumo, grei\u010Dio ir pa\u010Di\u0173 geriausi\u0173 patir\u010Di\u0173 \u0161ioje svetain\u0117je.",bupdate:"Atnaujinti nar\u0161ykl\u0119",bignore:"Nepaisyti",remind:"Jums bus priminta po {days} dien\u0173.",bnever:"Daugiau niekada nerodyti"},r.lv={msg:"J\u016Bsu p\u0101rl\u016Bkprogramma ({brow_name}) ir novecojusi.",msgmore:"Atjaunojiet savu p\u0101rl\u016Bkprogrammu liel\u0101kai dro\u0161\u012Bbai, \u0101trumam un lab\u0101kai pieredzei ar \u0161o vietni.",bupdate:"Atjaunin\u0101t p\u0101rl\u016Bkprogrammu",bignore:"Ignor\u0113t",remind:"Jums tiks par\u0101d\u012Bts atg\u0101din\u0101jums p\u0113c {days} dien\u0101m.",bnever:"Vairs ner\u0101d\u012Bt"},r.ms={msg:"Pelayar web anda ({brow_name}) sudah lapuk.",msgmore:"Kemas kini pelayar anda untuk lebih keselamatan, kelajuan dan pengalaman terbaik di laman web ini.",bupdate:"Kemas kini pelayar",bignore:"Abaikan",remind:"Anda akan diingatkan dalam {days} hari.",bnever:"Jangan tunjukkan lagi"},r.nl={msg:"Uw webbrowser ({brow_name}) is verouderd.",msgmore:"Update uw browser voor meer veiligheid, snelheid en om deze site optimaal te kunnen gebruiken.",bupdate:"Browser updaten",bignore:"Negeren",remind:"We zullen u er in {days} dagen aan herinneren.",bnever:"Nooit meer tonen"},r.no=r.nn=r.nb={msg:"Nettleseren din ({brow_name}) er utdatert.",msgmore:"Oppdater nettleseren din for \xF8kt sikkerhet, hastighet og den beste opplevelsen p\xE5 dette nettstedet.",bupdate:"Oppdater nettleser",bignore:"Ignorer",remind:"Du vil f\xE5 en p\xE5minnelse om {days} dager.",bnever:"Aldri vis igjen"},r.pl={msg:"Twoja przegl\u0105darka ({brow_name}) jest nieaktualna.",msgmore:"Zaktualizuj przegl\u0105dark\u0119, by korzysta\u0107 z tej strony bezpieczniej, szybciej i po prostu sprawniej.",bupdate:"Aktualizuj przegl\u0105dark\u0119",bignore:"Ignoruj",remind:"Przypomnimy o tym za {days} dni.",bnever:"Nie pokazuj wi\u0119cej"},r.pt={msg:"Seu navegador da web ({brow_name}) est\xE1 desatualizado.",msgmore:"Atualize seu navegador para ter mais seguran\xE7a e velocidade, al\xE9m da melhor experi\xEAncia neste site.",bupdate:"Atualizar navegador",bignore:"Ignorar",remind:"Voc\xEA ser\xE1 relembrado em {days} dias.",bnever:"N\xE3o mostrar novamente"},r.ro={msg:"Browserul t\u0103u ({brow_name}) nu este actualizat.",msgmore:"Actualizeaz\u0103 browserul pentru o mai mare siguran\u021B\u0103, vitez\u0103 \u0219i cea mai bun\u0103 experien\u021B\u0103 pe acest site.",bupdate:"Actualizeaz\u0103 browser",bignore:"Ignor\u0103",remind:"\u021Ai se va reaminti peste {days} zile.",bnever:"Nu mai ar\u0103ta"},r.ru={msg:"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 ({brow_name}) \u0443\u0441\u0442\u0430\u0440\u0435\u043B.",msgmore:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u0435 \u0432\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0434\u043B\u044F \u043F\u043E\u0432\u044B\u0448\u0435\u043D\u0438\u044F \u0443\u0440\u043E\u0432\u043D\u044F \u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u0438, \u0441\u043A\u043E\u0440\u043E\u0441\u0442\u0438 \u0438 \u043A\u043E\u043C\u0444\u043E\u0440\u0442\u0430 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u043D\u0438\u044F \u044D\u0442\u043E\u0433\u043E \u0441\u0430\u0439\u0442\u0430.",bupdate:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C \u0431\u0440\u0430\u0443\u0437\u0435\u0440",bignore:"\u0418\u0433\u043D\u043E\u0440\u0438\u0440\u043E\u0432\u0430\u0442\u044C",remind:"\u0412\u044B \u043F\u043E\u043B\u0443\u0447\u0438\u0442\u0435 \u043D\u0430\u043F\u043E\u043C\u0438\u043D\u0430\u043D\u0438\u0435 \u0447\u0435\u0440\u0435\u0437 {days} \u0434\u043D\u0435\u0439.",bnever:"\u0411\u043E\u043B\u044C\u0448\u0435 \u043D\u0435 \u043F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C "},r.sk={msg:"V\xE1\u0161 internetov\xFD prehliada\u010D ({brow_name}) je zastaran\xFD.",msgmore:"Pre v\xE4\u010D\u0161iu bezpe\u010Dnos\u0165, r\xFDchlos\u0165 a lep\u0161iu sk\xFAsenos\u0165 s touto str\xE1nkou si aktualizujte svoj prehliada\u010D.",bupdate:"Aktualizova\u0165 prehliada\u010D",bignore:"Ignorova\u0165",remind:"Bude v\xE1m to pripomenut\xE9 o {days} dn\xED.",bnever:"U\u017E nikdy viac neukazova\u0165"},r.sl={msg:"Va\u0161 spletni brskalnik ({brow_name}) je zastarel.",msgmore:"Posodobite svoj brskalnik za dodatno varnost, hitrost in najbolj\u0161o izku\u0161njo na tem spletnem mestu.",bupdate:"Posodobi brskalnik",bignore:"Prezri",remind:"Opomnik boste prejeli \u010Dez toliko dni: {days}.",bnever:"Ne prika\u017Ei ve\u010D"},r.sq={msg:"Shfletuesi juaj ({brow_name}) \xEBsht\xEB i vjetruar.",msgmore:"P\xEBrdit\xEBsoni shfletuesin tuaj p\xEBr m\xEB tep\xEBr siguri, shpejt\xEBsi dhe p\xEBr m\xEB t\xEB mirin e funksionimeve n\xEB k\xEBt\xEB sajt.",bupdate:"P\xEBrdit\xEBso shfletuesin",bignore:"Shp\xEBrfille",remind:"Do t\u2019ju rikujtohet pas {days} dit\xEBsh.",bnever:"Mos e shfaq kurr\xEB m\xEB"},r.sr={msg:"Va\u0161 pretra\u017Eiva\u010D ({brow_name}) je zastareo.",msgmore:"Ima poznate sigurnosne probleme i najverovatnije ne\u0107e prikazati sve funkcionalnisti ovog i drugih sajtova.",bupdate:"Nadogradi pretra\u017Eiva\u010D",bignore:"Ignorisi",remind:"Zaboravic\u0301ete za {days} dana.",bnever:"Ne prikazuj opet"},r.sv={msg:"Din webbl\xE4sare ({brow_name}) \xE4r f\xF6r\xE5ldrad. ",msgmore:"Uppdatera din webbl\xE4sare f\xF6r mer s\xE4kerhet, hastighet och den b\xE4sta upplevelsen p\xE5 den h\xE4r sajten. ",bupdate:"Uppdatera webbl\xE4saren",bignore:"Ignorera",remind:"Du f\xE5r en p\xE5minnelse om {days} dagar.",bnever:"Visa aldrig igen"},r.th={msg:"\u0E40\u0E27\u0E47\u0E1A\u0E40\u0E1A\u0E23\u0E32\u0E27\u0E4C\u0E40\u0E0B\u0E2D\u0E23\u0E4C\u0E02\u0E2D\u0E07\u0E04\u0E38\u0E13 ({brow_name}) \u0E25\u0E49\u0E32\u0E2A\u0E21\u0E31\u0E22\u0E41\u0E25\u0E49\u0E27",msgmore:"\u0E2D\u0E31\u0E1B\u0E40\u0E14\u0E17\u0E40\u0E1A\u0E23\u0E32\u0E27\u0E4C\u0E40\u0E0B\u0E2D\u0E23\u0E4C\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E27\u0E32\u0E21\u0E1B\u0E25\u0E2D\u0E14\u0E20\u0E31\u0E22, \u0E04\u0E27\u0E32\u0E21\u0E40\u0E23\u0E47\u0E27 \u0E41\u0E25\u0E30\u0E1B\u0E23\u0E30\u0E2A\u0E1A\u0E01\u0E32\u0E23\u0E13\u0E4C\u0E17\u0E35\u0E48\u0E14\u0E35\u0E17\u0E35\u0E48\u0E2A\u0E38\u0E14\u0E1A\u0E19\u0E40\u0E27\u0E47\u0E1A\u0E44\u0E0B\u0E15\u0E4C\u0E19\u0E35\u0E49",bupdate:"\u0E2D\u0E31\u0E1B\u0E40\u0E14\u0E17\u0E40\u0E1A\u0E23\u0E32\u0E27\u0E4C\u0E40\u0E0B\u0E2D\u0E23\u0E4C",bignore:"\u0E02\u0E49\u0E32\u0E21",remind:"\u0E04\u0E38\u0E13\u0E08\u0E30\u0E44\u0E14\u0E49\u0E23\u0E31\u0E1A\u0E01\u0E32\u0E23\u0E41\u0E08\u0E49\u0E07\u0E40\u0E15\u0E37\u0E2D\u0E19\u0E43\u0E19 {days} \u0E27\u0E31\u0E19",bnever:"\u0E44\u0E21\u0E48\u0E15\u0E49\u0E2D\u0E07\u0E41\u0E2A\u0E14\u0E07\u0E2D\u0E35\u0E01"},r.tr={msg:"Web taray\u0131c\u0131n\u0131z ({brow_name}) g\xFCncel de\u011Fil.",msgmore:"Daha fazla g\xFCvenlik ve h\u0131z ile bu sitede en iyi deneyim i\xE7in taray\u0131c\u0131n\u0131z\u0131 g\xFCncelleyin.",bupdate:"Taray\u0131c\u0131y\u0131 g\xFCncelle",bignore:"Yok say",remind:"{days} g\xFCn sonra bir hat\u0131rlatma alacaks\u0131n\u0131z.",bnever:"Bir daha g\xF6sterme"},r.uk={msg:"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 ({brow_name}) \u0437\u0430\u0441\u0442\u0430\u0440\u0456\u043B\u0438\u0439.",msgmore:"\u041E\u043D\u043E\u0432\u0456\u0442\u044C \u0441\u0432\u0456\u0439 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0434\u043B\u044F \u0431\u0456\u043B\u044C\u0448\u043E\u0457 \u0431\u0435\u0437\u043F\u0435\u043A\u0438, \u0448\u0432\u0438\u0434\u043A\u043E\u0441\u0442\u0456 \u0442\u0430 \u043F\u043E\u0432\u043D\u043E\u0446\u0456\u043D\u043D\u043E\u0457 \u0440\u043E\u0431\u043E\u0442\u0438 \u0446\u044C\u043E\u0433\u043E \u0441\u0430\u0439\u0442\u0443.",bupdate:"\u041E\u043D\u043E\u0432\u0438\u0442\u0438 \u0431\u0440\u0430\u0443\u0437\u0435\u0440",bignore:"\u041F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u0438",remind:"\u0412\u0438 \u043E\u0442\u0440\u0438\u043C\u0430\u0454\u0442\u0435 \u043D\u0430\u0433\u0430\u0434\u0443\u0432\u0430\u043D\u043D\u044F \u0447\u0435\u0440\u0435\u0437 {days} \u0434\u043D\u0456\u0432.",bnever:"\u0411\u0456\u043B\u044C\u0448\u0435 \u043D\u0435 \u043F\u043E\u043A\u0430\u0437\u0443\u0432\u0430\u0442\u0438"},r.uz={msg:"Sizning ({brow_name}) veb-brauzeringiz eskirgan",msgmore:"Xavfsizlik, tezkorlik va ushbu sayt imkoniyatlaridan to`liq foydalanish uchun brauzeringizni yangilang.",bupdate:"Brauzeringizni yangilang",bignore:"E\u2019tibor bermaslik",remind:"Sizga {days} kundan so`ng eslatammiz.",bnever:"Hech qachon qayta ko'rsatmang"},r.vi={msg:"Tr\xECnh duy\u1EC7t web c\u1EE7a b\u1EA1n ({brow_name}) \u0111\xE3 l\u1ED7i th\u1EDDi.",msgmore:"C\u1EADp nh\u1EADt tr\xECnh duy\u1EC7t c\u1EE7a b\u1EA1n \u0111\u1EC3 c\xF3 th\xEAm b\u1EA3o m\u1EADt, t\u1ED1c \u0111\u1ED9 v\xE0 tr\u1EA3i nghi\u1EC7m t\u1ED1t nh\u1EA5t tr\xEAn trang web n\xE0y.",bupdate:"C\u1EADp nh\u1EADt tr\xECnh duy\u1EC7t",bignore:"B\u1ECF qua",remind:"B\u1EA1n s\u1EBD \u0111\u01B0\u1EE3c nh\u1EAFc nh\u1EDF sau {days} ng\xE0y.",bnever:"Kh\xF4ng bao gi\u1EDD hi\u1EC3n th\u1ECB l\u1EA1i"},r.zh={msg:"\u60A8\u7684\u7F51\u9875\u6D4F\u89C8\u5668\uFF08{brow_name}\uFF09\u5DF2\u8FC7\u671F\u3002",msgmore:"\u66F4\u65B0\u60A8\u7684\u6D4F\u89C8\u5668\uFF0C\u4EE5\u4FBF\u5728\u8BE5\u7F51\u7AD9\u4E0A\u83B7\u5F97\u66F4\u5B89\u5168\u3001\u66F4\u5FEB\u901F\u548C\u6700\u597D\u7684\u4F53\u9A8C\u3002",bupdate:"\u66F4\u65B0\u6D4F\u89C8\u5668",bignore:"\u5FFD\u7565",remind:"\u4F1A\u5728{days}\u5929\u540E\u63D0\u9192\u60A8\u3002",bnever:"\u4E0D\u518D\u663E\u793A"},r["zh-tw"]=r["zh-hans-cn"]={msg:"\u60A8\u7684\u7DB2\u8DEF\u700F\u89BD\u5668\uFF08{brow_name}\uFF09\u5DF2\u904E\u820A\u3002",msgmore:"\u66F4\u65B0\u60A8\u7684\u700F\u89BD\u5668\u4EE5\u7372\u5F97\u66F4\u4F73\u7684\u5B89\u5168\u6027\u3001\u901F\u5EA6\u4EE5\u53CA\u5728\u6B64\u7DB2\u7AD9\u7684\u6700\u4F73\u9AD4\u9A57\u3002",bupdate:"\u66F4\u65B0\u700F\u89BD\u5668",bignore:"\u5FFD\u7565",remind:"\u60A8\u5C07\u5728 {days} \u5929\u5F8C\u6536\u5230\u63D0\u9192\u3002",bnever:"\u4E0D\u8981\u518D\u986F\u793A"};var d=t["text_for_"+i.n+"_in_"+t.ll]||t["text_for_"+i.n]||t["text_"+t.llfull]||t["text_in_"+t.ll]||t["text_"+t.ll]||t.text;if(r=o=r[t.llfull]||r[t.ll]||r.en,d)if(typeof d=="string")r=o=d;else for(var m in d)o[m]=d[m];t.browser.is_insecure&&o.insecure&&(o.msg=o.insecure),o.msg&&(r='<b class="buorg-mainmsg">'+r.msg+'</b> <span class="buorg-moremsg">'+r.msgmore+'</span> <span class="buorg-buttons"><a{up_but}>'+r.bupdate+"</a> <a{ignore_but}>"+r.bignore+"</a></span>");var p="";t.newwindow&&(p=' target="_blank" rel="noopener"');var f=t.div=document.createElement("div");f.id=f.className="buorg";var _="<style>.buorg-icon {width: 22px; height: 16px; vertical-align: middle; position: relative; top: -0.05em; display: inline-block; background: no-repeat 0px center url(https://browser-update.org/static/img/small/"+i.n+".png);}</style>",y="<style>.buorg {position:absolute;position:fixed;z-index:111111; width:100%; top:0px; left:0px; border-bottom:1px solid #A29330; text-align:center;  color:#000; background-color: #fff8ea; font: 18px Calibri,Helvetica,sans-serif; box-shadow: 0 0 5px rgba(0,0,0,0.2);animation: buorgfly 1s ease-out 0s;}.buorg-pad { padding: 9px;  line-height: 1.7em; }.buorg-buttons { display: block; text-align: center; }#buorgig,#buorgul,#buorgpermanent { color: #fff; text-decoration: none; cursor:pointer; box-shadow: 0 0 2px rgba(0,0,0,0.4); padding: 1px 10px; border-radius: 4px; font-weight: normal; background: #5ab400;    white-space: nowrap;    margin: 0 2px; display: inline-block;}#buorgig { background-color: #edbc68;}@media only screen and (max-width: 700px){.buorg div { padding:5px 12px 5px 9px; line-height: 1.3em;}}@keyframes buorgfly {from {opacity:0;transform:translateY(-50px)} to {opacity:1;transform:translateY(0px)}}.buorg-fadeout {transition: visibility 0s 8.5s, opacity 8s ease-out .5s;}</style>";o.msg&&(t.ll=="ar"||t.ll=="he"||t.ll=="fa")&&(y+="<style>.buorg {direction:RTL; unicode-bidi:embed;}</style>"),!o.msg&&r.indexOf&&r.indexOf("%s")!==-1?(r=n(r,i.t,' id="buorgul" href="'+t.url+'"'+p),_+="<style>.buorg {position:absolute;position:fixed;z-index:111111; width:100%; top:0px; left:0px; border-bottom:1px solid #A29330; text-align:left; cursor:pointer; color:#000; font: 13px Arial,sans-serif;color:#000;}.buorg div { padding:5px 36px 5px 40px; }.buorg>div>a,.buorg>div>a:visited{color:#E25600; text-decoration: underline;}#buorgclose{position:absolute;right:6px;top:0px;height:20px;width:12px;font:18px bold;padding:0;}#buorga{display:block;}@media only screen and (max-width: 700px){.buorg div { padding:5px 15px 5px 9px; }}</style>",f.innerHTML="<div>"+r+'<div id="buorgclose"><a id="buorga">&times;</a></div></div>'+_,t.addmargin=!0):(t.style==="bottom"?y+="<style>.buorg {bottom:0; top:auto; border-top:1px solid #A29330; } @keyframes buorgfly {from {opacity:0;transform:translateY(50px)} to {opacity:1;transform:translateY(0px)}}</style>":t.style==="corner"?y+="<style> .buorg { text-align: left; width:300px; top:50px; right:50px; left:auto; border:1px solid #A29330; } .buorg-buttons, .buorg-mainmsg, .buorg-moremsg { display: block; } .buorg-buttons a {margin: 4px 2px;} .buorg-icon {display: none;}</style>":t.addmargin=!0,r=r.replace("{brow_name}",i.t).replace("{up_but}",' id="buorgul" href="'+t.url+'"'+p).replace("{ignore_but}",' id="buorgig" role="button" tabindex="0"'),f.innerHTML='<div class="buorg-pad" role="status" aria-live="polite"><span class="buorg-icon"> </span>'+r+"</div>"+_+y),t.text=r,t.container?(t.container.appendChild(f),t.addmargin=!1):document.body.insertBefore(f,document.body.firstChild);var T=document.getElementById("buorgul");if(T&&(T.onclick=function(ee){f.onclick=null,t.onclick(t),!t.noclose&&(t.setCookie(t.reminderClosed),t.noclose||(f.style.display="none",t.addmargin&&t.shift_page_down!==!1&&(P.style.marginTop=t.bodymt)))}),d||(f.style.cursor="pointer",f.onclick=function(){t.newwindow?window.open(t.url,"_blank"):window.location.href=t.url,t.setCookie(t.reminderClosed),t.onclick(t)}),t.addmargin&&t.shift_page_down!==!1){var P=document.getElementsByTagName("html")[0]||document.body;t.bodymt=P.style.marginTop,P.style.marginTop=f.clientHeight+"px"}var A=document.getElementById("buorga")||document.getElementById("buorgig");if(A&&(A.onclick=function(ee){return f.onclick=null,t.onclose(t),t.addmargin&&t.shift_page_down!==!1&&(P.style.marginTop=t.bodymt),t.setCookie(t.reminderClosed),!t.no_permanent_hide&&o.bnever&&o.remind?(t.div.innerHTML='<div class="buorg-pad"><span class="buorg-moremsg">'+(t.reminderClosed>24?o.remind.replace("{days}",Math.round(t.reminderClosed/24)):"")+'</span> <span class="buorg-buttons"><a id="buorgpermanent" role="button" tabindex="0" href="'+t.url_permanent_hide+'"'+p+">"+o.bnever+"</a></span></div>"+_+y,f.className="buorg buorg-fadeout",document.getElementById("buorgpermanent").onclick=function(fe){t.setCookie(24*365),t.div.style.display="none"},t.div.style.opacity=0,t.div.style.visibility="hidden",!1):(t.div.style.display="none",!1)},(t.noclose||t.reminderClosed==0)&&A.parentNode.removeChild(A)),t.onshow(t),t.test&&!t.dont_show_debuginfo){var j=document.createElement("script");j.src=t.domain+"/update.test.js",document.body.appendChild(j)}}});function ul(t){return new ne(3e3,!1)}function gd(){return new ne(3100,!1)}function vd(){return new ne(3101,!1)}function _d(t){return new ne(3001,!1)}function Ed(t){return new ne(3003,!1)}function yd(t){return new ne(3004,!1)}function bd(t,i){return new ne(3005,!1)}function Cd(){return new ne(3006,!1)}function Sd(){return new ne(3007,!1)}function xd(t,i){return new ne(3008,!1)}function Td(t){return new ne(3002,!1)}function Md(t,i,e,n,r){return new ne(3010,!1)}function Pd(){return new ne(3011,!1)}function Ad(){return new ne(3012,!1)}function Id(){return new ne(3200,!1)}function wd(){return new ne(3202,!1)}function kd(){return new ne(3013,!1)}function Od(t){return new ne(3014,!1)}function Dd(t){return new ne(3015,!1)}function Fd(t){return new ne(3016,!1)}function Rd(t,i){return new ne(3404,!1)}function Nd(t){return new ne(3502,!1)}function Ud(t){return new ne(3503,!1)}function Ld(){return new ne(3300,!1)}function Bd(t){return new ne(3504,!1)}function Vd(t){return new ne(3301,!1)}function jd(t,i){return new ne(3302,!1)}function zd(t){return new ne(3303,!1)}function qd(t,i){return new ne(3400,!1)}function Hd(t){return new ne(3401,!1)}function Gd(t){return new ne(3402,!1)}function $d(t,i){return new ne(3505,!1)}function fi(t){switch(t.length){case 0:return new Vi;case 1:return t[0];default:return new Hr(t)}}function Tl(t,i,e=new Map,n=new Map){let r=[],o=[],d=-1,m=null;if(i.forEach(p=>{let f=p.get("offset"),_=f==d,y=_&&m||new Map;p.forEach((T,P)=>{let A=P,j=T;if(P!=="offset")switch(A=t.normalizePropertyName(A,r),j){case Kn:j=e.get(P);break;case Dt:j=n.get(P);break;default:j=t.normalizeStyleValue(P,A,j,r);break}y.set(A,j)}),_||o.push(y),m=y,d=f}),r.length)throw Nd(r);return o}function po(t,i,e,n){switch(i){case"start":t.onStart(()=>n(e&&Gr(e,"start",t)));break;case"done":t.onDone(()=>n(e&&Gr(e,"done",t)));break;case"destroy":t.onDestroy(()=>n(e&&Gr(e,"destroy",t)));break}}function Gr(t,i,e){let n=e.totalTime,r=!!e.disabled,o=ho(t.element,t.triggerName,t.fromState,t.toState,i||t.phaseName,n??t.totalTime,r),d=t._data;return d!=null&&(o._data=d),o}function ho(t,i,e,n,r="",o=0,d){return{element:t,triggerName:i,fromState:e,toState:n,phaseName:r,totalTime:o,disabled:!!d}}function ot(t,i,e){let n=t.get(i);return n||t.set(i,n=e),n}function ml(t){let i=t.indexOf(":"),e=t.substring(1,i),n=t.slice(i+1);return[e,n]}var Kd=typeof document>"u"?null:document.documentElement;function fo(t){let i=t.parentNode||t.host||null;return i===Kd?null:i}function Qd(t){return t.substring(1,6)=="ebkit"}var Mi=null,pl=!1;function Wd(t){Mi||(Mi=Jd()||{},pl=Mi.style?"WebkitAppearance"in Mi.style:!1);let i=!0;return Mi.style&&!Qd(t)&&(i=t in Mi.style,!i&&pl&&(i="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Mi.style)),i}function Jd(){return typeof document<"u"?document.body:null}function Ml(t,i){for(;i;){if(i===t)return!0;i=fo(i)}return!1}function Pl(t,i,e){if(e)return Array.from(t.querySelectorAll(i));let n=t.querySelector(i);return n?[n]:[]}var go=(()=>{class t{validateStyleProperty(e){return Wd(e)}containsElement(e,n){return Ml(e,n)}getParentElement(e){return fo(e)}query(e,n,r){return Pl(e,n,r)}computeStyle(e,n,r){return r||""}animate(e,n,r,o,d,m=[],p){return new Vi(r,o)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=he({token:t,factory:t.\u0275fac})}return t})(),Ii=class{static NOOP=new go},wi=class{};var Xd=1e3,Al="{{",Yd="}}",Il="ng-enter",Xr="ng-leave",ir="ng-trigger",sr=".ng-trigger",hl="ng-animating",Yr=".ng-animating";function Wt(t){if(typeof t=="number")return t;let i=t.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Zr(parseFloat(i[1]),i[2])}function Zr(t,i){switch(i){case"s":return t*Xd;default:return t}}function lr(t,i,e){return t.hasOwnProperty("duration")?t:Zd(t,i,e)}function Zd(t,i,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,r,o=0,d="";if(typeof t=="string"){let m=t.match(n);if(m===null)return i.push(ul(t)),{duration:0,delay:0,easing:""};r=Zr(parseFloat(m[1]),m[2]);let p=m[3];p!=null&&(o=Zr(parseFloat(p),m[4]));let f=m[5];f&&(d=f)}else r=t;if(!e){let m=!1,p=i.length;r<0&&(i.push(gd()),m=!0),o<0&&(i.push(vd()),m=!0),m&&i.splice(p,0,ul(t))}return{duration:r,delay:o,easing:d}}function eu(t){return t.length?t[0]instanceof Map?t:t.map(i=>new Map(Object.entries(i))):[]}function Nt(t,i,e){i.forEach((n,r)=>{let o=vo(r);e&&!e.has(r)&&e.set(r,t.style[o]),t.style[o]=n})}function Ai(t,i){i.forEach((e,n)=>{let r=vo(n);t.style[r]=""})}function ln(t){return Array.isArray(t)?t.length==1?t[0]:gs(t):t}function tu(t,i,e){let n=i.params||{},r=wl(t);r.length&&r.forEach(o=>{n.hasOwnProperty(o)||e.push(_d(o))})}var eo=new RegExp(`${Al}\\s*(.+?)\\s*${Yd}`,"g");function wl(t){let i=[];if(typeof t=="string"){let e;for(;e=eo.exec(t);)i.push(e[1]);eo.lastIndex=0}return i}function dn(t,i,e){let n=`${t}`,r=n.replace(eo,(o,d)=>{let m=i[d];return m==null&&(e.push(Ed(d)),m=""),m.toString()});return r==n?t:r}var iu=/-+([a-z0-9])/g;function vo(t){return t.replace(iu,(...i)=>i[1].toUpperCase())}function nu(t,i){return t===0||i===0}function ru(t,i,e){if(e.size&&i.length){let n=i[0],r=[];if(e.forEach((o,d)=>{n.has(d)||r.push(d),n.set(d,o)}),r.length)for(let o=1;o<i.length;o++){let d=i[o];r.forEach(m=>d.set(m,_o(t,m)))}}return i}function rt(t,i,e){switch(i.type){case Z.Trigger:return t.visitTrigger(i,e);case Z.State:return t.visitState(i,e);case Z.Transition:return t.visitTransition(i,e);case Z.Sequence:return t.visitSequence(i,e);case Z.Group:return t.visitGroup(i,e);case Z.Animate:return t.visitAnimate(i,e);case Z.Keyframes:return t.visitKeyframes(i,e);case Z.Style:return t.visitStyle(i,e);case Z.Reference:return t.visitReference(i,e);case Z.AnimateChild:return t.visitAnimateChild(i,e);case Z.AnimateRef:return t.visitAnimateRef(i,e);case Z.Query:return t.visitQuery(i,e);case Z.Stagger:return t.visitStagger(i,e);default:throw yd(i.type)}}function _o(t,i){return window.getComputedStyle(t)[i]}var ou=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),cr=class extends wi{normalizePropertyName(i,e){return vo(i)}normalizeStyleValue(i,e,n,r){let o="",d=n.toString().trim();if(ou.has(e)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let m=n.match(/^[+-]?[\d\.]+([a-z]*)$/);m&&m[1].length==0&&r.push(bd(i,n))}return d+o}};var dr="*";function au(t,i){let e=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(n=>su(n,e,i)):e.push(t),e}function su(t,i,e){if(t[0]==":"){let p=lu(t,e);if(typeof p=="function"){i.push(p);return}t=p}let n=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(Dd(t)),i;let r=n[1],o=n[2],d=n[3];i.push(fl(r,d));let m=r==dr&&d==dr;o[0]=="<"&&!m&&i.push(fl(d,r))}function lu(t,i){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return i.push(Fd(t)),"* => *"}}var nr=new Set(["true","1"]),rr=new Set(["false","0"]);function fl(t,i){let e=nr.has(t)||rr.has(t),n=nr.has(i)||rr.has(i);return(r,o)=>{let d=t==dr||t==r,m=i==dr||i==o;return!d&&e&&typeof r=="boolean"&&(d=r?nr.has(t):rr.has(t)),!m&&n&&typeof o=="boolean"&&(m=o?nr.has(i):rr.has(i)),d&&m}}var kl=":self",cu=new RegExp(`s*${kl}s*,?`,"g");function Ol(t,i,e,n){return new to(t).build(i,e,n)}var gl="",to=class{_driver;constructor(i){this._driver=i}build(i,e,n){let r=new io(e);return this._resetContextStyleTimingState(r),rt(this,ln(i),r)}_resetContextStyleTimingState(i){i.currentQuerySelector=gl,i.collectedStyles=new Map,i.collectedStyles.set(gl,new Map),i.currentTime=0}visitTrigger(i,e){let n=e.queryCount=0,r=e.depCount=0,o=[],d=[];return i.name.charAt(0)=="@"&&e.errors.push(Cd()),i.definitions.forEach(m=>{if(this._resetContextStyleTimingState(e),m.type==Z.State){let p=m,f=p.name;f.toString().split(/\s*,\s*/).forEach(_=>{p.name=_,o.push(this.visitState(p,e))}),p.name=f}else if(m.type==Z.Transition){let p=this.visitTransition(m,e);n+=p.queryCount,r+=p.depCount,d.push(p)}else e.errors.push(Sd())}),{type:Z.Trigger,name:i.name,states:o,transitions:d,queryCount:n,depCount:r,options:null}}visitState(i,e){let n=this.visitStyle(i.styles,e),r=i.options&&i.options.params||null;if(n.containsDynamicStyles){let o=new Set,d=r||{};n.styles.forEach(m=>{m instanceof Map&&m.forEach(p=>{wl(p).forEach(f=>{d.hasOwnProperty(f)||o.add(f)})})}),o.size&&e.errors.push(xd(i.name,[...o.values()]))}return{type:Z.State,name:i.name,style:n,options:r?{params:r}:null}}visitTransition(i,e){e.queryCount=0,e.depCount=0;let n=rt(this,ln(i.animation),e),r=au(i.expr,e.errors);return{type:Z.Transition,matchers:r,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:Pi(i.options)}}visitSequence(i,e){return{type:Z.Sequence,steps:i.steps.map(n=>rt(this,n,e)),options:Pi(i.options)}}visitGroup(i,e){let n=e.currentTime,r=0,o=i.steps.map(d=>{e.currentTime=n;let m=rt(this,d,e);return r=Math.max(r,e.currentTime),m});return e.currentTime=r,{type:Z.Group,steps:o,options:Pi(i.options)}}visitAnimate(i,e){let n=pu(i.timings,e.errors);e.currentAnimateTimings=n;let r,o=i.styles?i.styles:xi({});if(o.type==Z.Keyframes)r=this.visitKeyframes(o,e);else{let d=i.styles,m=!1;if(!d){m=!0;let f={};n.easing&&(f.easing=n.easing),d=xi(f)}e.currentTime+=n.duration+n.delay;let p=this.visitStyle(d,e);p.isEmptyStep=m,r=p}return e.currentAnimateTimings=null,{type:Z.Animate,timings:n,style:r,options:null}}visitStyle(i,e){let n=this._makeStyleAst(i,e);return this._validateStyleAst(n,e),n}_makeStyleAst(i,e){let n=[],r=Array.isArray(i.styles)?i.styles:[i.styles];for(let m of r)typeof m=="string"?m===Dt?n.push(m):e.errors.push(Td(m)):n.push(new Map(Object.entries(m)));let o=!1,d=null;return n.forEach(m=>{if(m instanceof Map&&(m.has("easing")&&(d=m.get("easing"),m.delete("easing")),!o)){for(let p of m.values())if(p.toString().indexOf(Al)>=0){o=!0;break}}}),{type:Z.Style,styles:n,easing:d,offset:i.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(i,e){let n=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;n&&o>0&&(o-=n.duration+n.delay),i.styles.forEach(d=>{typeof d!="string"&&d.forEach((m,p)=>{let f=e.collectedStyles.get(e.currentQuerySelector),_=f.get(p),y=!0;_&&(o!=r&&o>=_.startTime&&r<=_.endTime&&(e.errors.push(Md(p,_.startTime,_.endTime,o,r)),y=!1),o=_.startTime),y&&f.set(p,{startTime:o,endTime:r}),e.options&&tu(m,e.options,e.errors)})})}visitKeyframes(i,e){let n={type:Z.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Pd()),n;let r=1,o=0,d=[],m=!1,p=!1,f=0,_=i.steps.map(fe=>{let Ae=this._makeStyleAst(fe,e),Ge=Ae.offset!=null?Ae.offset:mu(Ae.styles),je=0;return Ge!=null&&(o++,je=Ae.offset=Ge),p=p||je<0||je>1,m=m||je<f,f=je,d.push(je),Ae});p&&e.errors.push(Ad()),m&&e.errors.push(Id());let y=i.steps.length,T=0;o>0&&o<y?e.errors.push(wd()):o==0&&(T=r/(y-1));let P=y-1,A=e.currentTime,j=e.currentAnimateTimings,ee=j.duration;return _.forEach((fe,Ae)=>{let Ge=T>0?Ae==P?1:T*Ae:d[Ae],je=Ge*ee;e.currentTime=A+j.delay+je,j.duration=je,this._validateStyleAst(fe,e),fe.offset=Ge,n.styles.push(fe)}),n}visitReference(i,e){return{type:Z.Reference,animation:rt(this,ln(i.animation),e),options:Pi(i.options)}}visitAnimateChild(i,e){return e.depCount++,{type:Z.AnimateChild,options:Pi(i.options)}}visitAnimateRef(i,e){return{type:Z.AnimateRef,animation:this.visitReference(i.animation,e),options:Pi(i.options)}}visitQuery(i,e){let n=e.currentQuerySelector,r=i.options||{};e.queryCount++,e.currentQuery=i;let[o,d]=du(i.selector);e.currentQuerySelector=n.length?n+" "+o:o,ot(e.collectedStyles,e.currentQuerySelector,new Map);let m=rt(this,ln(i.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:Z.Query,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:d,animation:m,originalSelector:i.selector,options:Pi(i.options)}}visitStagger(i,e){e.currentQuery||e.errors.push(kd());let n=i.timings==="full"?{duration:0,delay:0,easing:"full"}:lr(i.timings,e.errors,!0);return{type:Z.Stagger,animation:rt(this,ln(i.animation),e),timings:n,options:null}}};function du(t){let i=!!t.split(/\s*,\s*/).find(e=>e==kl);return i&&(t=t.replace(cu,"")),t=t.replace(/@\*/g,sr).replace(/@\w+/g,e=>sr+"-"+e.slice(1)).replace(/:animating/g,Yr),[t,i]}function uu(t){return t?J({},t):null}var io=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(i){this.errors=i}};function mu(t){if(typeof t=="string")return null;let i=null;if(Array.isArray(t))t.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;i=parseFloat(n.get("offset")),n.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let e=t;i=parseFloat(e.get("offset")),e.delete("offset")}return i}function pu(t,i){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let o=lr(t,i).duration;return $r(o,0,"")}let e=t;if(e.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=$r(0,0,"");return o.dynamic=!0,o.strValue=e,o}let r=lr(e,i);return $r(r.duration,r.delay,r.easing)}function Pi(t){return t?(t=J({},t),t.params&&(t.params=uu(t.params))):t={},t}function $r(t,i,e){return{duration:t,delay:i,easing:e}}function Eo(t,i,e,n,r,o,d=null,m=!1){return{type:1,element:t,keyframes:i,preStyleProps:e,postStyleProps:n,duration:r,delay:o,totalTime:r+o,easing:d,subTimeline:m}}var un=class{_map=new Map;get(i){return this._map.get(i)||[]}append(i,e){let n=this._map.get(i);n||this._map.set(i,n=[]),n.push(...e)}has(i){return this._map.has(i)}clear(){this._map.clear()}},hu=1,fu=":enter",gu=new RegExp(fu,"g"),vu=":leave",_u=new RegExp(vu,"g");function Dl(t,i,e,n,r,o=new Map,d=new Map,m,p,f=[]){return new no().buildKeyframes(t,i,e,n,r,o,d,m,p,f)}var no=class{buildKeyframes(i,e,n,r,o,d,m,p,f,_=[]){f=f||new un;let y=new ro(i,e,f,r,o,_,[]);y.options=p;let T=p.delay?Wt(p.delay):0;y.currentTimeline.delayNextStep(T),y.currentTimeline.setStyles([d],null,y.errors,p),rt(this,n,y);let P=y.timelines.filter(A=>A.containsAnimation());if(P.length&&m.size){let A;for(let j=P.length-1;j>=0;j--){let ee=P[j];if(ee.element===e){A=ee;break}}A&&!A.allowOnlyTimelineStyles()&&A.setStyles([m],null,y.errors,p)}return P.length?P.map(A=>A.buildKeyframes()):[Eo(e,[],[],[],0,T,"",!1)]}visitTrigger(i,e){}visitState(i,e){}visitTransition(i,e){}visitAnimateChild(i,e){let n=e.subInstructions.get(e.element);if(n){let r=e.createSubContext(i.options),o=e.currentTimeline.currentTime,d=this._visitSubInstructions(n,r,r.options);o!=d&&e.transformIntoNewTimeline(d)}e.previousNode=i}visitAnimateRef(i,e){let n=e.createSubContext(i.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([i.options,i.animation.options],e,n),this.visitReference(i.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=i}_applyAnimationRefDelays(i,e,n){for(let r of i){let o=r==null?void 0:r.delay;if(o){let d=typeof o=="number"?o:Wt(dn(o,(r==null?void 0:r.params)??{},e.errors));n.delayNextStep(d)}}}_visitSubInstructions(i,e,n){let o=e.currentTimeline.currentTime,d=n.duration!=null?Wt(n.duration):null,m=n.delay!=null?Wt(n.delay):null;return d!==0&&i.forEach(p=>{let f=e.appendInstructionToTimeline(p,d,m);o=Math.max(o,f.duration+f.delay)}),o}visitReference(i,e){e.updateOptions(i.options,!0),rt(this,i.animation,e),e.previousNode=i}visitSequence(i,e){let n=e.subContextCount,r=e,o=i.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),o.delay!=null)){r.previousNode.type==Z.Style&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ur);let d=Wt(o.delay);r.delayNextStep(d)}i.steps.length&&(i.steps.forEach(d=>rt(this,d,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=i}visitGroup(i,e){let n=[],r=e.currentTimeline.currentTime,o=i.options&&i.options.delay?Wt(i.options.delay):0;i.steps.forEach(d=>{let m=e.createSubContext(i.options);o&&m.delayNextStep(o),rt(this,d,m),r=Math.max(r,m.currentTimeline.currentTime),n.push(m.currentTimeline)}),n.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(r),e.previousNode=i}_visitTiming(i,e){if(i.dynamic){let n=i.strValue,r=e.params?dn(n,e.params,e.errors):n;return lr(r,e.errors)}else return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,e){let n=e.currentAnimateTimings=this._visitTiming(i.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());let o=i.style;o.type==Z.Keyframes?this.visitKeyframes(o,e):(e.incrementTime(n.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=i}visitStyle(i,e){let n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=r&&r.easing||i.easing;i.isEmptyStep?n.applyEmptyStep(o):n.setStyles(i.styles,o,e.errors,e.options),e.previousNode=i}visitKeyframes(i,e){let n=e.currentAnimateTimings,r=e.currentTimeline.duration,o=n.duration,m=e.createSubContext().currentTimeline;m.easing=n.easing,i.styles.forEach(p=>{let f=p.offset||0;m.forwardTime(f*o),m.setStyles(p.styles,p.easing,e.errors,e.options),m.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(m),e.transformIntoNewTimeline(r+o),e.previousNode=i}visitQuery(i,e){let n=e.currentTimeline.currentTime,r=i.options||{},o=r.delay?Wt(r.delay):0;o&&(e.previousNode.type===Z.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ur);let d=n,m=e.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=m.length;let p=null;m.forEach((f,_)=>{e.currentQueryIndex=_;let y=e.createSubContext(i.options,f);o&&y.delayNextStep(o),f===e.element&&(p=y.currentTimeline),rt(this,i.animation,y),y.currentTimeline.applyStylesToKeyframe();let T=y.currentTimeline.currentTime;d=Math.max(d,T)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=i}visitStagger(i,e){let n=e.parentContext,r=e.currentTimeline,o=i.timings,d=Math.abs(o.duration),m=d*(e.currentQueryTotal-1),p=d*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=m-p;break;case"full":p=n.currentStaggerTime;break}let _=e.currentTimeline;p&&_.delayNextStep(p);let y=_.currentTime;rt(this,i.animation,e),e.previousNode=i,n.currentStaggerTime=r.currentTime-y+(r.startTime-n.currentTimeline.startTime)}},ur={},ro=class t{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=ur;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(i,e,n,r,o,d,m,p){this._driver=i,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=o,this.errors=d,this.timelines=m,this.currentTimeline=p||new mr(this._driver,e,0),m.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,e){if(!i)return;let n=i,r=this.options;n.duration!=null&&(r.duration=Wt(n.duration)),n.delay!=null&&(r.delay=Wt(n.delay));let o=n.params;if(o){let d=r.params;d||(d=this.options.params={}),Object.keys(o).forEach(m=>{(!e||!d.hasOwnProperty(m))&&(d[m]=dn(o[m],d,this.errors))})}}_copyOptions(){let i={};if(this.options){let e=this.options.params;if(e){let n=i.params={};Object.keys(e).forEach(r=>{n[r]=e[r]})}}return i}createSubContext(i=null,e,n){let r=e||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(i),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(i){return this.previousNode=ur,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,e,n){let r={duration:e??i.duration,delay:this.currentTimeline.currentTime+(n??0)+i.delay,easing:""},o=new oo(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,r,i.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,e,n,r,o,d){let m=[];if(r&&m.push(this.element),i.length>0){i=i.replace(gu,"."+this._enterClassName),i=i.replace(_u,"."+this._leaveClassName);let p=n!=1,f=this._driver.query(this.element,i,p);n!==0&&(f=n<0?f.slice(f.length+n,f.length):f.slice(0,n)),m.push(...f)}return!o&&m.length==0&&d.push(Od(e)),m}},mr=class t{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(i,e,n,r){this._driver=i,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(i){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+i),e&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,e){return this.applyStylesToKeyframe(),new t(this._driver,i,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=hu,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,e){this._localTimelineStyles.set(i,e),this._globalTimelineStyles.set(i,e),this._styleSummary.set(i,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&this._previousKeyframe.set("easing",i);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||Dt),this._currentKeyframe.set(e,Dt);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,e,n,r){e&&this._previousKeyframe.set("easing",e);let o=r&&r.params||{},d=Eu(i,this._globalTimelineStyles);for(let[m,p]of d){let f=dn(p,o,n);this._pendingStyles.set(m,f),this._localTimelineStyles.has(m)||this._backFill.set(m,this._globalTimelineStyles.get(m)??Dt),this._updateStyle(m,f)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((i,e)=>{this._currentKeyframe.set(e,i)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((i,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,i)}))}snapshotCurrentStyles(){for(let[i,e]of this._localTimelineStyles)this._pendingStyles.set(i,e),this._updateStyle(i,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let i=[];for(let e in this._currentKeyframe)i.push(e);return i}mergeTimelineCollectedStyles(i){i._styleSummary.forEach((e,n)=>{let r=this._styleSummary.get(n);(!r||e.time>r.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let i=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,r=[];this._keyframes.forEach((m,p)=>{let f=new Map([...this._backFill,...m]);f.forEach((_,y)=>{_===Kn?i.add(y):_===Dt&&e.add(y)}),n||f.set("offset",p/this.duration),r.push(f)});let o=[...i.values()],d=[...e.values()];if(n){let m=r[0],p=new Map(m);m.set("offset",0),p.set("offset",1),r=[m,p]}return Eo(this.element,r,o,d,this.duration,this.startTime,this.easing,!1)}},oo=class extends mr{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(i,e,n,r,o,d,m=!1){super(i,e,d.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=m,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){let o=[],d=n+e,m=e/d,p=new Map(i[0]);p.set("offset",0),o.push(p);let f=new Map(i[0]);f.set("offset",vl(m)),o.push(f);let _=i.length-1;for(let y=1;y<=_;y++){let T=new Map(i[y]),P=T.get("offset"),A=e+P*n;T.set("offset",vl(A/d)),o.push(T)}n=d,e=0,r="",i=o}return Eo(this.element,i,this.preStyleProps,this.postStyleProps,n,e,r,!0)}};function vl(t,i=3){let e=Math.pow(10,i-1);return Math.round(t*e)/e}function Eu(t,i){let e=new Map,n;return t.forEach(r=>{if(r==="*"){n??=i.keys();for(let o of n)e.set(o,Dt)}else for(let[o,d]of r)e.set(o,d)}),e}function _l(t,i,e,n,r,o,d,m,p,f,_,y,T){return{type:0,element:t,triggerName:i,isRemovalTransition:r,fromState:e,fromStyles:o,toState:n,toStyles:d,timelines:m,queriedElements:p,preStyleProps:f,postStyleProps:_,totalTime:y,errors:T}}var Kr={},pr=class{_triggerName;ast;_stateStyles;constructor(i,e,n){this._triggerName=i,this.ast=e,this._stateStyles=n}match(i,e,n,r){return yu(this.ast.matchers,i,e,n,r)}buildStyles(i,e,n){let r=this._stateStyles.get("*");return i!==void 0&&(r=this._stateStyles.get(i==null?void 0:i.toString())||r),r?r.buildStyles(e,n):new Map}build(i,e,n,r,o,d,m,p,f,_){var St;let y=[],T=this.ast.options&&this.ast.options.params||Kr,P=m&&m.params||Kr,A=this.buildStyles(n,P,y),j=p&&p.params||Kr,ee=this.buildStyles(r,j,y),fe=new Set,Ae=new Map,Ge=new Map,je=r==="void",Oi={params:Fl(j,T),delay:(St=this.ast.options)==null?void 0:St.delay},Ct=_?[]:Dl(i,e,this.ast.animation,o,d,A,ee,Oi,f,y),$e=0;return Ct.forEach(Bt=>{$e=Math.max(Bt.duration+Bt.delay,$e)}),y.length?_l(e,this._triggerName,n,r,je,A,ee,[],[],Ae,Ge,$e,y):(Ct.forEach(Bt=>{let Vt=Bt.element,Zo=ot(Ae,Vt,new Set);Bt.preStyleProps.forEach(Ei=>Zo.add(Ei));let Xi=ot(Ge,Vt,new Set);Bt.postStyleProps.forEach(Ei=>Xi.add(Ei)),Vt!==e&&fe.add(Vt)}),_l(e,this._triggerName,n,r,je,A,ee,Ct,[...fe.values()],Ae,Ge,$e))}};function yu(t,i,e,n,r){return t.some(o=>o(i,e,n,r))}function Fl(t,i){let e=J({},i);return Object.entries(t).forEach(([n,r])=>{r!=null&&(e[n]=r)}),e}var ao=class{styles;defaultParams;normalizer;constructor(i,e,n){this.styles=i,this.defaultParams=e,this.normalizer=n}buildStyles(i,e){let n=new Map,r=Fl(i,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((d,m)=>{d&&(d=dn(d,r,e));let p=this.normalizer.normalizePropertyName(m,e);d=this.normalizer.normalizeStyleValue(m,p,d,e),n.set(m,d)})}),n}};function bu(t,i,e){return new so(t,i,e)}var so=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(i,e,n){this.name=i,this.ast=e,this._normalizer=n,e.states.forEach(r=>{let o=r.options&&r.options.params||{};this.states.set(r.name,new ao(r.style,o,n))}),El(this.states,"true","1"),El(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new pr(i,r,this.states))}),this.fallbackTransition=Cu(i,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,e,n,r){return this.transitionFactories.find(d=>d.match(i,e,n,r))||null}matchStyles(i,e,n){return this.fallbackTransition.buildStyles(i,e,n)}};function Cu(t,i,e){let n=[(d,m)=>!0],r={type:Z.Sequence,steps:[],options:null},o={type:Z.Transition,animation:r,matchers:n,options:null,queryCount:0,depCount:0};return new pr(t,o,i)}function El(t,i,e){t.has(i)?t.has(e)||t.set(e,t.get(i)):t.has(e)&&t.set(i,t.get(e))}var Su=new un,lo=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(i,e,n){this.bodyNode=i,this._driver=e,this._normalizer=n}register(i,e){let n=[],r=[],o=Ol(this._driver,e,n,r);if(n.length)throw Ud(n);this._animations.set(i,o)}_buildPlayer(i,e,n){let r=i.element,o=Tl(this._normalizer,i.keyframes,e,n);return this._driver.animate(r,o,i.duration,i.delay,i.easing,[],!0)}create(i,e,n={}){let r=[],o=this._animations.get(i),d,m=new Map;if(o?(d=Dl(this._driver,e,o,Il,Xr,new Map,new Map,n,Su,r),d.forEach(_=>{let y=ot(m,_.element,new Map);_.postStyleProps.forEach(T=>y.set(T,null))})):(r.push(Ld()),d=[]),r.length)throw Bd(r);m.forEach((_,y)=>{_.forEach((T,P)=>{_.set(P,this._driver.computeStyle(y,P,Dt))})});let p=d.map(_=>{let y=m.get(_.element);return this._buildPlayer(_,new Map,y)}),f=fi(p);return this._playersById.set(i,f),f.onDestroy(()=>this.destroy(i)),this.players.push(f),f}destroy(i){let e=this._getPlayer(i);e.destroy(),this._playersById.delete(i);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(i){let e=this._playersById.get(i);if(!e)throw Vd(i);return e}listen(i,e,n,r){let o=ho(e,"","","");return po(this._getPlayer(i),n,o,r),()=>{}}command(i,e,n,r){if(n=="register"){this.register(i,r[0]);return}if(n=="create"){let d=r[0]||{};this.create(i,e,d);return}let o=this._getPlayer(i);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(i);break}}},yl="ng-animate-queued",xu=".ng-animate-queued",Qr="ng-animate-disabled",Tu=".ng-animate-disabled",Mu="ng-star-inserted",Pu=".ng-star-inserted",Au=[],Rl={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Iu={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Et="__ng_removed",mn=class{namespaceId;value;options;get params(){return this.options.params}constructor(i,e=""){this.namespaceId=e;let n=i&&i.hasOwnProperty("value"),r=n?i.value:i;if(this.value=ku(r),n){let o=i,{value:d}=o,m=yn(o,["value"]);this.options=m}else this.options={};this.options.params||(this.options.params={})}absorbOptions(i){let e=i.params;if(e){let n=this.options.params;Object.keys(e).forEach(r=>{n[r]==null&&(n[r]=e[r])})}}},cn="void",Wr=new mn(cn),co=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(i,e,n){this.id=i,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+i,pt(e,this._hostClassName)}listen(i,e,n,r){if(!this._triggers.has(e))throw jd(n,e);if(n==null||n.length==0)throw zd(e);if(!Ou(n))throw qd(n,e);let o=ot(this._elementListeners,i,[]),d={name:e,phase:n,callback:r};o.push(d);let m=ot(this._engine.statesByElement,i,new Map);return m.has(e)||(pt(i,ir),pt(i,ir+"-"+e),m.set(e,Wr)),()=>{this._engine.afterFlush(()=>{let p=o.indexOf(d);p>=0&&o.splice(p,1),this._triggers.has(e)||m.delete(e)})}}register(i,e){return this._triggers.has(i)?!1:(this._triggers.set(i,e),!0)}_getTrigger(i){let e=this._triggers.get(i);if(!e)throw Hd(i);return e}trigger(i,e,n,r=!0){let o=this._getTrigger(e),d=new pn(this.id,e,i),m=this._engine.statesByElement.get(i);m||(pt(i,ir),pt(i,ir+"-"+e),this._engine.statesByElement.set(i,m=new Map));let p=m.get(e),f=new mn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&p&&f.absorbOptions(p.options),m.set(e,f),p||(p=Wr),!(f.value===cn)&&p.value===f.value){if(!Ru(p.params,f.params)){let j=[],ee=o.matchStyles(p.value,p.params,j),fe=o.matchStyles(f.value,f.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{Ai(i,ee),Nt(i,fe)})}return}let T=ot(this._engine.playersByElement,i,[]);T.forEach(j=>{j.namespaceId==this.id&&j.triggerName==e&&j.queued&&j.destroy()});let P=o.matchTransition(p.value,f.value,i,f.params),A=!1;if(!P){if(!r)return;P=o.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:e,transition:P,fromState:p,toState:f,player:d,isFallbackTransition:A}),A||(pt(i,yl),d.onStart(()=>{zi(i,yl)})),d.onDone(()=>{let j=this.players.indexOf(d);j>=0&&this.players.splice(j,1);let ee=this._engine.playersByElement.get(i);if(ee){let fe=ee.indexOf(d);fe>=0&&ee.splice(fe,1)}}),this.players.push(d),T.push(d),d}deregister(i){this._triggers.delete(i),this._engine.statesByElement.forEach(e=>e.delete(i)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(r=>r.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);let e=this._engine.playersByElement.get(i);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,e){let n=this._engine.driver.query(i,sr,!0);n.forEach(r=>{if(r[Et])return;let o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(d=>d.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(i,e,n,r){let o=this._engine.statesByElement.get(i),d=new Map;if(o){let m=[];if(o.forEach((p,f)=>{if(d.set(f,p.value),this._triggers.has(f)){let _=this.trigger(i,f,cn,r);_&&m.push(_)}}),m.length)return this._engine.markElementAsRemoved(this.id,i,!0,e,d),n&&fi(m).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){let e=this._elementListeners.get(i),n=this._engine.statesByElement.get(i);if(e&&n){let r=new Set;e.forEach(o=>{let d=o.name;if(r.has(d))return;r.add(d);let p=this._triggers.get(d).fallbackTransition,f=n.get(d)||Wr,_=new mn(cn),y=new pn(this.id,d,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:d,transition:p,fromState:f,toState:_,player:y,isFallbackTransition:!0})})}}removeNode(i,e){let n=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,e),this.triggerLeaveAnimation(i,e,!0))return;let r=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(i):[];if(o&&o.length)r=!0;else{let d=i;for(;d=d.parentNode;)if(n.statesByElement.get(d)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(i),r)n.markElementAsRemoved(this.id,i,!1,e);else{let o=i[Et];(!o||o===Rl)&&(n.afterFlush(()=>this.clearElementCache(i)),n.destroyInnerAnimations(i),n._onRemovalComplete(i,e))}}insertNode(i,e){pt(i,this._hostClassName)}drainQueuedTransitions(i){let e=[];return this._queue.forEach(n=>{let r=n.player;if(r.destroyed)return;let o=n.element,d=this._elementListeners.get(o);d&&d.forEach(m=>{if(m.name==n.triggerName){let p=ho(o,n.triggerName,n.fromState.value,n.toState.value);p._data=i,po(n.player,m.phase,p,m.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((n,r)=>{let o=n.transition.ast.depCount,d=r.transition.ast.depCount;return o==0||d==0?o-d:this._engine.driver.containsElement(n.element,r.element)?1:-1})}destroy(i){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}},uo=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(i,e)=>{};_onRemovalComplete(i,e){this.onRemovalComplete(i,e)}constructor(i,e,n){this.bodyNode=i,this.driver=e,this._normalizer=n}get queuedPlayers(){let i=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&i.push(n)})}),i}createNamespace(i,e){let n=new co(i,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[i]=n}_balanceNamespaceList(i,e){let n=this._namespaceList,r=this.namespacesByHostElement;if(n.length-1>=0){let d=!1,m=this.driver.getParentElement(e);for(;m;){let p=r.get(m);if(p){let f=n.indexOf(p);n.splice(f+1,0,i),d=!0;break}m=this.driver.getParentElement(m)}d||n.unshift(i)}else n.push(i);return r.set(e,i),i}register(i,e){let n=this._namespaceLookup[i];return n||(n=this.createNamespace(i,e)),n}registerTrigger(i,e,n){let r=this._namespaceLookup[i];r&&r.register(e,n)&&this.totalAnimations++}destroy(i,e){i&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(i);this.namespacesByHostElement.delete(n.hostElement);let r=this._namespaceList.indexOf(n);r>=0&&this._namespaceList.splice(r,1),n.destroy(e),delete this._namespaceLookup[i]}))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){let e=new Set,n=this.statesByElement.get(i);if(n){for(let r of n.values())if(r.namespaceId){let o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}}return e}trigger(i,e,n,r){if(or(e)){let o=this._fetchNamespace(i);if(o)return o.trigger(e,n,r),!0}return!1}insertNode(i,e,n,r){if(!or(e))return;let o=e[Et];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(i){let d=this._fetchNamespace(i);d&&d.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,e){e?this.disabledNodes.has(i)||(this.disabledNodes.add(i),pt(i,Qr)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),zi(i,Qr))}removeNode(i,e,n){if(or(e)){let r=i?this._fetchNamespace(i):null;r?r.removeNode(e,n):this.markElementAsRemoved(i,e,!1,n);let o=this.namespacesByHostElement.get(e);o&&o.id!==i&&o.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(i,e,n,r,o){this.collectedLeaveElements.push(e),e[Et]={namespaceId:i,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(i,e,n,r,o){return or(e)?this._fetchNamespace(i).listen(e,n,r,o):()=>{}}_buildInstruction(i,e,n,r,o){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,n,r,i.fromState.options,i.toState.options,e,o)}destroyInnerAnimations(i){let e=this.driver.query(i,sr,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(i,Yr,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(i){let e=this.playersByElement.get(i);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(i){let e=this.playersByQueriedElement.get(i);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return fi(this.players).onDone(()=>i());i()})}processLeaveNode(i){var n;let e=i[Et];if(e&&e.setForRemoval){if(i[Et]=Rl,e.namespaceId){this.destroyInnerAnimations(i);let r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(i)}this._onRemovalComplete(i,e.setForRemoval)}(n=i.classList)!=null&&n.contains(Qr)&&this.markElementAsDisabled(i,!1),this.driver.query(i,Tu,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(i=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,r)=>this._balanceNamespaceList(n,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let r=this.collectedEnterElements[n];pt(r,Mu)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,i)}finally{for(let r=0;r<n.length;r++)n[r]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let r=this.collectedLeaveElements[n];this.processLeaveNode(r)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?fi(e).onDone(()=>{n.forEach(r=>r())}):n.forEach(r=>r())}}reportError(i){throw Gd(i)}_flushAnimations(i,e){let n=new un,r=[],o=new Map,d=[],m=new Map,p=new Map,f=new Map,_=new Set;this.disabledNodes.forEach(R=>{_.add(R);let B=this.driver.query(R,xu,!0);for(let z=0;z<B.length;z++)_.add(B[z])});let y=this.bodyNode,T=Array.from(this.statesByElement.keys()),P=Sl(T,this.collectedEnterElements),A=new Map,j=0;P.forEach((R,B)=>{let z=Il+j++;A.set(B,z),R.forEach(te=>pt(te,z))});let ee=[],fe=new Set,Ae=new Set;for(let R=0;R<this.collectedLeaveElements.length;R++){let B=this.collectedLeaveElements[R],z=B[Et];z&&z.setForRemoval&&(ee.push(B),fe.add(B),z.hasAnimation?this.driver.query(B,Pu,!0).forEach(te=>fe.add(te)):Ae.add(B))}let Ge=new Map,je=Sl(T,Array.from(fe));je.forEach((R,B)=>{let z=Xr+j++;Ge.set(B,z),R.forEach(te=>pt(te,z))}),i.push(()=>{P.forEach((R,B)=>{let z=A.get(B);R.forEach(te=>zi(te,z))}),je.forEach((R,B)=>{let z=Ge.get(B);R.forEach(te=>zi(te,z))}),ee.forEach(R=>{this.processLeaveNode(R)})});let Oi=[],Ct=[];for(let R=this._namespaceList.length-1;R>=0;R--)this._namespaceList[R].drainQueuedTransitions(e).forEach(z=>{let te=z.player,Ne=z.element;if(Oi.push(te),this.collectedEnterElements.length){let He=Ne[Et];if(He&&He.setForMove){if(He.previousTriggersValues&&He.previousTriggersValues.has(z.triggerName)){let yi=He.previousTriggersValues.get(z.triggerName),lt=this.statesByElement.get(z.element);if(lt&&lt.has(z.triggerName)){let En=lt.get(z.triggerName);En.value=yi,lt.set(z.triggerName,En)}}te.destroy();return}}let xt=!y||!this.driver.containsElement(y,Ne),et=Ge.get(Ne),Xt=A.get(Ne),Ce=this._buildInstruction(z,n,Xt,et,xt);if(Ce.errors&&Ce.errors.length){Ct.push(Ce);return}if(xt){te.onStart(()=>Ai(Ne,Ce.fromStyles)),te.onDestroy(()=>Nt(Ne,Ce.toStyles)),r.push(te);return}if(z.isFallbackTransition){te.onStart(()=>Ai(Ne,Ce.fromStyles)),te.onDestroy(()=>Nt(Ne,Ce.toStyles)),r.push(te);return}let ia=[];Ce.timelines.forEach(He=>{He.stretchStartingKeyframe=!0,this.disabledNodes.has(He.element)||ia.push(He)}),Ce.timelines=ia,n.append(Ne,Ce.timelines);let pd={instruction:Ce,player:te,element:Ne};d.push(pd),Ce.queriedElements.forEach(He=>ot(m,He,[]).push(te)),Ce.preStyleProps.forEach((He,yi)=>{if(He.size){let lt=p.get(yi);lt||p.set(yi,lt=new Set),He.forEach((En,wr)=>lt.add(wr))}}),Ce.postStyleProps.forEach((He,yi)=>{let lt=f.get(yi);lt||f.set(yi,lt=new Set),He.forEach((En,wr)=>lt.add(wr))})});if(Ct.length){let R=[];Ct.forEach(B=>{R.push($d(B.triggerName,B.errors))}),Oi.forEach(B=>B.destroy()),this.reportError(R)}let $e=new Map,St=new Map;d.forEach(R=>{let B=R.element;n.has(B)&&(St.set(B,B),this._beforeAnimationBuild(R.player.namespaceId,R.instruction,$e))}),r.forEach(R=>{let B=R.element;this._getPreviousPlayers(B,!1,R.namespaceId,R.triggerName,null).forEach(te=>{ot($e,B,[]).push(te),te.destroy()})});let Bt=ee.filter(R=>xl(R,p,f)),Vt=new Map;Cl(Vt,this.driver,Ae,f,Dt).forEach(R=>{xl(R,p,f)&&Bt.push(R)});let Xi=new Map;P.forEach((R,B)=>{Cl(Xi,this.driver,new Set(R),p,Kn)}),Bt.forEach(R=>{let B=Vt.get(R),z=Xi.get(R);Vt.set(R,new Map([...(B==null?void 0:B.entries())??[],...(z==null?void 0:z.entries())??[]]))});let Ei=[],ea=[],ta={};d.forEach(R=>{let{element:B,player:z,instruction:te}=R;if(n.has(B)){if(_.has(B)){z.onDestroy(()=>Nt(B,te.toStyles)),z.disabled=!0,z.overrideTotalTime(te.totalTime),r.push(z);return}let Ne=ta;if(St.size>1){let et=B,Xt=[];for(;et=et.parentNode;){let Ce=St.get(et);if(Ce){Ne=Ce;break}Xt.push(et)}Xt.forEach(Ce=>St.set(Ce,Ne))}let xt=this._buildAnimation(z.namespaceId,te,$e,o,Xi,Vt);if(z.setRealPlayer(xt),Ne===ta)Ei.push(z);else{let et=this.playersByElement.get(Ne);et&&et.length&&(z.parentPlayer=fi(et)),r.push(z)}}else Ai(B,te.fromStyles),z.onDestroy(()=>Nt(B,te.toStyles)),ea.push(z),_.has(B)&&r.push(z)}),ea.forEach(R=>{let B=o.get(R.element);if(B&&B.length){let z=fi(B);R.setRealPlayer(z)}}),r.forEach(R=>{R.parentPlayer?R.syncPlayerEvents(R.parentPlayer):R.destroy()});for(let R=0;R<ee.length;R++){let B=ee[R],z=B[Et];if(zi(B,Xr),z&&z.hasAnimation)continue;let te=[];if(m.size){let xt=m.get(B);xt&&xt.length&&te.push(...xt);let et=this.driver.query(B,Yr,!0);for(let Xt=0;Xt<et.length;Xt++){let Ce=m.get(et[Xt]);Ce&&Ce.length&&te.push(...Ce)}}let Ne=te.filter(xt=>!xt.destroyed);Ne.length?Du(this,B,Ne):this.processLeaveNode(B)}return ee.length=0,Ei.forEach(R=>{this.players.push(R),R.onDone(()=>{R.destroy();let B=this.players.indexOf(R);this.players.splice(B,1)}),R.play()}),Ei}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,e,n,r,o){let d=[];if(e){let m=this.playersByQueriedElement.get(i);m&&(d=m)}else{let m=this.playersByElement.get(i);if(m){let p=!o||o==cn;m.forEach(f=>{f.queued||!p&&f.triggerName!=r||d.push(f)})}}return(n||r)&&(d=d.filter(m=>!(n&&n!=m.namespaceId||r&&r!=m.triggerName))),d}_beforeAnimationBuild(i,e,n){let r=e.triggerName,o=e.element,d=e.isRemovalTransition?void 0:i,m=e.isRemovalTransition?void 0:r;for(let p of e.timelines){let f=p.element,_=f!==o,y=ot(n,f,[]);this._getPreviousPlayers(f,_,d,m,e.toState).forEach(P=>{let A=P.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),P.destroy(),y.push(P)})}Ai(o,e.fromStyles)}_buildAnimation(i,e,n,r,o,d){let m=e.triggerName,p=e.element,f=[],_=new Set,y=new Set,T=e.timelines.map(A=>{let j=A.element;_.add(j);let ee=j[Et];if(ee&&ee.removedBeforeQueried)return new Vi(A.duration,A.delay);let fe=j!==p,Ae=Fu((n.get(j)||Au).map($e=>$e.getRealPlayer())).filter($e=>{let St=$e;return St.element?St.element===j:!1}),Ge=o.get(j),je=d.get(j),Oi=Tl(this._normalizer,A.keyframes,Ge,je),Ct=this._buildPlayer(A,Oi,Ae);if(A.subTimeline&&r&&y.add(j),fe){let $e=new pn(i,m,j);$e.setRealPlayer(Ct),f.push($e)}return Ct});f.forEach(A=>{ot(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>wu(this.playersByQueriedElement,A.element,A))}),_.forEach(A=>pt(A,hl));let P=fi(T);return P.onDestroy(()=>{_.forEach(A=>zi(A,hl)),Nt(p,e.toStyles)}),y.forEach(A=>{ot(r,A,[]).push(P)}),P}_buildPlayer(i,e,n){return e.length>0?this.driver.animate(i.element,e,i.duration,i.delay,i.easing,n):new Vi(i.duration,i.delay)}},pn=class{namespaceId;triggerName;element;_player=new Vi;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(i,e,n){this.namespaceId=i,this.triggerName=e,this.element=n}setRealPlayer(i){this._containsRealPlayer||(this._player=i,this._queuedCallbacks.forEach((e,n)=>{e.forEach(r=>po(i,n,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){let e=this._player;e.triggerCallback&&i.onStart(()=>e.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,e){ot(this._queuedCallbacks,i,[]).push(e)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){let e=this._player;e.triggerCallback&&e.triggerCallback(i)}};function wu(t,i,e){let n=t.get(i);if(n){if(n.length){let r=n.indexOf(e);n.splice(r,1)}n.length==0&&t.delete(i)}return n}function ku(t){return t??null}function or(t){return t&&t.nodeType===1}function Ou(t){return t=="start"||t=="done"}function bl(t,i){let e=t.style.display;return t.style.display=i??"none",e}function Cl(t,i,e,n,r){let o=[];e.forEach(p=>o.push(bl(p)));let d=[];n.forEach((p,f)=>{let _=new Map;p.forEach(y=>{let T=i.computeStyle(f,y,r);_.set(y,T),(!T||T.length==0)&&(f[Et]=Iu,d.push(f))}),t.set(f,_)});let m=0;return e.forEach(p=>bl(p,o[m++])),d}function Sl(t,i){let e=new Map;if(t.forEach(m=>e.set(m,[])),i.length==0)return e;let n=1,r=new Set(i),o=new Map;function d(m){if(!m)return n;let p=o.get(m);if(p)return p;let f=m.parentNode;return e.has(f)?p=f:r.has(f)?p=n:p=d(f),o.set(m,p),p}return i.forEach(m=>{let p=d(m);p!==n&&e.get(p).push(m)}),e}function pt(t,i){var e;(e=t.classList)==null||e.add(i)}function zi(t,i){var e;(e=t.classList)==null||e.remove(i)}function Du(t,i,e){fi(e).onDone(()=>t.processLeaveNode(i))}function Fu(t){let i=[];return Nl(t,i),i}function Nl(t,i){for(let e=0;e<t.length;e++){let n=t[e];n instanceof Hr?Nl(n.players,i):i.push(n)}}function Ru(t,i){let e=Object.keys(t),n=Object.keys(i);if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let o=e[r];if(!i.hasOwnProperty(o)||t[o]!==i[o])return!1}return!0}function xl(t,i,e){let n=e.get(t);if(!n)return!1;let r=i.get(t);return r?n.forEach(o=>r.add(o)):i.set(t,n),e.delete(t),!0}var qi=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(i,e)=>{};constructor(i,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new uo(i.body,e,n),this._timelineEngine=new lo(i.body,e,n),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(i,e,n,r,o){let d=i+"-"+r,m=this._triggerCache[d];if(!m){let p=[],f=[],_=Ol(this._driver,o,p,f);if(p.length)throw Rd(r,p);m=bu(r,_,this._normalizer),this._triggerCache[d]=m}this._transitionEngine.registerTrigger(e,r,m)}register(i,e){this._transitionEngine.register(i,e)}destroy(i,e){this._transitionEngine.destroy(i,e)}onInsert(i,e,n,r){this._transitionEngine.insertNode(i,e,n,r)}onRemove(i,e,n){this._transitionEngine.removeNode(i,e,n)}disableAnimations(i,e){this._transitionEngine.markElementAsDisabled(i,e)}process(i,e,n,r){if(n.charAt(0)=="@"){let[o,d]=ml(n),m=r;this._timelineEngine.command(o,e,d,m)}else this._transitionEngine.trigger(i,e,n,r)}listen(i,e,n,r,o){if(n.charAt(0)=="@"){let[d,m]=ml(n);return this._timelineEngine.listen(d,e,m,o)}return this._transitionEngine.listen(i,e,n,r,o)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(i){this._transitionEngine.afterFlushAnimationsDone(i)}};function Nu(t,i){let e=null,n=null;return Array.isArray(i)&&i.length?(e=Jr(i[0]),i.length>1&&(n=Jr(i[i.length-1]))):i instanceof Map&&(e=Jr(i)),e||n?new Uu(t,e,n):null}var Uu=(()=>{class t{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r;let o=t.initialStylesByElement.get(e);o||t.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Nt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nt(this._element,this._initialStyles),this._endStyles&&(Nt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(Ai(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ai(this._element,this._endStyles),this._endStyles=null),Nt(this._element,this._initialStyles),this._state=3)}}return t})();function Jr(t){let i=null;return t.forEach((e,n)=>{Lu(n)&&(i=i||new Map,i.set(n,e))}),i}function Lu(t){return t==="display"||t==="position"}var hr=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(i,e,n,r){this.element=i,this.keyframes=e,this.options=n,this._specialStyles=r,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(i){let e=[];return i.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(i,e,n){return i.animate(this._convertKeyframesToObject(e),n)}onStart(i){this._originalOnStartFns.push(i),this._onStartFns.push(i)}onDone(i){this._originalOnDoneFns.push(i),this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let i=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,r)=>{r!=="offset"&&i.set(r,this._finished?n:_o(this.element,r))}),this.currentSnapshot=i}triggerCallback(i){let e=i==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},fr=class{validateStyleProperty(i){return!0}validateAnimatableStyleProperty(i){return!0}containsElement(i,e){return Ml(i,e)}getParentElement(i){return fo(i)}query(i,e,n){return Pl(i,e,n)}computeStyle(i,e,n){return _o(i,e)}animate(i,e,n,r,o,d=[]){let m=r==0?"both":"forwards",p={duration:n,delay:r,fill:m};o&&(p.easing=o);let f=new Map,_=d.filter(P=>P instanceof hr);nu(n,r)&&_.forEach(P=>{P.currentSnapshot.forEach((A,j)=>f.set(j,A))});let y=eu(e).map(P=>new Map(P));y=ru(i,y,f);let T=Nu(i,y);return new hr(i,y,p,T)}};var ar="@",Ul="@.disabled",gr=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(i,e,n,r){this.namespaceId=i,this.delegate=e,this.engine=n,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(i){var e,n;(n=(e=this.delegate).destroyNode)==null||n.call(e,i)}destroy(){var i;this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),(i=this._onDestroy)==null||i.call(this)}createElement(i,e){return this.delegate.createElement(i,e)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,e){this.delegate.appendChild(i,e),this.engine.onInsert(this.namespaceId,e,i,!1)}insertBefore(i,e,n,r=!0){this.delegate.insertBefore(i,e,n),this.engine.onInsert(this.namespaceId,e,i,r)}removeChild(i,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(i,e){return this.delegate.selectRootElement(i,e)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,e,n,r){this.delegate.setAttribute(i,e,n,r)}removeAttribute(i,e,n){this.delegate.removeAttribute(i,e,n)}addClass(i,e){this.delegate.addClass(i,e)}removeClass(i,e){this.delegate.removeClass(i,e)}setStyle(i,e,n,r){this.delegate.setStyle(i,e,n,r)}removeStyle(i,e,n){this.delegate.removeStyle(i,e,n)}setProperty(i,e,n){e.charAt(0)==ar&&e==Ul?this.disableAnimations(i,!!n):this.delegate.setProperty(i,e,n)}setValue(i,e){this.delegate.setValue(i,e)}listen(i,e,n,r){return this.delegate.listen(i,e,n,r)}disableAnimations(i,e){this.engine.disableAnimations(i,e)}},mo=class extends gr{factory;constructor(i,e,n,r,o){super(e,n,r,o),this.factory=i,this.namespaceId=e}setProperty(i,e,n){e.charAt(0)==ar?e.charAt(1)=="."&&e==Ul?(n=n===void 0?!0:!!n,this.disableAnimations(i,n)):this.engine.process(this.namespaceId,i,e.slice(1),n):this.delegate.setProperty(i,e,n)}listen(i,e,n,r){if(e.charAt(0)==ar){let o=Bu(i),d=e.slice(1),m="";return d.charAt(0)!=ar&&([d,m]=Vu(d)),this.engine.listen(this.namespaceId,o,d,m,p=>{let f=p._data||-1;this.factory.scheduleListenerCallback(f,n,p)})}return this.delegate.listen(i,e,n,r)}};function Bu(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function Vu(t){let i=t.indexOf("."),e=t.substring(0,i),n=t.slice(i+1);return[e,n]}var vr=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(i,e,n){this.delegate=i,this.engine=e,this._zone=n,e.onRemovalComplete=(r,o)=>{o==null||o.removeChild(null,r)}}createRenderer(i,e){var f;let n="",r=this.delegate.createRenderer(i,e);if(!i||!((f=e==null?void 0:e.data)!=null&&f.animation)){let _=this._rendererCache,y=_.get(r);if(!y){let T=()=>_.delete(r);y=new gr(n,r,this.engine,T),_.set(r,y)}return y}let o=e.id,d=e.id+"-"+this._currentId;this._currentId++,this.engine.register(d,i);let m=_=>{Array.isArray(_)?_.forEach(m):this.engine.registerTrigger(o,d,i,_.name,_)};return e.data.animation.forEach(m),new mo(this,d,r,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,e,n){if(i>=0&&i<this._microtaskId){this._zone.run(()=>e(n));return}let r=this._animationCallbacksBuffer;r.length==0&&queueMicrotask(()=>{this._zone.run(()=>{r.forEach(o=>{let[d,m]=o;d(m)}),this._animationCallbacksBuffer=[]})}),r.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(i){var e,n;this.engine.flush(),(n=(e=this.delegate).componentReplaced)==null||n.call(e,i)}};var zu=(()=>{class t extends qi{constructor(e,n,r){super(e,n,r)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||t)(X($t),X(Ii),X(wi))};static \u0275prov=he({token:t,factory:t.\u0275fac})}return t})();function qu(){return new cr}function Hu(t,i,e){return new vr(t,i,e)}var Bl=[{provide:wi,useFactory:qu},{provide:qi,useClass:zu},{provide:fa,useFactory:Hu,deps:[Aa,qi,Ci]}],Ll=[{provide:Ii,useFactory:()=>new fr},{provide:Rr,useValue:"BrowserAnimations"},...Bl],Gu=[{provide:Ii,useClass:go},{provide:Rr,useValue:"NoopAnimations"},...Bl],Vl=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?Gu:Ll}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=xe({type:t});static \u0275inj=Se({providers:Ll,imports:[wn]})}return t})();var $u=()=>{let t=I(M),i=I(Q),e=t.isProfesseur();return e||i.navigate(["/Accueil"]),e},jl=(t,i)=>$u();var Qu=()=>{let t=I(M),i=I(Q),e=t.isEntreprise();return e||i.navigate(["/Accueil"]),e},zl=(t,i)=>Qu();var Ju=()=>{let t=I(M),i=I(Q),e=t.isFouE();return e||i.navigate(["/Accueil"]),e},ql=(t,i)=>Ju();var Yu=()=>{let t=I(M),i=I(Q),e=t.isFamille();return e||i.navigate(["/Accueil"]),e},Hl=(t,i)=>Yu();var em=()=>{let t=I(M),i=I(Q),e=t.isPersonnel();return e||i.navigate(["/Accueil"]),e},Gl=(t,i)=>em();var im=(t,i,e,n=!1)=>{let r=I(M),o=I(Q),d=I(oi),m;if(!e&&i.length===1)m=V.isModuleEnabled(r.currentUser,i[0]);else{let p=d.snapshot.entries;m=V.canAccessPath(p,i,t,n)}if(!m)if(r.isLoggedIn())o.navigate(["/Accueil"]);else{let p={queryParams:{cameFrom:t}};o.navigate(["/login"],p).catch(()=>console.error("checkLogin navigate to /login"))}return m},W=(t,i)=>{let e=t.data&&Array.isArray(t.data.accessModules)?t.data.accessModules:[],n=t.data&&t.data.checkByPath?t.data.checkByPath:!1,r=t.data&&t.data.hasRedirectModuleRoute?t.data.hasRedirectModuleRoute:!1,o=i.reduce((d,m)=>`${d}/${m.path}`,"");return im(o,e,n,r)};var rm=(t,i)=>i.isFouE()&&V.isModuleEnabled(i.currentUser,b.CARNET_CORRESPONDANCE,t)?!0:i.isProfOuPersonnel()&&V.isModuleEnabled(i.currentUser,b.CARNET_CORRESPONDANCE),hn=(t,i)=>{let e=0,n=I(M),r=we.isNotEmptyString(t.path)?t.path.split("/"):[],o=r.indexOf(":typeUser");if(o!==-1&&i.length>o&&i[o].path===O.ELEVE&&!n.isEleve()){let m=r.indexOf(":idUser");m!==-1&&i.length>m&&(e=Number.parseInt(i[m].path,10))}return rm(e,n)};var am=t=>{let i=I(M),e=I(ri);return i.isProfOuPersonnel()?i.isPersonnel()?Le(!0):V.getModuleParametre(b.CARNET_NOTES,"seulPPVoieToutesLesNotes",i.currentUser)==="1"?e.getClasseGroupeById(t,on.CLASSE).pipe(Ke(r=>r.isPP)):Le(!0):Le(!0)},$l=(t,i)=>{let n=(we.isNotEmptyString(t.path)?t.path.split("/"):[]).indexOf(":idEntity");if(n!==-1&&i.length>n){let r=Number.parseInt(i[n].path,10);if(r>0)return am(r)}return!1};var Kl=t=>(I(Ft).logout(),!0);var Ql=(()=>{let i=class i extends Un{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0?this.title.setTitle(`${r} - EcoleDirecte`):this.title.setTitle("EcoleDirecte")}};i.\u0275fac=function(r){return new(r||i)(X(kn))},i.\u0275prov=he({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var Wl=na(fd());var cm=t=>({"has-error":t}),dm=t=>({"alert alert-danger":t});function um(t,i){if(t&1&&(a(0,"div",11),C(1,"base64"),C(2,"ariaConvertNewline"),C(3,"filterHtml"),u(4,"detail"),s()),t&2){let e=h();c("innerHTML",x(3,6,x(2,4,me(1,1,e.sondageBack.detail,"decode"))),ue)}}function mm(t,i){if(t&1&&(a(0,"h3",18),u(1),C(2,"displayNom"),s()),t&2){let e=h().$implicit,n=h();l(),k(Pn(2,1,n.getSondageEleve(e.id),!1,!1))}}function pm(t,i){if(t&1&&(a(0,"span",21),u(1),s()),t&2){let e=h(3);l(),H("vous devez choisir ",e.sondageBack.nbChoix," option(s) !")}}function hm(t,i){t&1&&(a(0,"span",21),u(1,"vous devez choisir une option !"),s())}function fm(t,i){if(t&1&&(a(0,"div",19)(1,"strong"),u(2,"Attention :"),s(),E(3,pm,2,1,"span",20)(4,hm,2,0,"span",20),s()),t&2){let e=h().$implicit,n=h();c("ngClass",N(3,dm,!n.elevehaveAnswered(e))),l(3),c("ngIf",n.sondageBack.parcours.length===0),l(),c("ngIf",n.sondageBack.parcours.length>0)}}function gm(t,i){if(t&1){let e=L();a(0,"div",24)(1,"input",25),S("ngModelChange",function(){let r=D(e).$implicit,o=h(2).$implicit,d=h();return F(d.toggleSelectedReponse(o,r.codeMatiere))}),s(),a(2,"label",26),u(3),s()()}if(t&2){let e=i.$implicit,n=h(2).$implicit;l(),nt("name","specialite_",n.id,"_",e.codeMatiere,""),nt("id","specialite_",n.id,"_",e.codeMatiere,""),c("ngModel",n.specialites.indexOf(e.codeMatiere)>-1),l(),nt("for","specialite_",n.id,"_",e.codeMatiere,""),l(),k(e.libelle)}}function vm(t,i){if(t&1&&(a(0,"div",22),E(1,gm,4,11,"div",23),C(2,"trackByProperty"),s()),t&2){let e=h(2);l(),c("ngForOf",e.sondageBack.specialites)("ngForTrackBy",x(2,2,"$index"))}}function _m(t,i){if(t&1&&(a(0,"li"),u(1),s()),t&2){let e=i.$implicit;l(),k(e.libelle)}}function Em(t,i){if(t&1){let e=L();a(0,"div",24)(1,"input",27),S("change",function(){let r=D(e).$implicit,o=h(2).$implicit,d=h();return F(d.toggleSelectedParcours(o,r))}),s(),a(2,"label",26)(3,"ul"),E(4,_m,2,1,"li",28),C(5,"trackByProperty"),s()()()}if(t&2){let e=i.$implicit,n=i.index,r=h(2).$implicit,o=h();l(),nt("name","parcours_",r.id,"_",n,""),nt("id","parcours_",r.id,"_",n,""),c("checked",o.isParcoursCochee(r,e)),l(),nt("for","parcours_",r.id,"_",n,""),l(2),c("ngForOf",e)("ngForTrackBy",x(5,12,"codeMatiere"))}}function ym(t,i){if(t&1&&(a(0,"div",22),E(1,Em,6,14,"div",23),C(2,"trackByProperty"),s()),t&2){let e=h(2);l(),c("ngForOf",e.sondageBack.parcours)("ngForTrackBy",x(2,2,"$index"))}}function bm(t,i){if(t&1&&(a(0,"div",12)(1,"div",13),E(2,mm,3,5,"h3",14)(3,fm,5,5,"div",15),a(4,"div",16),E(5,vm,3,4,"div",17)(6,ym,3,4,"div",17),s()()()),t&2){let e=i.$implicit,n=h();l(),it("id","eleve_",e.id,""),c("ngClass",N(8,cm,!n.elevehaveAnswered(e)))("combien",n.sondageBack.nbChoix),l(),c("ngIf",n.authStore.isFamille()),l(),c("ngIf",!n.elevehaveAnswered(e)),l(2),c("ngIf",n.sondageBack.specialites.length>0),l(),c("ngIf",n.sondageBack.parcours.length>0)}}var _r=(()=>{let i=class i{constructor(n,r,o,d,m,p){this.authStore=n,this.modalRef=r,this.uiService=o,this.loaderService=d,this.rdtService=m,this.modalService=p,this.enCours=!1}ngOnInit(){this.sondageBack=new ps(this.sondage)}save(){if(this.enCours||!this.allElevesHaveAnswered())return;if(this.enCours=!0,!!this.sondageBack.eleves.some(r=>!r.specialites||r.specialites.length!==this.sondageBack.nbChoix)){this.uiService.notifyEvent(Y.genericError,"Enregistrement impossible. V\xE9rifiez le nombre d'options coch\xE9es","Sondage"),this.enCours=!1;return}this.showConfirmationModal()}showConfirmationModal(){let n={title:"Valider vos choix",message:"<p>\xCAtes-vous s\xFBr de vouloir envoyer <strong>d\xE9finitivement</strong> vos choix <strong> ?</p>",btnConfirm:"Oui",btnCancel:"Non"},r={id:this.modalService.getModalsCount()+1,initialState:n,ignoreBackdropClick:!0};this.modalService.show(Ti,r),this.modalService.onHide.pipe(ke(1),tt(o=>o===Qe.validation),We(o=>{this.loader=this.loaderService.show(this);let d=this.sondageBack.eleves.map(m=>this.rdtService.updateSondage(this.sondageBack.id,m));return ct(d)}),q(()=>{this.uiService.notifyEvent(Y.genericSuccess,"Vos choix ont bien \xE9t\xE9 envoy\xE9s","Sondage"),this.close()}),ge(()=>{this.enCours=!1,this.loaderService.hide(this)}),ie(o=>(this.uiService.notifyEvent(Y.genericError,"Une erreur s'est produite lors de l'envoi de vos choix","Sondage"),ze))).subscribe()}getSondageEleve(n){let r=this.authStore.currentUser;return this.authStore.isFamille()&&(r=r.profile.eleves.find(o=>o.id===n)),r}toggleSelectedReponse(n,r){let o=n.specialites.indexOf(r);o!==-1?n.specialites.splice(o,1):n.specialites.push(r)}toggleSelectedParcours(n,r){n.specialites=r.map(o=>o.codeMatiere)}isParcoursCochee(n,r){let o=r.map(d=>d.codeMatiere);return(0,Wl.default)(o,n.specialites)}close(){this.modalRef.hide()}allElevesHaveAnswered(){return this.sondageBack.eleves.every(n=>n.specialites.length===this.sondageBack.nbChoix)}elevehaveAnswered(n){let r=this.sondageBack.eleves.find(o=>o.id===n.id);return(r==null?void 0:r.specialites.length)===this.sondageBack.nbChoix}};i.\u0275fac=function(r){return new(r||i)(v(M),v(ui),v(ye),v(Re),v(Bi),v(Fe))},i.\u0275cmp=w({type:i,selectors:[["ed-modal-rdt-sondage"]],inputs:{sondage:"sondage"},standalone:!1,decls:15,vars:8,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Fermer cette fen\xEAtre",1,"btn-close","d-print-none",3,"click"],["name","formSondageEleve","id","formSondageEleve","method","post",3,"ngSubmit"],[1,"modal-body",3,"cgBusy"],["class","alert alert-info",3,"innerHTML",4,"ngIf"],["class","ed-card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"modal-footer"],[1,"w-100"],["type","button",1,"btn","btn-danger","float-start",3,"click"],["type","submit",1,"btn","btn-primary","float-end",3,"disabled"],[1,"alert","alert-info",3,"innerHTML"],[1,"ed-card"],["edCheckboxEqual","",1,"p-3",3,"id","ngClass","combien"],["class","mt-0",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"row"],["class","col-lg-8",4,"ngIf"],[1,"mt-0"],[3,"ngClass"],["class","margin-whitespace",4,"ngIf"],[1,"margin-whitespace"],[1,"col-lg-8"],["class","form-check",4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-check"],["type","checkbox",1,"form-check-input",3,"ngModelChange","name","id","ngModel"],[1,"form-check-label","fw-normal",3,"for"],["type","radio",1,"form-check-input",3,"change","name","id","checked"],[4,"ngFor","ngForOf","ngForTrackBy"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"h3",1),u(2),s(),a(3,"button",2),S("click",function(){return o.close()}),s()(),a(4,"form",3),S("ngSubmit",function(){return o.save()}),a(5,"div",4),E(6,um,5,8,"div",5)(7,bm,7,10,"div",6),C(8,"trackByProperty"),s(),a(9,"div",7)(10,"div",8)(11,"button",9),S("click",function(){return o.close()}),u(12,"Annuler"),s(),a(13,"button",10),u(14,"Sauvegarder"),s()()()()),r&2&&(l(2),k(o.sondageBack.libelle),l(3),c("cgBusy",o.loader),l(),c("ngIf",o.sondageBack.detail!==""),l(),c("ngForOf",o.sondageBack.eleves)("ngForTrackBy",x(8,6,"$index")),l(6),c("disabled",!o.allElevesHaveAnswered()))},dependencies:[oe,Ee,G,ut,On,It,dt,Zt,wt,se,As,Li,ii,Ve,be,Ze],styles:["#formSondageEleve[_ngcontent-%COMP%]   .ed-card[_ngcontent-%COMP%]{margin-top:20px}"]});let t=i;return t})();var Jl=t=>({active:t}),Xl=()=>["fas","check"];function Cm(t,i){t&1&&g(0,"fa-icon",7),t&2&&c("icon",K(1,Xl))}function Sm(t,i){t&1&&g(0,"fa-icon",7),t&2&&c("icon",K(1,Xl))}var vi=function(t){return t.OJD="Aujourd'hui",t.Demain="Demain",t}(vi||{}),Er=(()=>{let i=class i{constructor(){this.ongletSelectedEvent=new bi,this.typeTabAccueilEDT=vi}setOnglet(n){this.ongletSelectedEvent.emit(n)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=w({type:i,selectors:[["ed-tab-edt"]],inputs:{ongletSelected:"ongletSelected"},outputs:{ongletSelectedEvent:"ongletSelectedEvent"},standalone:!1,decls:10,vars:12,consts:[[1,"form-check","form-check-inline","radio-custom-ed","d-block"],[1,"text-center"],["id","btnRadioEDTA","name","ongletEDT","type","radio",1,"form-check-input",3,"change","checked","value"],["for","btnRadioEDTA",1,"form-check-label","fw-normal","btn","btn-secondary",3,"ngClass"],["class","margin-whitespace i-small","aria-hidden","true",3,"icon",4,"ngIf"],["id","btnRadioEDTD","name","ongletEDT","type","radio",1,"form-check-input",3,"change","checked","value"],["for","btnRadioEDTD",1,"form-check-label","fw-normal","btn","btn-secondary",3,"ngClass"],["aria-hidden","true",1,"margin-whitespace","i-small",3,"icon"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"div",1)(2,"input",2),S("change",function(){return o.setOnglet(o.typeTabAccueilEDT.OJD)}),s(),a(3,"label",3),u(4," Aujourd'hui "),E(5,Cm,1,2,"fa-icon",4),s(),a(6,"input",5),S("change",function(){return o.setOnglet(o.typeTabAccueilEDT.Demain)}),s(),a(7,"label",6),u(8," Demain "),E(9,Sm,1,2,"fa-icon",4),s()()()),r&2&&(l(2),c("checked",o.ongletSelected===o.typeTabAccueilEDT.OJD)("value",o.typeTabAccueilEDT.OJD),l(),c("ngClass",N(8,Jl,o.ongletSelected===o.typeTabAccueilEDT.OJD)),l(2),c("ngIf",o.ongletSelected===o.typeTabAccueilEDT.OJD),l(),c("checked",o.ongletSelected===o.typeTabAccueilEDT.Demain)("value",o.typeTabAccueilEDT.Demain),l(),c("ngClass",N(10,Jl,o.ongletSelected===o.typeTabAccueilEDT.Demain)),l(2),c("ngIf",o.ongletSelected===o.typeTabAccueilEDT.Demain))},dependencies:[oe,G,pe],encapsulation:2,changeDetection:0});let t=i;return t})();var xm=()=>["date|desc"],Tm=t=>({"message-item-new":t}),Zl=t=>[t],Mm=t=>({auxiliaryModal:t}),Pm=t=>({outlets:t}),Am=t=>["",t],Im=()=>["fas","magnifying-glass"];function wm(t,i){if(t&1&&(a(0,"a",20),u(1),s()),t&2){let e=h().$implicit;c("routerLink",N(10,Am,N(8,Pm,N(6,Mm,N(4,Zl,e.href.route)))))("skipLocationChange",!0)("queryParams",e.href.queryParams),l(),H(" ",e.titre," ")}}function km(t,i){if(t&1&&(a(0,"a",21),u(1),s()),t&2){let e=h().$implicit;c("routerLink",N(3,Zl,e.href.route))("queryParams",e.href.queryParams),l(),k(e.titre)}}function Om(t,i){if(t&1&&(a(0,"span"),u(1),s()),t&2){let e=h().$implicit;l(),k(" "+e.soustitre)}}function Dm(t,i){if(t&1&&(a(0,"span",17),u(1),C(2,"edDate"),s()),t&2){let e=h().$implicit;l(),Ea(""," ","",me(2,2,e.date,"shortTime"),"")}}function Fm(t,i){if(t&1&&(le(0),g(1,"div",22),C(2,"ariaConvertNewline"),C(3,"filterHtml"),ce()),t&2){let e=h().$implicit,n=h(2);l(),c("innerHTML",x(3,3,x(2,1,n.display(e))),ue)}}function Rm(t,i){if(t&1&&(le(0),g(1,"div",22),C(2,"filterHtml"),g(3,"i",23),C(4,"filterHtml"),ce()),t&2){let e=h().$implicit,n=h(2);l(),c("innerHTML",x(2,2,n.displayReu(e,"first")),ue),l(2),c("innerHTML",x(4,4,n.displayReu(e,"second")),ue)}}function Nm(t,i){if(t&1&&(a(0,"button",24),g(1,"fa-icon",25),u(2," Visualiser "),s()),t&2){let e=h().$implicit;c("otherTypeDL",!0)("file",e.fileFormated)("typeFichier",e.soustitre),l(),c("icon",K(4,Im))}}function Um(t,i){if(t&1&&(a(0,"div",3)(1,"div",4)(2,"div"),g(3,"i",5),s()(),a(4,"div",6)(5,"div",7)(6,"div",8)(7,"h3",9),E(8,wm,2,12,"a",10)(9,km,2,5,"a",11)(10,Om,2,1,"span",12),s(),a(11,"div",13)(12,"div",14),g(13,"span",15),a(14,"span",16)(15,"span",17),u(16),C(17,"edDate"),s(),E(18,Dm,3,5,"span",18),s()()()()(),E(19,Fm,4,5,"ng-container",12)(20,Rm,5,6,"ng-container",12)(21,Nm,3,5,"button",19),s()()),t&2){let e=i.$implicit,n=h(2);c("ngClass",N(13,Tm,e.date>=n.authStore.currentUser.lastConnexion)),l(3),c("ngClass",e.icon+" "+e.bgFor),l(5),c("ngIf",e.typeElement==="Messagerie"),l(),c("ngIf",e.typeElement!=="Messagerie"),l(),c("ngIf",e.soustitre),l(6),k(me(17,10,e.date,"EEEE d MMMM")),l(2),c("ngIf",e.afficherHeure),l(),c("ngIf",e.typeElement!=="ReunionPPFamille"),l(),c("ngIf",e.typeElement==="ReunionPPFamille"),l(),c("ngIf",e.typeElement==="Document")}}function Lm(t,i){if(t&1&&(a(0,"div",1),E(1,Um,22,15,"div",2),C(2,"orderBy"),C(3,"trackByProperty"),s()),t&2){let e=h();l(),c("ngForOf",me(2,2,e.timelineEvents,K(7,xm)))("ngForTrackBy",x(3,5,"$index"))}}var Gi=(()=>{let i=class i{constructor(n){this.authStore=n,this.timelineEvents=[],this.isActuHidden=!1,this.isNoteEnabled=!1,this.isVSEnabled=!1}ngOnInit(){this.authStore.isFamille()?(this.isNoteEnabled=V.isModuleEnabled(this.authStore.currentUser,b.NOTES,this.idUser),this.isVSEnabled=V.isModuleEnabled(this.authStore.currentUser,b.VIE_SCOLAIRE,this.idUser)):(this.isNoteEnabled=V.isModuleEnabled(this.authStore.currentUser,b.NOTES),this.isVSEnabled=V.isModuleEnabled(this.authStore.currentUser,b.VIE_SCOLAIRE)),this.timelineEvents=this.timelineEvents.filter(n=>this.filterTimeline(n))}filterTimeline(n){return n.typeElement==="VieScolaire"&&!this.isVSEnabled||n.typeElement==="Note"&&!this.isNoteEnabled?!1:!(n.typeElement.startsWith("ReunionPP")&&vt.isDatePassee(n.date))}display(n){if(Object.isExists(n.description)){let r="";return r=n.description.split(" / ").join("<br>"),r}else return""}displayReu(n,r){if(n.typeElement==="ReunionPPFamille"){let o=n.description.split(" / ");return r==="first"?o[0]:o[1]}else return""}};i.\u0275fac=function(r){return new(r||i)(v(M))},i.\u0275cmp=w({type:i,selectors:[["ed-timeline"]],inputs:{idUser:"idUser",timelineEvents:"timelineEvents",isActuHidden:"isActuHidden"},standalone:!1,decls:1,vars:1,consts:[["class","qa-message-list","id","wallmessages","role","list",4,"ngIf"],["id","wallmessages","role","list",1,"qa-message-list"],["class","message-item","role","listitem",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],["role","listitem",1,"message-item",3,"ngClass"],[1,"message-overlay"],[1,"fa-2x",3,"ngClass"],[1,"message-inner"],[1,"message-head","clearfix"],[1,"user-detail"],[1,"handle","m-0"],["class","focus-blue",3,"routerLink","skipLocationChange","queryParams",4,"ngIf"],[3,"routerLink","queryParams",4,"ngIf"],[4,"ngIf"],[1,"post-meta"],[1,"asker-meta"],[1,"qa-message-what"],[1,"qa-message-when"],[1,"qa-message-when-data"],["class","qa-message-when-data",4,"ngIf"],["edLightbox","","type","button","class","btn btn-link",3,"otherTypeDL","file","typeFichier",4,"ngIf"],[1,"focus-blue",3,"routerLink","skipLocationChange","queryParams"],[3,"routerLink","queryParams"],[1,"qa-message-content",3,"innerHTML"],[1,"form-text",3,"innerHTML"],["edLightbox","","type","button",1,"btn","btn-link",3,"otherTypeDL","file","typeFichier"],["aria-hidden","true",1,"i-small",3,"icon"]],template:function(r,o){r&1&&E(0,Lm,4,8,"div",0),r&2&&c("ngIf",o.timelineEvents&&o.timelineEvents.length>0&&!o.isActuHidden)},dependencies:[oe,Ee,G,ae,pe,Bs,ja,Bn,Ve,be,Ze],styles:["#wallmessages[_ngcontent-%COMP%]{margin-left:20px;padding:1px 0 0;border-left:2px solid #e2e7ed}#wallmessages[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]{position:relative;margin:40px 0 0;padding:0 0 0 30px}#wallmessages[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:-20px;width:40px;height:40px;background:#fff;border:2px solid #e2e7ed;border-radius:100%;text-align:center;line-height:35px}#wallmessages[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .handle[_ngcontent-%COMP%]{font-size:13px;font-weight:700;text-transform:uppercase;line-height:1.2}#wallmessages[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .qa-message-when-data[_ngcontent-%COMP%]{font-size:11px;font-weight:700;font-style:italic}#wallmessages[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .qa-message-content[_ngcontent-%COMP%]{font-size:13px}#wallmessages[_ngcontent-%COMP%]   .message-item.message-item-new[_ngcontent-%COMP%]   .message-overlay[_ngcontent-%COMP%]{border-color:var(--light-primary-color)}"]});let t=i;return t})();var ec=t=>({active:t}),tc=()=>["fas","check"],Bm=t=>[t];function Vm(t,i){t&1&&g(0,"fa-icon",12),t&2&&c("icon",K(1,tc))}function jm(t,i){t&1&&g(0,"fa-icon",12),t&2&&c("icon",K(1,tc))}function zm(t,i){if(t&1&&(a(0,"span",13),u(1),s()),t&2){let e=h();l(),k(+e.nbAgendaEvenements)}}function qm(t,i){if(t&1&&(a(0,"div",14)(1,"a",15),u(2,"Tout l'agenda"),s(),g(3,"ed-agenda-evenements",16),s()),t&2){let e=h();l(),c("routerLink",N(6,Bm,"/"+e.typeUser+"/"+e.idUser+"/Agenda")),l(2),c("displayTargets",!1)("droitsAgenda",e.agendaConfig)("events",e.agendaEvents)("idEntity",e.idUser)("typeEntity",e.typeUser)}}function Hm(t,i){t&1&&(a(0,"div",17)(1,"h3",18),u(2,"Aucun \xE9v\xE9nement pour votre \xE9tablissement"),s()())}function Gm(t,i){if(t&1&&g(0,"ed-agenda-evenements",16),t&2){let e=h(2).ngIf,n=h();c("displayTargets",!1)("droitsAgenda",n.agendaConfig)("events",e)("idEntity",n.idUser)("typeEntity",n.typeUser)}}function $m(t,i){if(t&1&&(a(0,"div",14),E(1,Gm,1,5,"ed-agenda-evenements",19),s()),t&2){let e=h().ngIf;l(),c("ngIf",(e==null?null:e.length)>0)}}function Km(t,i){t&1&&(a(0,"div",17)(1,"h3",18),u(2,"Aucun \xE9v\xE9nement pour les espaces de travail"),s()())}function Qm(t,i){if(t&1&&(a(0,"div"),E(1,$m,2,1,"div",9)(2,Km,3,0,"div",10),s()),t&2){let e=i.ngIf;l(),c("ngIf",(e==null?null:e.length)>0),l(),c("ngIf",(e==null?null:e.length)===0)}}var $i=class $i{constructor(i,e,n){this.authStore=i,this.espaceDeTravailService=e,this.loaderService=n,this.typeUser=this.authStore.currentUser.typeCompte,this.idUser=this.authStore.currentUser.id,this.agendaConfig={CAN_CREATE:!1,CAN_UPDATE:!1,CAN_DELETE:!1},this.typeOngletTabAgenda={GENERAL:"G",ESPACE_TRAVAIL:"W"},this.ongletSelected=this.typeOngletTabAgenda.GENERAL,Object.isExists(this.nbAgendaEvenements)||(this.nbAgendaEvenements=+V.getModuleParametre(b.CLOUD,"nbBadgeAgendaEvenements",this.authStore.currentUser))}ngOnInit(){this.listeEvenementsW$=this.espaceDeTravailService.listeAgendaOuPostItsEspacesTravail("agenda").pipe(Ke(i=>Array.isArray(i)?i.map(e=>new Ot(e)):void 0),ge(()=>this.loaderService.hide(this)))}showAgendaW(){this.loader=this.loaderService.show(this),this.nbAgendaEvenements=0}setOnglet(i){this.ongletSelected=i}};$i.\u0275fac=function(e){return new(e||$i)(v(M),v(us),v(Re))},$i.\u0275cmp=w({type:$i,selectors:[["ed-tab-agenda"]],inputs:{agendaEvents:"agendaEvents"},standalone:!1,decls:16,vars:18,consts:[[1,"mt-4","form-check","form-check-inline","radio-custom-ed","d-block",3,"cgBusy"],[1,"text-center"],["id","btnRadioAgendaGen","name","ongletAgenda","type","radio","value","G",1,"form-check-input",3,"change","checked"],["for","btnRadioAgendaGen",1,"form-check-label","fw-normal","btn","btn-secondary",3,"ngClass"],["class","margin-whitespace i-small","aria-hidden","true",3,"icon",4,"ngIf"],["id","btnRadioaAgendaEspaceT","name","ongletAgenda","type","radio","value","W",1,"form-check-input",3,"change","checked"],["for","btnRadioaAgendaEspaceT",1,"form-check-label","fw-normal","btn","btn-secondary",3,"ngClass"],["class","badge alert-danger margin-whitespace",4,"ngIf"],[3,"hidden"],["class","encart-agenda mt-4",4,"ngIf"],["class","jumbotron",4,"ngIf"],[4,"ngIf"],["aria-hidden","true",1,"margin-whitespace","i-small",3,"icon"],[1,"badge","alert-danger","margin-whitespace"],[1,"encart-agenda","mt-4"],["href","",1,"mb-4","ms-1",3,"routerLink"],[3,"displayTargets","droitsAgenda","espaceTravail","events","idEntity","selectedTargets","typeEntity"],[1,"jumbotron"],[1,"default"],[3,"displayTargets","droitsAgenda","espaceTravail","events","idEntity","selectedTargets","typeEntity",4,"ngIf"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"div",1)(2,"input",2),S("change",function(){return n.setOnglet(n.typeOngletTabAgenda.GENERAL)}),s(),a(3,"label",3),u(4," Agenda \xE9tablissement "),E(5,Vm,1,2,"fa-icon",4),s(),a(6,"input",5),S("change",function(){return n.setOnglet(n.typeOngletTabAgenda.ESPACE_TRAVAIL),n.showAgendaW()}),s(),a(7,"label",6),u(8," Agenda de vos espaces de travail "),E(9,jm,1,2,"fa-icon",4)(10,zm,2,1,"span",7),s()(),a(11,"div",8),E(12,qm,4,8,"div",9)(13,Hm,3,0,"div",10),s(),E(14,Qm,3,2,"div",11),C(15,"async"),s()),e&2&&(c("cgBusy",n.loader),l(2),c("checked",n.ongletSelected===n.typeOngletTabAgenda.GENERAL),l(),c("ngClass",N(14,ec,n.ongletSelected===n.typeOngletTabAgenda.GENERAL)),l(2),c("ngIf",n.ongletSelected===n.typeOngletTabAgenda.GENERAL),l(),c("checked",n.ongletSelected===n.typeOngletTabAgenda.ESPACE_TRAVAIL),l(),c("ngClass",N(16,ec,n.ongletSelected===n.typeOngletTabAgenda.ESPACE_TRAVAIL)),l(2),c("ngIf",n.ongletSelected===n.typeOngletTabAgenda.ESPACE_TRAVAIL),l(),c("ngIf",n.nbAgendaEvenements>0),l(),c("hidden",n.ongletSelected!==n.typeOngletTabAgenda.GENERAL),l(),c("ngIf",n.agendaEvents&&n.agendaEvents.length>0),l(),c("ngIf",(n.agendaEvents==null?null:n.agendaEvents.length)===0),l(),c("ngIf",x(15,12,n.ongletSelected===n.typeOngletTabAgenda.ESPACE_TRAVAIL&&n.listeEvenementsW$)))},dependencies:[oe,G,ae,pe,se,Rt,Je],styles:["ed-agenda-evenements[_ngcontent-%COMP%]{width:100%}"],changeDetection:0});var bt=$i;Di([Ns()],bt.prototype,"nbAgendaEvenements",void 0);var Jm=t=>({"ed-container":t}),Xm=t=>({"col-lg-12 col-md-12":t}),Ym=t=>({customTimeline:t}),Zm=t=>({"col-lg-6":t}),To=t=>({"col-lg-5":t}),ep=(t,i)=>({"col-lg-12":t,"col-lg-6":i});function tp(t,i){if(t&1&&(a(0,"div",5),u(1," Votre mot de passe expire dans "),a(2,"b"),u(3),s(),u(4," jours. Vous pouvez le modifier en "),a(5,"a",6),u(6,"cliquant ici"),s(),u(7," . "),s()),t&2){let e=h();l(3),k(e.nbDays)}}function ip(t,i){t&1&&g(0,"div",15)}function np(t,i){if(t&1&&(a(0,"div",16)(1,"div",17)(2,"h2",18),u(3,"Quoi de neuf ?"),s(),g(4,"ed-timeline",19),s()()),t&2){let e=h(2);l(),c("ngClass",N(3,Ym,e.tabPostits.length===0&&e.agendaEvents.length===0)),l(3),c("idUser",e.idUser)("timelineEvents",e.timelineEvents)}}function rp(t,i){if(t&1&&g(0,"img",23),t&2){let e=h(3);c("src",e.urlTelechargementLogoEtab,ve)}}function op(t,i){if(t&1&&(a(0,"div",20)(1,"div",21),u(2),E(3,rp,1,1,"img",22),s()()),t&2){let e=h(2);l(2),H(" ",e.currentUser==null?null:e.currentUser.nomEtablissement," "),l(),c("ngIf",e.currentUser==null?null:e.currentUser.logoEtablissement)}}function ap(t,i){if(t&1&&(le(0),g(1,"ed-tab-postits",27),ce()),t&2){let e=h(4);l(),c("isActifPostitsEspacesTravail",e.isActifPostitsEspacesTravail)("tabPostits",e.tabPostits)}}function sp(t,i){t&1&&(a(0,"h2"),u(1," Informations "),s())}function lp(t,i){if(t&1&&(a(0,"div",31)(1,"h3"),u(2),s(),g(3,"p",32),C(4,"ariaConvertNewline"),C(5,"filterHtml"),s()),t&2){let e=i.$implicit;l(2),k(e.titre),l(),c("innerHTML",x(5,4,x(4,2,e.contenu)),ue)}}function cp(t,i){if(t&1&&(a(0,"div",28),E(1,sp,2,0,"h2",24)(2,lp,6,6,"div",29),C(3,"trackByProperty"),g(4,"ed-postits",30),s()),t&2){let e=h(4);l(),c("ngIf",e.authStore.currentUser.messageMaintenance&&e.authStore.currentUser.messageMaintenance.length>0||(e.tabPostits==null?null:e.tabPostits.length)>0),l(),c("ngForOf",e.authStore.currentUser.messageMaintenance)("ngForTrackBy",x(3,7,"$index")),l(2),c("configPostits",e.postitConfig)("idUser",e.idUser)("typeUser",e.typeUser)("tabPostIts",e.tabPostits)}}function dp(t,i){if(t&1&&(a(0,"div"),E(1,ap,2,2,"ng-container",4)(2,cp,5,9,"ng-template",null,1,Te),s()),t&2){let e=re(3),n=h(3);l(),c("ngIf",n.espacesTravailActif&&n.isActifPostitsEspacesTravail)("ngIfElse",e)}}function up(t,i){if(t&1&&(a(0,"div",43),u(1),C(2,"base64"),s()),t&2){let e=h().$implicit;l(),k(me(2,1,e.detail,"decode"))}}function mp(t,i){if(t&1){let e=L();a(0,"li",39)(1,"p")(2,"span",40),u(3),s()(),E(4,up,3,4,"div",41),a(5,"button",42),S("click",function(){let r=D(e).$implicit,o=h(5);return F(o.openSondageEleve(r))}),u(6,"R\xE9pondre au sondage"),s()()}if(t&2){let e=i.$implicit;l(3),k(e.libelle),l(),c("ngIf",e.detail!=="")}}function pp(t,i){if(t&1&&(a(0,"div",36)(1,"h2",37),u(2,"Sondages"),s(),a(3,"ul"),E(4,mp,7,2,"li",38),C(5,"trackByProperty"),s()()),t&2){let e=h(4);c("ngClass",N(5,To,(e.tabPostits==null?null:e.tabPostits.length)===0&&!e.isActifPostitsEspacesTravail)),l(4),c("ngForOf",e.tabRDTSondages)("ngForTrackBy",x(5,3,"$index"))}}function hp(t,i){if(t&1){let e=L();a(0,"li",39)(1,"p")(2,"span",40),u(3),s()(),a(4,"button",42),S("click",function(){let r=D(e).$implicit,o=h(5);return F(o.openEDForms(r))}),u(5),s()()}if(t&2){let e=i.$implicit;l(3),k(e.titre),l(2),H("R\xE9pondre au ",e.typeToLibelleEDForms,"")}}function fp(t,i){if(t&1&&(a(0,"div",44)(1,"h2",37),u(2,"Formulaires"),s(),a(3,"ul"),E(4,hp,6,2,"li",38),C(5,"trackByProperty"),s()()),t&2){let e=h(4);c("ngClass",N(5,To,(e.tabPostits==null?null:e.tabPostits.length)===0&&!e.isActifPostitsEspacesTravail)),l(4),c("ngForOf",e.tabEDForms)("ngForTrackBy",x(5,3,"idParticipant"))}}function gp(t,i){if(t&1&&(a(0,"div",33),E(1,pp,6,7,"div",34)(2,fp,6,7,"div",35),s()),t&2){let e=h(3);l(),c("ngIf",e.tabRDTSondages&&e.tabRDTSondages.length>0),l(),c("ngIf",e.tabEDForms&&e.tabEDForms.length>0)}}function vp(t,i){if(t&1&&(le(0),g(1,"ed-tab-agenda",46),ce()),t&2){let e=h(4);l(),c("agendaEvents",e.agendaEvents)}}function _p(t,i){if(t&1&&(a(0,"div",47)(1,"h2",37),u(2,"Agenda"),s(),a(3,"a",48),u(4,"Tout l'agenda"),s(),g(5,"ed-agenda-evenements",49),s()),t&2){let e=h(4);l(3),nt("href","/",e.typeUser,"/",e.idUser,"/Agenda",ve),l(2),c("idEntity",e.idUser)("events",e.agendaEvents)("typeEntity",e.typeUser)("droitsAgenda",e.agendaConfig)("displayTargets",!1)}}function Ep(t,i){if(t&1&&(a(0,"div",45),E(1,vp,2,1,"ng-container",4)(2,_p,6,8,"ng-template",null,1,Te),s()),t&2){let e=re(3),n=h(3);c("ngClass",N(3,To,(n.tabPostits==null?null:n.tabPostits.length)===0&&!n.isActifPostitsEspacesTravail)),l(),c("ngIf",n.espacesTravailActif&&n.isActifAgendaEvenementsEspacesTravail)("ngIfElse",e)}}function yp(t,i){if(t&1&&(a(0,"div",17),E(1,dp,4,2,"div",24)(2,gp,3,2,"div",25)(3,Ep,4,5,"div",26),s()),t&2){let e=h(2);c("ngClass",N(4,Zm,(e.tabEDForms==null?null:e.tabEDForms.length)>0||(e.tabPostits==null?null:e.tabPostits.length)>0||e.isActifPostitsEspacesTravail||e.isActifAgendaEvenementsEspacesTravail||e.agendaEvents.length>0||e.tabRDTSondages&&e.tabRDTSondages.length>0)),l(),c("ngIf",(e.tabPostits==null?null:e.tabPostits.length)>0||e.espacesTravailActif&&e.isActifPostitsEspacesTravail),l(),c("ngIf",(e.tabRDTSondages==null?null:e.tabRDTSondages.length)>0||(e.tabEDForms==null?null:e.tabEDForms.length)>0),l(),c("ngIf",e.agendaEvents.length>0||e.espacesTravailActif&&e.isActifAgendaEvenementsEspacesTravail)}}function bp(t,i){if(t&1&&(a(0,"div",56)(1,"h2"),u(2,"Mes Rendez-vous"),s(),g(3,"ed-agenda-evenements",57),s()),t&2){let e=h(3);l(3),c("displayTargets",!1)("droitsAgenda",e.agendaConfig)("events",e.tabTodayVisio)("idEntity",e.idUser)("typeEntity",e.typeUser)("needToday",!0)}}function Cp(t,i){if(t&1){let e=L();a(0,"div",50),E(1,bp,4,6,"div",51),a(2,"h2",52),u(3,"Emploi du temps"),s(),a(4,"ed-tab-edt",53),S("ongletSelectedEvent",function(r){D(e);let o=h(2);return F(o.selectTabEDT(r))}),s(),a(5,"div",54),g(6,"ed-emploi-du-temps-scheduler",55),s()()}if(t&2){let e=h(2);c("ngClass",ft(7,ep,(e.tabPostits==null?null:e.tabPostits.length)===0&&!e.isActifPostitsEspacesTravail&&e.agendaEvents.length===0&&!e.isActifAgendaEvenementsEspacesTravail,(e.tabPostits==null?null:e.tabPostits.length)>0||e.isActifPostitsEspacesTravail||e.agendaEvents.length>0||e.isActifAgendaEvenementsEspacesTravail)),l(),c("ngIf",(e.tabTodayVisio==null?null:e.tabTodayVisio.length)>0),l(3),c("ongletSelected",e.tabEDTSelected),l(2),c("idEntity",e.idUser)("schedulerConfig",e.schedulerConfig)("schedulerTemplateConfig",e.schedulerTemplateConfig)("typeEntity",e.typeUser)}}function Sp(t,i){if(t&1&&(a(0,"div"),E(1,ip,1,0,"div",7),a(2,"div",8),E(3,np,5,5,"div",9),a(4,"div",10)(5,"div",11),E(6,op,4,2,"div",12)(7,yp,4,6,"div",13)(8,Cp,7,10,"div",14),s()()()()),t&2){let e=h();l(),c("ngIf",e.timelineEvents&&e.timelineEvents.length>0),l(2),c("ngIf",e.timelineEvents&&e.timelineEvents.length>0),l(),c("ngClass",N(6,Xm,!e.timelineEvents)),l(2),c("ngIf",(e.currentUser==null?null:e.currentUser.logoEtablissement)||(e.currentUser==null?null:e.currentUser.nomEtablissement)),l(),c("ngIf",(e.tabEDForms==null?null:e.tabEDForms.length)>0||e.tabPostits.length>0||e.isActifPostitsEspacesTravail||e.isActifAgendaEvenementsEspacesTravail||e.agendaEvents.length>0||e.tabRDTSondages&&e.tabRDTSondages.length>0),l(),c("ngIf",e.isEDTEnabled)}}function xp(t,i){t&1&&(a(0,"div",58)(1,"h3",59),u(2,"Aucun contenu n'est disponible"),s()())}var ic=(()=>{let i=class i extends Ie(){constructor(n,r,o,d,m,p,f,_,y,T,P,A){super(),this.activatedRoute=n,this.uiService=r,this.authStore=o,this.loaderService=d,this.timelineService=m,this.rdtService=p,this.modalService=f,this.edfService=_,this.router=y,this.events=T,this.filtresAgendaEdtUserStore=P,this.cloudService=A,this.edTypeUser=O,this.tabPostits=[],this.agendaEvents=[],this.timelineEvents=[],this.tabRDTSondages=[],this.tabEDForms=[],this.isEDTEnabled=!1,this.isMessagerieEnabled=!1,this.tabTodayVisio=[],this.tabEDTSelected=vi.OJD,this.nbDays=0,this.nbDays=this.authStore.snapshot.nbJourMdpExire,this.espacesTravailActif=V.isModuleEnabled(this.authStore.currentUser,b.CLOUD),this.urlTelechargementLogoEtab=`${_t()}/telechargement${Ye.apiExtension}?cToken=${o.cToken()}&verbe=get&fichierId=${o.currentUser.logoEtablissement}&leTypeDeFichier=IMPORT_FTP`,this.isEDTEnabled=V.isModuleEnabled(this.authStore.currentUser,b.EDT),this.isMessagerieEnabled=V.isModuleEnabled(this.authStore.currentUser,b.MESSAGERIE),this.isActifPostitsEspacesTravail=V.getModuleParametre(b.CLOUD,"isActifPostitsEspacesTravail",this.authStore.currentUser)>0,this.isActifAgendaEvenementsEspacesTravail=V.getModuleParametre(b.CLOUD,"isActifAgendaEvenementsEspacesTravail",this.authStore.currentUser)>0,this.schedulerTemplateConfig={weekButton:!1,monthButton:!1,todayButton:!1,prevButton:!1,nextButton:!1,dateTitle:!1,exportPdf:!1},this.schedulerConfig={mode:Qn.day},this.postitConfig={addPostit:!1,updatePostit:!1,deletePostit:!1,displayDateCreated:!0,displayDateLimit:!1,displayTargets:!1,displayFormTargets:!1,selectTargets:[],visibilityPostitPast:!1,displayLibelleAuteur:!1,contexte:ti.ACCUEIL},this.agendaConfig={CAN_CREATE:!1,CAN_UPDATE:!1,CAN_DELETE:!1}}get currentUser(){return this.authStore.currentUser}ngOnInit(){this.authStore.isEleve()?(this.typeUser=this.authStore.currentUser.typeCompte,this.idUser=this.authStore.currentUser.id,this.refreshData()):this.activatedRoute.paramMap.pipe(Ke(n=>{this.typeUser=O.ELEVE,this.idUser=+n.get("idUser"),this.isEDTEnabled=V.isModuleEnabled(this.authStore.currentUser,b.EDT,this.idUser),this.isMessagerieEnabled=V.isModuleEnabled(this.authStore.currentUser,b.MESSAGERIE,this.idUser),this.espacesTravailActif=!1,this.isActifAgendaEvenementsEspacesTravail=!1,this.isActifPostitsEspacesTravail=!1,this.refreshData()}),ie(n=>this.uiService.notifyErrorThenEmpty(n,!0,"Erreur")),De(this._destroyRef)).subscribe(),this.events.select$("array:removeEntityById").pipe(De(this._destroyRef)).subscribe(n=>{n>0&&Array.isArray(this.tabEDForms)&&(this.tabEDForms=this.tabEDForms.filter(r=>n!==r.idParticipant))})}refreshData(){this.filtresAgendaEdtUserStore.cleanDatas();let n=[...this.filtresAgendaEdtUserStore.getTabAgendaEdtToDisplay()];this.filtresAgendaEdtUserStore.convertEntityToAgendaFiltre(O.ELEVE,this.idUser).pipe(q(m=>{if(Array.isArray(m)){for(let p of m)p.typeAgenda===Ln.EDT&&(p.selected=!0),n.unshift(p);this.filtresAgendaEdtUserStore.tabAgendaEdtToDisplay=n}})).subscribe(),this.timelineEvents=[];let r=this.typeUser,o=this.idUser;this.authStore.isFamille()&&(r=this.authStore.currentUser.typeCompte,o=this.authStore.currentUser.id);let d=[this.timelineService.eleveTimeline(this.idUser),this.timelineService.communTimeline(r,o),this.rdtService.getSondages(),this.edfService.getFS(this.typeUser,this.idUser),this.cloudService.getVisioToday(this.authStore.currentUser.id,this.authStore.currentUser.typeCompte)];this.loader=this.loaderService.show(this),this.datasAccueil$=ct(d).pipe(q(m=>{var f,_;let p=[];for(let y of m[0]){let T=new Qt({date:y.date,description:y.contenu,typeElement:y.typeElement,idElement:y.idElement,titre:y.titre,soustitre:y.soustitre,idUser:this.idUser,typeUser:this.typeUser,contenu:y.contenu});p.push(T)}this.timelineEvents=[...this.timelineEvents,...p],this.tabPostits=(f=m[1].postits)==null?void 0:f.map(y=>new li(y)),this.agendaEvents=(_=m[1].evenements)==null?void 0:_.map(y=>ai.cleanEvent(new Ot(y))),this.tabRDTSondages=m[2],this.tabEDForms=m[3],this.tabTodayVisio=[...m[4].filter(y=>this.authStore.isEleve()||y.idEleve===this.idUser)]}),ge(()=>this.loaderService.hide(this)),ie(m=>this.uiService.notifyErrorThenEmpty(m,!0,"Erreur")))}openSondageEleve(n){let r={id:this.modalService.getModalsCount()+1,initialState:{sondage:n},class:"modal-lg"};this.modalService.show(_r,r),this.modalService.onHide.pipe(ke(1),tt(o=>o===Qe.validation),We(o=>(this.loader=this.loaderService.show(this),this.rdtService.getSondages())),q(o=>{this.tabRDTSondages=o}),ge(()=>this.loaderService.hide(this)),ie(o=>this.uiService.notifyErrorThenEmpty(o,!0,"Erreur"))).subscribe()}openEDForms(n){this.router.navigate(["",{outlets:{auxiliaryModal:["repondre-au-fs"]}}],{skipLocationChange:!0,queryParams:{idFS:n.id,idParticipant:n.idParticipant,titre:n.titre}}).catch(()=>console.error("AccueilEleveComponent.openEDForms navigate to fs form"))}selectTabEDT(n){this.tabEDTSelected=n,n===vi.OJD?this.schedulerConfig=Ue(J({},this.schedulerConfig),{dateStart:new Date}):this.schedulerConfig=Ue(J({},this.schedulerConfig),{dateStart:vt.addNbHoursToDate(new Date,24)})}};i.\u0275fac=function(r){return new(r||i)(v(kt),v(ye),v(M),v(Re),v(di),v(Bi),v(Fe),v(ci),v(Q),v(ni),v(mi),v(si))},i.\u0275cmp=w({type:i,selectors:[["ed-accueil-eleve"]],standalone:!1,features:[Oe],decls:6,vars:9,consts:[["noAccueil",""],["onlyPostIts",""],[1,"accueileleve","accueiluserauth","container-fluid",3,"cgBusy","ngClass"],["class","banner",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"banner"],["href","utilisateur/personnalisation"],["class","d-none d-lg-block d-print-none separator",4,"ngIf"],[1,"row"],["class","d-none d-lg-block col-lg-3 timeline-famille padding-home double-padding",4,"ngIf"],[1,"col-lg-9",3,"ngClass"],[1,"row","padding-home"],["class","col-lg-12",4,"ngIf"],[3,"ngClass",4,"ngIf"],["class","double-padding blocs-colonne margin-bottom col-lg-6",3,"ngClass",4,"ngIf"],[1,"d-none","d-lg-block","d-print-none","separator"],[1,"d-none","d-lg-block","col-lg-3","timeline-famille","padding-home","double-padding"],[3,"ngClass"],["id","quoi-de-neuf"],[3,"idUser","timelineEvents"],[1,"col-lg-12"],["id","nom-etb"],["class","float-end rounded logo-etab","alt","logo \xE9tablissement",3,"src",4,"ngIf"],["alt","logo \xE9tablissement",1,"float-end","rounded","logo-etab",3,"src"],[4,"ngIf"],["class","margin-bottom",4,"ngIf"],["class","card ed-card px-3 pb-3",3,"ngClass",4,"ngIf"],[3,"isActifPostitsEspacesTravail","tabPostits"],["id","encart-postit"],["class","jumbotron msg-maintenance",4,"ngFor","ngForOf","ngForTrackBy"],[3,"configPostits","idUser","typeUser","tabPostIts"],[1,"jumbotron","msg-maintenance"],[3,"innerHTML"],[1,"margin-bottom"],["class","encart-sondages card ed-card px-3 pb-3",3,"ngClass",4,"ngIf"],["class","encart-questionnaires card ed-card px-3 pb-3",3,"ngClass",4,"ngIf"],[1,"encart-sondages","card","ed-card","px-3","pb-3",3,"ngClass"],[1,"text-center","w-100"],["class","btn-action btn-action-needed light-color icon-ed_attention",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-action","btn-action-needed","light-color","icon-ed_attention"],[1,"text-bold"],["class","alert alert-info",4,"ngIf"],["type","button",1,"btn","btn-link",3,"click"],[1,"alert","alert-info"],[1,"encart-questionnaires","card","ed-card","px-3","pb-3",3,"ngClass"],[1,"card","ed-card","px-3","pb-3",3,"ngClass"],[3,"agendaEvents"],[1,"encart-agenda"],[1,"mb-4",3,"href"],[3,"idEntity","events","typeEntity","selectedTargets","droitsAgenda","displayTargets","espaceTravail"],[1,"double-padding","blocs-colonne","margin-bottom","col-lg-6",3,"ngClass"],["class","encart-visio",4,"ngIf"],[1,"text-center","w-100","d-print-none","hidden-xs"],[1,"hidden-xs",3,"ongletSelectedEvent","ongletSelected"],["id","emploi-du-temps-jour","role","complementary",1,"bs-docs-sidebar","d-print-none","hidden-xs"],[3,"idEntity","schedulerConfig","schedulerTemplateConfig","typeEntity"],[1,"encart-visio"],[3,"displayTargets","droitsAgenda","espaceTravail","events","idEntity","selectedTargets","typeEntity","needToday"],[1,"jumbotron","container-bg","double-padding"],[1,"d-print-none"]],template:function(r,o){if(r&1&&(a(0,"div",2),E(1,tp,8,1,"div",3)(2,Sp,9,8,"div",4),C(3,"async"),E(4,xp,3,0,"ng-template",null,0,Te),s()),r&2){let d=re(5);c("cgBusy",o.loader)("ngClass",N(7,Jm,o.tabPostits.length===0&&!o.isActifPostitsEspacesTravail&&o.agendaEvents.length===0&&!o.isActifAgendaEvenementsEspacesTravail)),l(),c("ngIf",o.nbDays>0),l(),c("ngIf",x(3,5,o.datasAccueil$))("ngIfElse",d)}},dependencies:[oe,Ee,G,se,Rt,pi,hi,Zn,Gi,bt,Er,Je,ii,Ve,be,Ze],styles:[".accueileleve[_ngcontent-%COMP%]   .padding-home[_ngcontent-%COMP%]{min-height:100vh}.accueileleve[_ngcontent-%COMP%]   .liste-postit[_ngcontent-%COMP%]{margin:0}.accueileleve[_ngcontent-%COMP%]   ed-agenda-evenements[_ngcontent-%COMP%]{width:100%}.accueileleve[_ngcontent-%COMP%]   .encart-sondages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], .accueileleve[_ngcontent-%COMP%]   .encart-questionnaires[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.accueileleve[_ngcontent-%COMP%]   .encart-sondages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .accueileleve[_ngcontent-%COMP%]   .encart-questionnaires[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px;width:100%;border-radius:5px;color:#fff;margin-top:5px}.accueileleve[_ngcontent-%COMP%]   .encart-sondages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%], .accueileleve[_ngcontent-%COMP%]   .encart-questionnaires[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:0 0 5px;padding:3px}"]});let t=i;return t})();var Tp=(t,i)=>({"col-lg-9":t,"col-lg-12":i}),Mp=t=>({"col-lg-6":t}),nc=()=>["fas","xmark"],rc=()=>["fas","square-plus"],Pp=()=>["/Paiements"],Mo=t=>({badgedebiteur:t}),Ap=()=>["/Compte"],Ip=t=>({"col-md-12":t});function wp(t,i){if(t&1&&(a(0,"div",5),u(1," Votre mot de passe expire dans "),a(2,"b"),u(3),s(),u(4," jours. Vous pouvez le modifier en "),a(5,"a",6),u(6,"cliquant ici"),s(),u(7," . "),s()),t&2){let e=h();l(3),k(e.nbDays)}}function kp(t,i){t&1&&g(0,"div",18)}function Op(t,i){if(t&1){let e=L();a(0,"button",24),S("click",function(){D(e);let r=h(3);return F(r.hideBlocActu(!0))}),g(1,"fa-icon",25),s()}t&2&&(l(),c("icon",K(1,nc)))}function Dp(t,i){if(t&1){let e=L();a(0,"button",26),S("click",function(){D(e);let r=h(3);return F(r.hideBlocActu(!1))}),g(1,"fa-icon",25),s()}t&2&&(l(),c("icon",K(1,rc)))}function Fp(t,i){if(t&1&&(a(0,"div",19)(1,"h2",20),u(2," Quoi de neuf ? "),E(3,Op,2,2,"button",21)(4,Dp,2,2,"button",22),s(),g(5,"ed-timeline",23),s()),t&2){let e=h(2);l(3),c("ngIf",!e.isActuHidden),l(),c("ngIf",e.isActuHidden),l(),c("idUser",e.idUser)("timelineEvents",e.events)("isActuHidden",e.isActuHidden)}}function Rp(t,i){if(t&1&&g(0,"img",30),t&2){let e=h(3);c("src",e.urlTelechargementLogoEtab,ve)}}function Np(t,i){if(t&1&&(a(0,"div",27)(1,"div",28),u(2),E(3,Rp,1,1,"img",29),s()()),t&2){let e=h(2);l(2),H(" ",e.authStore.currentUser.nomEtablissement," "),l(),c("ngIf",e.authStore.currentUser.logoEtablissement)}}function Up(t,i){if(t&1&&g(0,"ed-tab-postits",32),t&2){let e=h(4);c("isActifPostitsEspacesTravail",e.isActifPostitsEspacesTravail)("tabPostits",e.tabPostits)}}function Lp(t,i){if(t&1&&(le(0),E(1,Up,1,2,"ed-tab-postits",31),ce()),t&2){let e=h(3);l(),c("ngIf",e.tabPostits)}}function Bp(t,i){t&1&&(a(0,"h2"),u(1," Informations "),s())}function Vp(t,i){if(t&1&&(a(0,"div",36)(1,"h3"),u(2),s(),g(3,"p",37),C(4,"ariaConvertNewline"),C(5,"filterHtml"),s()),t&2){let e=i.$implicit;l(2),k(e.titre),l(),c("innerHTML",x(5,4,x(4,2,e.contenu)),ue)}}function jp(t,i){if(t&1&&g(0,"ed-postits",38),t&2){let e=h(4);c("configPostits",e.postitConfig)("idUser",e.idUser)("typeUser",e.typeUser)("tabPostIts",e.tabPostits)}}function zp(t,i){if(t&1&&(a(0,"div",33),E(1,Bp,2,0,"h2",14)(2,Vp,6,6,"div",34),C(3,"trackByProperty"),E(4,jp,1,4,"ed-postits",35),s()),t&2){let e=h(3);l(),c("ngIf",e.authStore.currentUser.messageMaintenance&&e.authStore.currentUser.messageMaintenance.length>0||(e.tabPostits==null?null:e.tabPostits.length)>0),l(),c("ngForOf",e.authStore.currentUser.messageMaintenance)("ngForTrackBy",x(3,4,"$index")),l(2),c("ngIf",e.tabPostits)}}function qp(t,i){if(t&1&&(a(0,"div"),E(1,Lp,2,1,"ng-container",4)(2,zp,5,6,"ng-template",null,1,Te),s()),t&2){let e=re(3),n=h(2);l(),c("ngIf",n.espacesTravailActif&&n.isActifPostitsEspacesTravail)("ngIfElse",e)}}function Hp(t,i){if(t&1&&(le(0),g(1,"ed-tab-agenda",40),ce()),t&2){let e=h(3);l(),c("agendaEvents",e.agendaEvents)}}function Gp(t,i){if(t&1&&(a(0,"div",41)(1,"h2",42),u(2,"Agenda"),s(),a(3,"a",43),u(4,"Tout l'agenda"),s(),g(5,"ed-agenda-evenements",44),s()),t&2){let e=h(3);l(3),nt("href","/",e.typeUser,"/",e.idUser,"/Agenda",ve),l(2),c("idEntity",e.idUser)("events",e.agendaEvents)("typeEntity",e.typeUser)("droitsAgenda",e.agendaConfig)("displayTargets",!1)}}function $p(t,i){if(t&1&&(a(0,"div",39),E(1,Hp,2,1,"ng-container",4)(2,Gp,6,8,"ng-template",null,1,Te),s()),t&2){let e=re(3),n=h(2);l(),c("ngIf",n.espacesTravailActif&&n.isActifAgendaEvenementsEspacesTravail)("ngIfElse",e)}}function Kp(t,i){if(t&1){let e=L();a(0,"button",49),S("click",function(){D(e);let r=h(4);return F(r.hideBlocPorteMonnaie(!0))}),g(1,"fa-icon",25),s()}t&2&&(l(),c("icon",K(1,nc)))}function Qp(t,i){if(t&1){let e=L();a(0,"button",50),S("click",function(){D(e);let r=h(4);return F(r.hideBlocPorteMonnaie(!1))}),g(1,"fa-icon",25),s()}t&2&&(l(),c("icon",K(1,rc)))}function Wp(t,i){if(t&1&&(a(0,"h2",42),u(1," Porte-monnaie "),E(2,Kp,2,2,"button",47)(3,Qp,2,2,"button",48),s()),t&2){let e=h(3);l(2),c("ngIf",!e.isPorteMonnaieHidden),l(),c("ngIf",e.isPorteMonnaieHidden)}}function Jp(t,i){if(t&1&&(a(0,"a",55),C(1,"number"),a(2,"span",56),g(3,"span",57),u(4),C(5,"number"),s()()),t&2){let e=h().$implicit,n=h(4);c("routerLink",K(11,Pp)),_e("aria-label",me(1,5,e.solde,n.digitsInfo)+", montant du porte monnaie pour "+e.libelle),l(2),c("ngClass",N(12,Mo,e.solde<0)),l(),c("textContent",e.solde<0?"":"+"),l(),H(" ",me(5,8,e.solde,n.digitsInfo)," ")}}function Xp(t,i){if(t&1&&(a(0,"a",55),C(1,"number"),a(2,"span",56),g(3,"span",57),u(4),C(5,"number"),s()()),t&2){let e=h().$implicit,n=h(4);c("routerLink",K(11,Ap)),_e("aria-label",me(1,5,e.solde,n.digitsInfo)+", montant du porte monnaie pour "+e.libelle),l(2),c("ngClass",N(12,Mo,e.solde<0)),l(),c("textContent",e.solde<0?"":"+"),l(),H(" ",me(5,8,e.solde,n.digitsInfo)," ")}}function Yp(t,i){if(t&1&&(a(0,"span",56),g(1,"span",57),u(2),C(3,"number"),s()),t&2){let e=h().$implicit,n=h(4);c("ngClass",N(6,Mo,e.solde<0)),l(),c("textContent",e.solde<0?"":"+"),l(),H(" ",me(3,3,e.solde,n.digitsInfo)," ")}}function Zp(t,i){if(t&1&&(a(0,"li"),E(1,Jp,6,14,"a",52)(2,Xp,6,14,"a",52)(3,Yp,4,8,"span",53),a(4,"span",54),u(5),s()()),t&2){let e=i.$implicit,n=h(4);l(),c("ngIf",n.isPaiementEnable&&e.isPMPayable),l(),c("ngIf",n.isPaiementEnable&&!e.isPMPayable),l(),c("ngIf",!n.isPaiementEnable),l(2),k(e.libelle)}}function e0(t,i){if(t&1&&(a(0,"ul"),E(1,Zp,6,4,"li",51),C(2,"trackByProperty"),s()),t&2){let e=h(3);l(),c("ngForOf",e.lesSoldes)("ngForTrackBy",x(2,2,"$index"))}}function t0(t,i){if(t&1&&(a(0,"div",45),E(1,Wp,4,2,"h2",46)(2,e0,3,4,"ul",14),s()),t&2){let e=h(2);l(),c("ngIf",e.lesSoldes.length>=1),l(),c("ngIf",!e.isPorteMonnaieHidden)}}function i0(t,i){if(t&1&&(a(0,"div",62)(1,"h2",42),u(2),C(3,"edDate"),s(),g(4,"ed-agenda-evenements",63),s()),t&2){let e=h(3);l(2),H("Mes visios du ",me(3,7,e.todayDate,"EEEE d LLLL"),""),l(2),c("displayTargets",!1)("droitsAgenda",e.agendaConfig)("events",e.tabRDVTodayVisio)("idEntity",e.idUser)("typeEntity",e.typeUser)("needToday",!0)}}function n0(t,i){if(t&1){let e=L();a(0,"li",66)(1,"p")(2,"span",67),u(3),s()(),a(4,"button",68),S("click",function(){let r=D(e).$implicit,o=h(4);return F(o.openEDForms(r))}),u(5),s()()}if(t&2){let e=i.$implicit;l(3),k(e.titre),l(2),H("R\xE9pondre au ",e.typeToLibelleEDForms,"")}}function r0(t,i){if(t&1&&(a(0,"div",64)(1,"h2",42),u(2,"Formulaires"),s(),a(3,"ul"),E(4,n0,6,2,"li",65),C(5,"trackByProperty"),s()()),t&2){let e=h(3);l(4),c("ngForOf",e.tabEDForms)("ngForTrackBy",x(5,2,"idParticipant"))}}function o0(t,i){if(t&1){let e=L();a(0,"div",69)(1,"h2",42),u(2,"Emploi du temps"),s(),a(3,"ed-tab-edt",70),S("ongletSelectedEvent",function(r){D(e);let o=h(3);return F(o.selectTabEDT(r))}),s(),a(4,"div",71),g(5,"ed-emploi-du-temps-scheduler",72),s()()}if(t&2){let e=h(3);l(3),c("ongletSelected",e.tabEDTSelected),l(2),c("idEntity",e.idUser)("schedulerConfig",e.schedulerConfig)("schedulerTemplateConfig",e.schedulerTemplateConfig)("typeEntity",e.typeUser)}}function a0(t,i){if(t&1&&(a(0,"div",58),E(1,i0,5,10,"div",59)(2,r0,6,4,"div",60)(3,o0,6,5,"div",61),s()),t&2){let e=h(2);c("ngClass",N(4,Ip,(e.tabPostits==null?null:e.tabPostits.length)===0&&!e.isActifPostitsEspacesTravail&&(e.agendaEvents==null?null:e.agendaEvents.length)===0&&!e.isActifAgendaEvenementsEspacesTravail&&(e.lesSoldes==null?null:e.lesSoldes.length)===0)),l(),c("ngIf",(e.tabRDVTodayVisio==null?null:e.tabRDVTodayVisio.length)>0),l(),c("ngIf",e.tabEDForms&&e.tabEDForms.length>0),l(),c("ngIf",e.isEDTEnabled)}}function s0(t,i){if(t&1&&(a(0,"div"),E(1,kp,1,0,"div",7),a(2,"div",8),E(3,Fp,6,5,"div",9),a(4,"div",10)(5,"div",11),E(6,Np,4,2,"div",12),a(7,"div",13),E(8,qp,4,2,"div",14)(9,$p,4,2,"div",15)(10,t0,3,2,"div",16),s(),E(11,a0,4,6,"div",17),s()()()()),t&2){let e=h();l(),c("ngIf",(e.events==null?null:e.events.length)>0),l(2),c("ngIf",e.events&&(e.events==null?null:e.events.length)>0),l(),c("ngClass",ft(10,Tp,e.events&&(e.events==null?null:e.events.length)>0,(e.events==null?null:e.events.length)===0))("cgBusy",e.loader),l(2),c("ngIf",e.authStore.currentUser.logoEtablissement||e.authStore.currentUser.nomEtablissement),l(),c("ngClass",N(13,Mp,e.tabPostits.length>0||e.isActifPostitsEspacesTravail||e.isActifAgendaEvenementsEspacesTravail||(e.agendaEvents==null?null:e.agendaEvents.length)>0||e.lesSoldes.length>0)),l(),c("ngIf",e.tabPostits||e.espacesTravailActif&&e.isActifPostitsEspacesTravail),l(),c("ngIf",(e.agendaEvents==null?null:e.agendaEvents.length)>0||e.espacesTravailActif&&e.isActifAgendaEvenementsEspacesTravail),l(),c("ngIf",e.lesSoldes.length>0),l(),c("ngIf",e.isEDTEnabled||e.tabEDForms&&e.tabEDForms.length>0||(e.tabRDVTodayVisio==null?null:e.tabRDVTodayVisio.length)>0)}}function l0(t,i){t&1&&(a(0,"div",73)(1,"h3",74),u(2,"Aucun contenu n'est disponible"),s()())}var oc=(()=>{let i=class i extends Ie(){constructor(n,r,o,d,m,p,f,_,y,T,P){super(),this.messageService=n,this.uiService=r,this.loaderService=o,this.timelineService=d,this.edfService=m,this.authService=p,this.authStore=f,this.router=_,this.eventService=y,this.cloudService=T,this.filtresAgendaEdtUserStore=P,this.events=[],this.tabEDForms=[],this.isEDTEnabled=!1,this.tabRDVTodayVisio=[],this.tabRDV=[],this.todayDate=new Date,this.lesSoldes=[],this.tabEDTSelected=vi.OJD,this.nbDays=0,this.espacesTravailActif=V.isModuleEnabled(this.authStore.currentUser,b.CLOUD),this.urlTelechargementLogoEtab=`${_t()}/telechargement${Ye.apiExtension}?cToken=${f.cToken()}&verbe=get&fichierId=${f.currentUser.logoEtablissement}&leTypeDeFichier=IMPORT_FTP`,this.isActifPostitsEspacesTravail=V.getModuleParametre(b.CLOUD,"isActifPostitsEspacesTravail",this.authStore.currentUser)>0,this.isActifAgendaEvenementsEspacesTravail=V.getModuleParametre(b.CLOUD,"isActifAgendaEvenementsEspacesTravail",this.authStore.currentUser)>0,this.postitConfig={addPostit:!1,updatePostit:!1,deletePostit:!1,displayDateCreated:!0,displayDateLimit:!1,displayTargets:!1,displayFormTargets:!1,selectTargets:[],visibilityPostitPast:!1,displayLibelleAuteur:!1,contexte:ti.ACCUEIL},this.agendaConfig={CAN_CREATE:!1,CAN_UPDATE:!1,CAN_DELETE:!1},this.url=`${_t()}/telechargement.awp`,this.schedulerConfig={mode:Qn.day},this.schedulerTemplateConfig={weekButton:!1,monthButton:!1,todayButton:!1,prevButton:!1,nextButton:!1,dateTitle:!1,exportPdf:!1},this.isEDTEnabled=V.isModuleEnabled(this.authStore.currentUser,b.EDT);let A=V.getModuleParametre(b.PAIEMENT_EN_LIGNE,"codeDevise",this.authStore.currentUser);this.digitsInfo=Vn.infosDevise(A).digitsInfo,this.isPaiementEnable=V.isModuleEnabled(this.authStore.currentUser,b.PAIEMENT_EN_LIGNE),this.nbDays=this.authStore.snapshot.nbJourMdpExire}get typeUser(){return this.authStore.currentUser.typeCompte}get idUser(){return this.authStore.currentUser.id}ngOnInit(){this.isActuHidden=this.authStore.currentUser.listParametresIndividuels(an.AFFICHER_BLOC_ACTU_ACCUEIL)===!1,this.isPorteMonnaieHidden=this.authStore.currentUser.listParametresIndividuels(an.AFFICHER_BLOC_PORTE_MONNAIE_ACCUEIL)===!1,this.refreshData(),this.eventService.select$("array:removeEntityById").pipe(De(this._destroyRef)).subscribe(n=>{n>0&&Array.isArray(this.tabEDForms)&&(this.tabEDForms=this.tabEDForms.filter(r=>n!==r.idParticipant))})}hideBlocActu(n){this.loader=this.authService.updateParametrageIndividuel(this.authStore.currentUser.typeCompte,this.authStore.currentUser.id,"Accueil/Actu",!n).subscribe({next:r=>{this.isActuHidden=n;let o=n?"masqu\xE9":"visible";this.uiService.notifyEvent(Y.genericSuccess,`Le bloc "Quoi de neuf" est maintenant ${o} sur votre page d'accueil.`,"Accueil"),this.authService.setParametresIndividuel(this.authStore.currentUser.typeCompte,this.authStore.currentUser.id,an.AFFICHER_BLOC_ACTU_ACCUEIL,!this.isActuHidden)},error:r=>this.uiService.notifyEvent(r.action,`La modification de votre affichage du bloc "Quoi de neuf" sur la page d'accueil n'a pas pu \xEAtre enregistr\xE9.`,"Erreur")})}hideBlocPorteMonnaie(n){this.loader=this.authService.updateParametrageIndividuel(this.authStore.currentUser.typeCompte,this.authStore.currentUser.id,"Accueil/PM",!n).subscribe({next:r=>{this.isPorteMonnaieHidden=n;let o=n?"masqu\xE9":"visible";this.uiService.notifyEvent(Y.genericSuccess,`Le bloc "Porte-monnaie" est maintenant ${o} sur votre page d'accueil.`,"Accueil"),this.authService.setParametresIndividuel(this.authStore.currentUser.typeCompte,this.authStore.currentUser.id,an.AFFICHER_BLOC_PORTE_MONNAIE_ACCUEIL,!this.isPorteMonnaieHidden)},error:r=>this.uiService.notifyEvent(r.action,`La modification de votre affichage du bloc "Porte-monnaie" sur la page d'accueil n'a pas pu \xEAtre enregistr\xE9.`,"Erreur")})}refreshData(){let n=[...this.filtresAgendaEdtUserStore.getTabAgendaEdtToDisplay()];this.filtresAgendaEdtUserStore.convertEntityToAgendaFiltre(O.ENSEIGNANT,this.idUser).pipe(q(r=>{if(Array.isArray(r)){for(let o of r)o.typeAgenda===Ln.EDT&&(o.selected=!0),n.unshift(o);this.filtresAgendaEdtUserStore.tabAgendaEdtToDisplay=n}})).subscribe(),this.loader=this.loaderService.show(this),this.datasAccueil$=ct([this.timelineService.communTimeline(this.typeUser,this.idUser),this.edfService.getFS(this.typeUser,this.idUser),this.messageService.getUnreadMessages(this.typeUser,this.idUser),this.cloudService.getVisioToday(this.idUser,this.typeUser)]).pipe(q(r=>{var p,f;let o=[];this.filtresAgendaEdtUserStore.cleanDatas(),this.tabPostits=(p=r[0].postits)==null?void 0:p.map(_=>new li(_)),this.agendaEvents=(f=r[0].evenements)==null?void 0:f.map(_=>ai.cleanEvent(new Ot(_))),this.tabReunion=r[0].reunions||[];for(let _ of this.tabReunion)if(!this.isPast(_.parametrage.date)){let y=new Qt({typeElement:"ReunionPP",idElement:_.parametrage.id,soustitre:"",contenu:"",description:_.parametrage.libelle,date:_.parametrage.date+" "+_.parametrage.heureDebut+":00",titre:"Nouvelle r\xE9union parents/prof disponible",idUser:this.idUser,typeUser:this.typeUser,afficherHeure:!0});o.push(y)}this.events=[...this.events,...o],this.events=[...this.events,...r[2].slice(0,10).map(_=>new Qt({date:_.date,contenu:_.content,description:_.subject,titre:_.from.civilite+" "+_.from.prenom+" "+_.from.nom,idElement:_.id,typeElement:"Messagerie",idUser:this.idUser,typeUser:this.typeUser,afficherHeure:!1}))],this.tabEDForms=r[1],this.tabRDV=[...r[3]],this.tabRDVTodayVisio=[...this.tabRDV.filter(_=>_.isVisio===!0)],V.isModuleEnabled(this.authStore.currentUser,b.SITUATION_FINANCIERE)&&(this.lesSoldes=Object.isExists(r[0].comptes)?r[0].comptes.comptes.filter(_=>_.typeCompte===Ui.pm&&_.solde!==0||_.typeCompte===Ui.pmactivite&&_.solde<0).map(_=>new Hn(_)):[]);let m=this.filtresAgendaEdtUserStore.getRDVPPAgendaFiltre();m.selected=!0,this.filtresAgendaEdtUserStore.addAgendaFiltreToDisplay(m)}),ge(()=>this.loaderService.hide(this)),ie(r=>this.uiService.notifyErrorThenEmpty(r,!0,"Erreur")))}isPast(n){return vt.isAfter(new Date,vt.stringToDate(n))}openEDForms(n){this.router.navigate(["",{outlets:{auxiliaryModal:["repondre-au-fs"]}}],{skipLocationChange:!0,queryParams:{idFS:n.id,idParticipant:n.idParticipant,titre:n.titre}}).catch(()=>console.error("AccueilEnseignantComponent.openEDForms navigate to fs form"))}selectTabEDT(n){this.tabEDTSelected=n,n===vi.OJD?this.schedulerConfig=Ue(J({},this.schedulerConfig),{dateStart:new Date}):this.schedulerConfig=Ue(J({},this.schedulerConfig),{dateStart:vt.addNbHoursToDate(new Date,24)})}};i.\u0275fac=function(r){return new(r||i)(v(Gn),v(ye),v(Re),v(di),v(ci),v(Xe),v(M),v(Q),v(ni),v(si),v(mi))},i.\u0275cmp=w({type:i,selectors:[["ed-accueil-enseignant"]],standalone:!1,features:[Oe],decls:6,vars:6,consts:[["noAccueil",""],["onlyPostIts",""],[1,"accueilenseignant","accueiluserauth","container-fluid",3,"cgBusy"],["class","banner",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"banner"],["href","utilisateur/personnalisation"],["class","d-none d-lg-block d-print-none separator",4,"ngIf"],[1,"row"],["class","col-lg-3 timeline-famille padding-home sticky simple-padding d-none d-lg-block",4,"ngIf"],[3,"ngClass","cgBusy"],[1,"row","padding-home"],["class","col-lg-12",4,"ngIf"],[3,"ngClass"],[4,"ngIf"],["class","card ed-card px-3 pb-3",4,"ngIf"],["class","hidden-xs card ed-card px-3 pb-3","id","soldes",4,"ngIf"],["class","double-padding blocs-colonne margin-bottom col-lg-6",3,"ngClass",4,"ngIf"],[1,"d-none","d-lg-block","d-print-none","separator"],[1,"col-lg-3","timeline-famille","padding-home","sticky","simple-padding","d-none","d-lg-block"],["id","quoi-de-neuf"],["type","button","class","btn btn-link float-end text-dark me-2","title","Masquer les messages",3,"click",4,"ngIf"],["type","button","class","btn btn-link float-end text-dark me-2","title","Afficher les messages",3,"click",4,"ngIf"],[3,"idUser","timelineEvents","isActuHidden"],["type","button","title","Masquer les messages",1,"btn","btn-link","float-end","text-dark","me-2",3,"click"],["aria-hidden","true",3,"icon"],["type","button","title","Afficher les messages",1,"btn","btn-link","float-end","text-dark","me-2",3,"click"],[1,"col-lg-12"],["id","nom-etb","role","heading","aria-level","1"],["class","float-end rounded logo-etab logo-etab-prof","alt","Logo, Ensemble Scolaire APLIM",3,"src",4,"ngIf"],["alt","Logo, Ensemble Scolaire APLIM",1,"float-end","rounded","logo-etab","logo-etab-prof",3,"src"],[3,"isActifPostitsEspacesTravail","tabPostits",4,"ngIf"],[3,"isActifPostitsEspacesTravail","tabPostits"],["id","encart-postit"],["class","jumbotron msg-maintenance",4,"ngFor","ngForOf","ngForTrackBy"],[3,"configPostits","idUser","typeUser","tabPostIts",4,"ngIf"],[1,"jumbotron","msg-maintenance"],[3,"innerHTML"],[3,"configPostits","idUser","typeUser","tabPostIts"],[1,"card","ed-card","px-3","pb-3"],[3,"agendaEvents"],[1,"encart-agenda"],[1,"text-center","w-100"],[1,"mb-4",3,"href"],[3,"idEntity","events","typeEntity","selectedTargets","droitsAgenda","displayTargets","espaceTravail"],["id","soldes",1,"hidden-xs","card","ed-card","px-3","pb-3"],["class","text-center w-100",4,"ngIf"],["type","button","class","btn btn-link float-end text-dark me-2","title","Masquer les porte-monnaie",3,"click",4,"ngIf"],["type","button","class","btn btn-link float-end text-dark me-2","title","Afficher les porte-monnaie",3,"click",4,"ngIf"],["type","button","title","Masquer les porte-monnaie",1,"btn","btn-link","float-end","text-dark","me-2",3,"click"],["type","button","title","Afficher les porte-monnaie",1,"btn","btn-link","float-end","text-dark","me-2",3,"click"],[4,"ngFor","ngForOf","ngForTrackBy"],["href","",3,"routerLink",4,"ngIf"],["class","badge-solde",3,"ngClass",4,"ngIf"],[1,"libelle","text-bold"],["href","",3,"routerLink"],[1,"badge-solde",3,"ngClass"],[3,"textContent"],[1,"double-padding","blocs-colonne","margin-bottom","col-lg-6",3,"ngClass"],["class","encart-visio card ed-card px-3 pb-3",4,"ngIf"],["class","encart-edforms card ed-card px-3 pb-3",4,"ngIf"],["class","bs-docs-sidebar d-print-none hidden-xs","id","emploi-temps",4,"ngIf"],[1,"encart-visio","card","ed-card","px-3","pb-3"],[3,"displayTargets","droitsAgenda","espaceTravail","events","idEntity","selectedTargets","typeEntity","needToday"],[1,"encart-edforms","card","ed-card","px-3","pb-3"],["class","btn-action btn-action-needed light-color icon-ed_attention",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-action","btn-action-needed","light-color","icon-ed_attention"],[1,"text-bold"],["type","button",1,"btn","btn-link",3,"click"],["id","emploi-temps",1,"bs-docs-sidebar","d-print-none","hidden-xs"],[1,"hidden-xs",3,"ongletSelectedEvent","ongletSelected"],["id","emploi-du-temps-jour","role","complementary",1,"bs-docs-sidebar","d-print-none","hidden-xs"],[3,"idEntity","schedulerConfig","schedulerTemplateConfig","typeEntity"],[1,"jumbotron","container-bg","double-padding"],[1,"d-print-none"]],template:function(r,o){if(r&1&&(a(0,"div",2),E(1,wp,8,1,"div",3)(2,s0,12,15,"div",4),C(3,"async"),E(4,l0,3,0,"ng-template",null,0,Te),s()),r&2){let d=re(5);c("cgBusy",o.loader),l(),c("ngIf",o.nbDays>0),l(),c("ngIf",x(3,4,o.datasAccueil$))("ngIfElse",d)}},dependencies:[oe,Ee,G,ae,pe,se,Rt,pi,hi,Zn,Gi,bt,Er,Je,In,Bn,Ve,be,Ze],styles:[".accueilenseignant[_ngcontent-%COMP%]   .dhx_cal_container[_ngcontent-%COMP%]{background:none}.accueilenseignant[_ngcontent-%COMP%]   .encart-edforms[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.accueilenseignant[_ngcontent-%COMP%]   .encart-edforms[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px;width:49%;border-radius:5px;color:#fff;margin-top:5px}.accueilenseignant[_ngcontent-%COMP%]   .encart-edforms[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:0 0 5px;padding:3px}.accueilenseignant[_ngcontent-%COMP%]   #quoi-de-neuf[_ngcontent-%COMP%]{margin:30px 0 10px;font-size:17px;border:none;line-height:1;letter-spacing:normal;color:#000}ed-agenda-evenements[_ngcontent-%COMP%]{width:100%}@media screen and (max-width: 990px){.blocs-colonne[_ngcontent-%COMP%]{padding:1px 10px}}#soldes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none}#soldes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 0 10px;overflow:hidden}#soldes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{line-height:1.1}#soldes[_ngcontent-%COMP%]   .badge-solde[_ngcontent-%COMP%]{float:left;margin:0 15px 0 0;padding:10px 0;min-width:75px;background:var(--light-primary-color);border-radius:50px;font-size:15px;font-weight:700;color:#fff;overflow:hidden;text-overflow:ellipsis;text-align:center}#soldes[_ngcontent-%COMP%]   .badge-solde.badgedebiteur[_ngcontent-%COMP%]{background:var(--secondary-color)}"]});let t=i;return t})();function c0(t,i){if(t&1){let e=L();a(0,"button",18),S("click",function(){D(e);let r=h().$implicit,o=h(2);return F(o.openSideMenuEleve(r))}),s()}if(t&2){let e=h().$implicit;it("title","menu de ",e.nom+" "+e.prenom,""),_e("aria-label","Consulter le menu de "+e.nom+" "+e.prenom)}}function d0(t,i){if(t&1){let e=L();a(0,"button",16),S("click",function(){D(e);let r=h().$implicit,o=h(2);return F(o.openSideMenuEleve(r))}),g(1,"img",19),s()}if(t&2){let e=h().$implicit;_e("aria-label","Consulter le menu de "+e.nom+" "+e.prenom),l(),c("src",e.photo,ve)}}function u0(t,i){if(t&1){let e=L();a(0,"button",16),S("click",function(){D(e);let r=h().$implicit,o=h(2);return F(o.openSideMenuEleve(r))}),g(1,"img",20),s()}if(t&2){let e=h().$implicit;_e("aria-label","Consulter le menu de "+e.nom+" "+e.prenom)}}function m0(t,i){if(t&1){let e=L();a(0,"button",16),S("click",function(){D(e);let r=h().$implicit,o=h(2);return F(o.openSideMenuEleve(r))}),g(1,"img",21),s()}if(t&2){let e=h().$implicit;_e("aria-label","Consulter le menu de "+e.nom+" "+e.prenom)}}function p0(t,i){if(t&1){let e=L();a(0,"div",11)(1,"div",12),E(2,c0,1,3,"button",13)(3,d0,2,2,"button",14)(4,u0,2,1,"button",14)(5,m0,2,1,"button",14),a(6,"div",15)(7,"button",16),S("click",function(){let r=D(e).$implicit,o=h(2);return F(o.openSideMenuEleve(r))}),a(8,"span",17),u(9),s(),u(10),g(11,"br"),u(12),g(13,"br"),a(14,"small")(15,"em"),u(16),s()()()()()()}if(t&2){let e=i.$implicit,n=h(2);l(2),c("ngIf",n.authStore.currentUser.profile.eleves.length>0),l(),c("ngIf",e.photo!==""),l(),c("ngIf",e.photo===""&&e.sexe==="F"),l(),c("ngIf",e.photo===""&&e.sexe==="M"),l(2),_e("aria-label","Consulter le menu de "+e.nom+" "+e.prenom),l(2),k(e.nom),l(),H(" ",e.particule?" ("+e.particule+")":" "," "),l(2),H(" ",e.prenom," "),l(4),k(e.classe.libelle)}}function h0(t,i){if(t&1&&(a(0,"div",6)(1,"div",7)(2,"h3",8),u(3),s()(),a(4,"div",9),E(5,p0,17,9,"div",10),C(6,"trackByProperty"),s()()),t&2){let e=h();l(3),H("",e.authStore.currentUser.profile.eleves.length," stagiaires"),l(2),c("ngForOf",e.authStore.currentUser.profile.eleves)("ngForTrackBy",x(6,3,"id"))}}function f0(t,i){t&1&&(a(0,"div",22)(1,"h3"),u(2,"Aucun stagiaire"),s()())}var ac=(()=>{let i=class i{constructor(n,r){this.authStore=n,this.menuStore=r}ngOnInit(){this.menuStore.select$().pipe(Ke(n=>this.monMEDMenu=new zn(n))).subscribe()}resetMenuStore(){let n,r;this.monMEDMenu.entries[1].isOpen&&(this.monMEDMenu.entries[1].isOpen=!1),this.monMEDMenu.entries[1].id!==this.authStore.currentUser.profile.eleves[0].id&&(n=this.authStore.currentUser.profile.eleves.findIndex(o=>o.id===this.monMEDMenu.entries[1].id)+1,r=this.monMEDMenu.entries[1],this.monMEDMenu.entries.splice(1,1),this.monMEDMenu.entries.splice(n,0,r)),this.menuStore.setStore(this.monMEDMenu)}openSideMenuEleve(n){this.resetMenuStore(),this.indexBlockToOpen=this.monMEDMenu.entries.findIndex(o=>o.id===n.id),this.monMEDMenu.entries[this.indexBlockToOpen].isOpen=!this.monMEDMenu.entries[this.indexBlockToOpen].isOpen;let r=this.monMEDMenu.entries[this.indexBlockToOpen];this.monMEDMenu.entries.splice(this.indexBlockToOpen,1),this.monMEDMenu.entries.splice(1,0,r),this.menuStore.setStore(this.monMEDMenu)}};i.\u0275fac=function(r){return new(r||i)(v(M),v(oi))},i.\u0275cmp=w({type:i,selectors:[["ed-trombi-tuteur"]],standalone:!1,decls:9,vars:3,consts:[["noEleves",""],["id","trombi-tuteur","xmlns","http://www.w3.org/1999/html",1,"ed-container","double-padding","trombi-tuteur-container",3,"cgBusy"],[1,"entete-page"],[1,"clearfix"],[1,"container-bg","double-padding"],["class","panel",4,"ngIf","ngIfElse"],[1,"panel"],[1,"d-flex","align-items-center"],[1,"mt-1"],[1,"d-flex","flex-wrap","with-margin-left","mt-n1"],["class","d-inline-block text-center mx-0 my-0 liste-eleves-padding border border-3 border-white liste-eleves",4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-inline-block","text-center","mx-0","my-0","liste-eleves-padding","border","border-3","border-white","liste-eleves"],[1,"thumbnail","text-center"],["class","tagDispo border border-0 no-background no-padding","type","button",3,"title","click",4,"ngIf"],["type","button","class","border border-0 no-background no-padding",3,"click",4,"ngIf"],[1,"caption"],["type","button",1,"border","border-0","no-background","no-padding",3,"click"],[1,"nom"],["type","button",1,"tagDispo","border","border-0","no-background","no-padding",3,"click","title"],["alt","photo \xE9l\xE8ve",3,"src"],["alt","photo \xE9l\xE8ve fille","src","/assets/images/eleve-fille.jpg"],["alt","photo \xE9l\xE8ve gar\xE7on","src","/assets/images/eleve-garcon.jpg"],[1,"jumbotron"]],template:function(r,o){if(r&1&&(a(0,"div",1)(1,"header",2)(2,"h2"),u(3,"Trombinoscope"),s()(),g(4,"div",3),a(5,"div",4),E(6,h0,7,5,"div",5)(7,f0,3,0,"ng-template",null,0,Te),s()()),r&2){let d=re(8);c("cgBusy",o.loader),l(6),c("ngIf",o.authStore.currentUser.profile.eleves.length>0)("ngIfElse",d)}},dependencies:[Ee,G,se,be],styles:[".tagDispo[_ngcontent-%COMP%]{position:absolute;z-index:999;right:3px;top:90px}.liste-eleves[_ngcontent-%COMP%]{cursor:pointer}.liste-eleves[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]});let t=i;return t})();function v0(t,i){if(t&1&&(a(0,"div",6),u(1," Votre mot de passe expire dans "),a(2,"b"),u(3),s(),u(4," jours. Vous pouvez le modifier en "),a(5,"a",7),u(6,"cliquant ici"),s(),u(7," . "),s()),t&2){let e=h();l(3),k(e.nbDays)}}function _0(t,i){if(t&1&&g(0,"img",10),t&2){let e=h(2);c("src",e.urlTelechargementLogoEtab,ve)}}function E0(t,i){if(t&1&&(a(0,"div",3)(1,"div",8),u(2),E(3,_0,1,1,"img",9),s()()),t&2){let e=h();l(2),H(" ",e.authStore.currentUser.nomEtablissement," "),l(),c("ngIf",e.authStore.currentUser.logoEtablissement)}}function y0(t,i){t&1&&(a(0,"h2",3),u(1," Bienvenue sur votre espace EcoleDirecte "),s())}var sc=(()=>{let i=class i{constructor(n){this.authStore=n,this.nbDays=0,this.urlTelechargementLogoEtab=`${_t()}/telechargement${Ye.apiExtension}?cToken=${n.cToken()}&verbe=get&fichierId=${n.currentUser.logoEtablissement}&leTypeDeFichier=IMPORT_FTP`,this.nbDays=this.authStore.snapshot.nbJourMdpExire}};i.\u0275fac=function(r){return new(r||i)(v(M))},i.\u0275cmp=w({type:i,selectors:[["ed-accueil-entreprise"]],standalone:!1,decls:8,vars:3,consts:[[1,"accueilentreprise","accueiluserauth","container-fluid"],["class","banner",4,"ngIf"],[1,"row"],[1,"col-md-12"],[1,"row","padding-home"],["class","col-md-12",4,"ngIf"],[1,"banner"],["href","utilisateur/personnalisation"],["id","nom-etb"],["alt","logo \xE9tablissement","class","pull-right img-rounded logo-etab",3,"src",4,"ngIf"],["alt","logo \xE9tablissement",1,"pull-right","img-rounded","logo-etab",3,"src"]],template:function(r,o){r&1&&(a(0,"div",0),E(1,v0,8,1,"div",1),a(2,"div",2)(3,"div",3)(4,"div",4),E(5,E0,4,2,"div",5)(6,y0,2,0,"h2",5),g(7,"ed-trombi-tuteur"),s()()()()),r&2&&(l(),c("ngIf",o.nbDays>0),l(4),c("ngIf",o.authStore.currentUser.logoEtablissement||o.authStore.currentUser.nomEtablissement),l(),c("ngIf",!(o.authStore.currentUser.messageMaintenance&&o.authStore.currentUser.messageMaintenance.length>0)&&o.needThis))},dependencies:[G,ac],encapsulation:2,changeDetection:0});let t=i;return t})();var b0=(t,i)=>({"col-lg-9":t,"col-lg-12":i}),C0=(t,i)=>({"col-lg-12":t,"col-lg-6":i}),S0=t=>({row:t}),Po=t=>({"col-lg-6":t}),x0=(t,i,e)=>({"btn-action-needed":t,"icon-cross":i,"icon-ed_valider":e}),T0=t=>[t],M0=()=>["/Paiements"],Ao=t=>({badgedebiteur:t}),P0=()=>["/Compte"];function A0(t,i){if(t&1&&(a(0,"div",7),u(1," Votre mot de passe expire dans "),a(2,"b"),u(3),s(),u(4," jours. Vous pouvez le modifier en "),a(5,"a",8),u(6,"cliquant ici"),s(),u(7," . "),s()),t&2){let e=h();l(3),k(e.nbDays)}}function I0(t,i){t&1&&g(0,"div",23)}function w0(t,i){if(t&1&&(a(0,"div",24)(1,"h2",25),u(2,"Quoi de neuf ?"),s(),g(3,"ed-timeline",26),s()),t&2){let e=h(2);l(3),c("idUser",e.idUser)("timelineEvents",e.timelineEvents)}}function k0(t,i){if(t&1&&g(0,"img",30),t&2){let e=h(3);c("src",e.urlTelechargementLogoEtab,ve)}}function O0(t,i){if(t&1&&(a(0,"div",27)(1,"div",28),u(2),E(3,k0,1,1,"img",29),s()()),t&2){let e=h(2);l(2),H(" ",e.authStore.currentUser.nomEtablissement," "),l(),c("ngIf",e.authStore.currentUser.logoEtablissement)}}function D0(t,i){t&1&&(a(0,"h2",27),u(1," Bienvenue sur votre espace EcoleDirecte "),s())}function F0(t,i){if(t&1&&(le(0),g(1,"ed-tab-postits",32),ce()),t&2){let e=h(3);l(),c("isActifPostitsEspacesTravail",e.isActifPostitsEspacesTravail)("tabPostits",e.tabPostits)}}function R0(t,i){t&1&&(a(0,"h2"),u(1," Informations "),s())}function N0(t,i){if(t&1&&(a(0,"div",38)(1,"h3"),u(2),s(),g(3,"p",39),C(4,"ariaConvertNewline"),C(5,"filterHtml"),s()),t&2){let e=i.$implicit;l(2),k(e.titre),l(),c("innerHTML",x(5,4,x(4,2,e.contenu)),ue)}}function U0(t,i){if(t&1&&(a(0,"div",33)(1,"div",34),E(2,R0,2,0,"h2",35)(3,N0,6,6,"div",36),C(4,"trackByProperty"),g(5,"ed-postits",37),s()()),t&2){let e=h(3);l(2),c("ngIf",e.authStore.currentUser.messageMaintenance&&e.authStore.currentUser.messageMaintenance.length>0||(e.tabPostits==null?null:e.tabPostits.length)>0),l(),c("ngForOf",e.authStore.currentUser.messageMaintenance)("ngForTrackBy",x(4,7,"$index")),l(2),c("configPostits",e.postitConfig)("idUser",e.idUser)("typeUser",e.typeUser)("tabPostIts",e.tabPostits)}}function L0(t,i){if(t&1&&(a(0,"div",31),E(1,F0,2,2,"ng-container",6)(2,U0,6,9,"ng-template",null,1,Te),s()),t&2){let e=re(3),n=h(2);c("ngClass",N(3,Po,(n.tabPostits==null?null:n.tabPostits.length)>0||n.isActifPostitsEspacesTravail)),l(),c("ngIf",n.espacesTravailActif&&n.isActifPostitsEspacesTravail)("ngIfElse",e)}}function B0(t,i){if(t&1){let e=L();a(0,"div",40)(1,"h2",41),u(2,"Mes Rendez-vous"),s(),a(3,"button",42),S("click",function(){D(e);let r=h(2);return F(r.openAgenda())}),u(4,"Tous les rdv"),s(),g(5,"ed-agenda-evenements",43),s()}if(t&2){let e=h(2);l(5),c("displayTargets",!1)("droitsAgenda",e.agendaConfig)("events",e.tabRDVToday)("idEntity",e.idUser)("typeEntity",e.typeUser)("needToday",!0)}}function V0(t,i){if(t&1&&(a(0,"div",50),u(1),C(2,"base64"),s()),t&2){let e=h().$implicit;l(),k(me(2,1,e.detail,"decode"))}}function j0(t,i){if(t&1){let e=L();a(0,"li",47)(1,"p")(2,"span",48),u(3),s()(),E(4,V0,3,4,"div",49),a(5,"button",42),S("click",function(){let r=D(e).$implicit,o=h(3);return F(o.openSondageEleve(r))}),u(6,"R\xE9pondre au sondage"),s()()}if(t&2){let e=i.$implicit;l(3),k(e.libelle),l(),c("ngIf",e.detail!=="")}}function z0(t,i){if(t&1&&(a(0,"div",44)(1,"h2",41),u(2,"Sondages"),s(),a(3,"ul",45),E(4,j0,7,2,"li",46),C(5,"trackByProperty"),s()()),t&2){let e=h(2);l(4),c("ngForOf",e.tabRDTSondages)("ngForTrackBy",x(5,2,"$index"))}}function q0(t,i){if(t&1){let e=L();a(0,"li",47)(1,"p")(2,"span",48),u(3),s()(),a(4,"button",42),S("click",function(){let r=D(e).$implicit,o=h(3);return F(o.openEDForms(r))}),u(5),s()()}if(t&2){let e=i.$implicit;l(3),k(e.titre),l(2),H("R\xE9pondre au ",e.typeToLibelleEDForms,"")}}function H0(t,i){if(t&1&&(a(0,"div",44)(1,"h2",41),u(2,"Formulaires"),s(),a(3,"ul"),E(4,q0,6,2,"li",46),C(5,"trackByProperty"),s()()),t&2){let e=h(2);l(4),c("ngForOf",e.tabEDForms)("ngForTrackBy",x(5,2,"idParticipant"))}}function G0(t,i){if(t&1&&(a(0,"div",55),u(1),s()),t&2){let e=h(3);l(),k(e.commentaireDossierInsFamille)}}function $0(t,i){if(t&1&&(a(0,"li",56)(1,"p",48),u(2,"Dossier famille"),s(),a(3,"a",57)(4,"span",58),u(5),s()()()),t&2){let e=h(3);l(5),k(e.LIBELLE_DOSSIER_A_COMPLETER)}}function K0(t,i){if(t&1&&(a(0,"div",55),u(1),s()),t&2){let e=h().$implicit;l(),H(" ",e.commentaire," ")}}function Q0(t,i){if(t&1){let e=L();a(0,"button",42),S("click",function(){D(e);let r=h().$implicit,o=h(3);return F(o.openDossierEleve(r.id))}),g(1,"span",61),C(2,"filterHtml"),s()}if(t&2){let e=h().$implicit,n=h(3);l(),c("innerHTML",x(2,1,n.getLibelleEtapeInscription(e)),ue)}}function W0(t,i){if(t&1){let e=L();a(0,"button",42),S("click",function(){D(e);let r=h(5);return F(r.openSuiviSignaturesInsReins())}),g(1,"span",39),C(2,"filterHtml"),s()}if(t&2){let e=h(2).$implicit,n=h(3);l(),c("innerHTML",x(2,1,n.getLibelleEtapeInscription(e)),ue)}}function J0(t,i){if(t&1){let e=L();a(0,"button",42),S("click",function(){D(e);let r=h(2).$implicit,o=h(3);return F(o.openDossierEleve(r.id,!0))}),g(1,"span",39),C(2,"filterHtml"),s()}if(t&2){let e=h(2).$implicit,n=h(3);l(),c("innerHTML",x(2,1,n.getLibelleEtapeInscription(e)),ue)}}function X0(t,i){if(t&1&&(le(0),E(1,W0,3,3,"button",62)(2,J0,3,3,"ng-template",null,2,Te),ce()),t&2){let e=re(3),n=h().$implicit,r=h(3);l(),c("ngIf",n.isSignatairesManquants&&n.etapeInscription===r.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE2_REMPLIE)("ngIfElse",e)}}function Y0(t,i){if(t&1&&(a(0,"li",59)(1,"p",48),u(2),C(3,"displayNom"),s(),E(4,K0,2,1,"div",52)(5,Q0,3,3,"button",60)(6,X0,4,2,"ng-container",35),s()),t&2){let e=i.$implicit,n=h(3);c("ngClass",ya(9,x0,e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE2_VIDE||e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE2_REMPLIE&&(!e.isReglementOK||e.isSignatairesManquants)||e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE1_VIDE,e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE2_VIDE||e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE2_REMPLIE&&(!e.isReglementOK||e.isSignatairesManquants)||e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE1_VIDE,!(e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE2_VIDE||e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE2_REMPLIE&&(!e.isReglementOK||e.isSignatairesManquants)||e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE1_VIDE))),l(2),H(" ",Pn(3,5,e,!1,!1)," "),l(2),c("ngIf",e.commentaire!==""&&(e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE1_VIDE||e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE2_VIDE)),l(),c("ngIf",e.etapeInscription===n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE1_VIDE),l(),c("ngIf",e.etapeInscription!==n.CONST_INSCRIPTION_ETAPES.INSCR_ETAPE1_VIDE)}}function Z0(t,i){if(t&1&&(a(0,"div",51)(1,"h2",41),u(2),s(),E(3,G0,2,1,"div",52),a(4,"ul"),E(5,$0,6,1,"li",53)(6,Y0,7,13,"li",54),C(7,"trackByProperty"),s()()),t&2){let e=h(2);l(2),H("Dossier",e.tabInscriptions.length>1?"s":""," d'inscription ou de r\xE9-inscription"),l(),c("ngIf",e.commentaireDossierInsFamille),l(2),c("ngIf",e.displayEtatFamille===!0&&e.etatDossierInsFamille!==e.CONST_INSCRIPTION_ETAPES.INSCR_FAMILLE_VALIDE),l(),c("ngForOf",e.tabInscriptions)("ngForTrackBy",x(7,5,"$index"))}}function eh(t,i){if(t&1&&(le(0),g(1,"ed-tab-agenda",64),ce()),t&2){let e=h(3);l(),c("agendaEvents",e.agendaEvents)}}function th(t,i){if(t&1&&(a(0,"div",65)(1,"h2",41),u(2,"Agenda"),s(),a(3,"a",66),u(4,"Tout l'agenda"),s(),g(5,"ed-agenda-evenements",67),s()),t&2){let e=h(3);l(3),c("routerLink",N(6,T0,"/"+e.typeUser+"/"+e.idUser+"/Agenda")),l(2),c("displayTargets",!1)("droitsAgenda",e.agendaConfig)("events",e.agendaEvents)("idEntity",e.idUser)("typeEntity",e.typeUser)}}function ih(t,i){if(t&1&&(a(0,"div",63),E(1,eh,2,1,"ng-container",6)(2,th,6,8,"ng-template",null,3,Te),s()),t&2){let e=re(3),n=h(2);c("ngClass",N(3,Po,(n.tabPostits==null?null:n.tabPostits.length)===0&&!n.isActifPostitsEspacesTravail)),l(),c("ngIf",n.espacesTravailActif&&n.isActifAgendaEvenementsEspacesTravail)("ngIfElse",e)}}function nh(t,i){t&1&&(a(0,"h2",41),u(1,"Porte-monnaie"),s())}function rh(t,i){if(t&1&&(a(0,"a",74)(1,"span",75),g(2,"span",76),u(3),C(4,"number"),s()()),t&2){let e=h().$implicit,n=h(3);c("routerLink",K(7,M0)),l(),c("ngClass",N(8,Ao,e.solde<0)),l(),c("textContent",e.solde<0?"":"+"),l(),H(" ",me(4,4,e.solde,n.digitsInfo)," ")}}function oh(t,i){if(t&1&&(a(0,"a",74)(1,"span",75),g(2,"span",76),u(3),C(4,"number"),s()()),t&2){let e=h().$implicit,n=h(3);c("routerLink",K(7,P0)),l(),c("ngClass",N(8,Ao,e.solde<0)),l(),c("textContent",e.solde<0?"":"+"),l(),H(" ",me(4,4,e.solde,n.digitsInfo)," ")}}function ah(t,i){if(t&1&&(a(0,"span",75),g(1,"span",76),u(2),C(3,"number"),s()),t&2){let e=h().$implicit,n=h(3);c("ngClass",N(6,Ao,e.solde<0)),l(),c("textContent",e.solde<0?"":"+"),l(),H(" ",me(3,3,e.solde,n.digitsInfo)," ")}}function sh(t,i){if(t&1&&(a(0,"li"),E(1,rh,5,10,"a",71)(2,oh,5,10,"a",71)(3,ah,4,8,"span",72),a(4,"span",73),u(5),s()()),t&2){let e=i.$implicit,n=h(3);l(),c("ngIf",n.isPaiementEnable&&e.isPMPayable),l(),c("ngIf",n.isPaiementEnable&&!e.isPMPayable),l(),c("ngIf",!n.isPaiementEnable),l(2),k(e.libelle)}}function lh(t,i){if(t&1&&(a(0,"div",68),E(1,nh,2,0,"h2",69),a(2,"ul"),E(3,sh,6,4,"li",70),C(4,"trackByProperty"),s()()),t&2){let e=h(2);c("ngClass",N(6,Po,(e.tabPostits==null?null:e.tabPostits.length)===0&&!e.isActifPostitsEspacesTravail)),l(),c("ngIf",e.lesSoldes.length>=1),l(2),c("ngForOf",e.lesSoldes)("ngForTrackBy",x(4,4,"$index"))}}function ch(t,i){if(t&1&&(a(0,"div"),E(1,I0,1,0,"div",9),a(2,"div",10),E(3,w0,4,2,"div",11),a(4,"div",12)(5,"div",13),E(6,O0,4,2,"div",14)(7,D0,2,0,"h2",14)(8,L0,4,5,"div",15),a(9,"div",16)(10,"div",17),E(11,B0,6,6,"div",18)(12,z0,6,4,"div",19)(13,H0,6,4,"div",19)(14,Z0,8,7,"div",20)(15,ih,4,5,"div",21)(16,lh,5,8,"div",22),s()()()()()()),t&2){let e=h();l(),c("ngIf",e.timelineEvents&&e.timelineEvents.length>0),l(2),c("ngIf",e.timelineEvents&&e.timelineEvents.length>0),l(),c("ngClass",ft(14,b0,e.timelineEvents&&e.timelineEvents.length>0,e.timelineEvents.length===0)),l(2),c("ngIf",e.authStore.currentUser.logoEtablissement||e.authStore.currentUser.nomEtablissement),l(),c("ngIf",!(e.authStore.currentUser.messageMaintenance&&e.authStore.currentUser.messageMaintenance.length>0)&&!(e.tabPostits&&e.tabPostits.length>0)),l(),c("ngIf",e.tabPostits||e.isActifPostitsEspacesTravail&&e.espacesTravailActif),l(),c("ngClass",ft(17,C0,(e.tabPostits==null?null:e.tabPostits.length)===0&&!e.isActifPostitsEspacesTravail,(e.tabPostits==null?null:e.tabPostits.length)>0||e.isActifPostitsEspacesTravail)),l(),c("ngClass",N(20,S0,(e.tabPostits==null?null:e.tabPostits.length)===0&&!e.isActifPostitsEspacesTravail)),l(),c("ngIf",(e.tabRDVToday==null?null:e.tabRDVToday.length)>0),l(),c("ngIf",e.tabRDTSondages&&e.tabRDTSondages.length>0),l(),c("ngIf",e.tabEDForms&&e.tabEDForms.length>0),l(),c("ngIf",e.isDossierInscriptionActif&&e.tabInscriptions.length>0),l(),c("ngIf",(e.agendaEvents==null?null:e.agendaEvents.length)>0||e.espacesTravailActif&&e.isActifAgendaEvenementsEspacesTravail),l(),c("ngIf",e.lesSoldes.length>0)}}function dh(t,i){t&1&&(a(0,"div",77)(1,"h3",78),u(2,"Aucun contenu n'est disponible"),s()())}var lc=(()=>{let i=class i extends Ie(){constructor(n,r,o,d,m,p,f,_,y,T,P,A){super(),this.uiService=n,this.authStore=r,this.loaderService=o,this.timelineService=d,this.rdtService=m,this.modalService=p,this.messageService=f,this.dossierInscriptionFamilleService=_,this.edfService=y,this.router=T,this.events=P,this.cloudService=A,this.tabPostits=[],this.tabEDForms=[],this.agendaEvents=[],this.timelineEvents=[],this.tabRDTSondages=[],this.tabInscriptions=[],this.tabReunions=[],this.lesSoldes=[],this.isMessagerieActive=!1,this.isDocumentsActifs=!1,this.isSituationFinanciereActive=!1,this.isPaiementEnable=!1,this.isDossierInscriptionActif=!1,this.displayEtatFamille=!1,this.CONST_INSCRIPTION_ETAPES=jr,this.LIBELLE_DOSSIER_A_COMPLETER=ls,this.tabRDVToday=[],this.nbDays=0,this.agendaConfig={CAN_CREATE:!1,CAN_UPDATE:!1,CAN_DELETE:!1},this.postitConfig={addPostit:!1,updatePostit:!1,deletePostit:!1,displayDateCreated:!0,displayDateLimit:!1,displayTargets:!1,displayFormTargets:!1,selectTargets:[],visibilityPostitPast:!1,displayLibelleAuteur:!1,contexte:ti.ACCUEIL},this.nbDays=this.authStore.snapshot.nbJourMdpExire}ngOnInit(){this.typeUser=this.authStore.currentUser.typeCompte,this.idUser=this.authStore.currentUser.id,this.espacesTravailActif=V.isModuleEnabled(this.authStore.currentUser,b.CLOUD),this.urlTelechargementLogoEtab=`${_t()}/telechargement${Ye.apiExtension}?cToken=${this.authStore.cToken()}&verbe=get&fichierId=${this.authStore.currentUser.logoEtablissement}&leTypeDeFichier=IMPORT_FTP`,this.isMessagerieActive=V.isModuleEnabled(this.authStore.currentUser,b.MESSAGERIE),this.isDocumentsActifs=V.isModuleEnabled(this.authStore.currentUser,b.DOCUMENTS),this.isSituationFinanciereActive=V.isModuleEnabled(this.authStore.currentUser,b.SITUATION_FINANCIERE),this.isPaiementEnable=V.isModuleEnabled(this.authStore.currentUser,b.PAIEMENT_EN_LIGNE),this.isDossierInscriptionActif=V.isModuleEnabled(this.authStore.currentUser,b.DOSSIER_INSCRIPTION),this.isActifPostitsEspacesTravail=V.getModuleParametre(b.CLOUD,"isActifPostitsEspacesTravail",this.authStore.currentUser)>0,this.isActifAgendaEvenementsEspacesTravail=V.getModuleParametre(b.CLOUD,"isActifAgendaEvenementsEspacesTravail",this.authStore.currentUser)>0;let n=V.getModuleParametre(b.PAIEMENT_EN_LIGNE,"codeDevise",this.authStore.currentUser);this.digitsInfo=Vn.infosDevise(n).digitsInfo,this.refreshData(),this.events.select$("array:removeEntityById").pipe(De(this._destroyRef)).subscribe(r=>{r>0&&Array.isArray(this.tabEDForms)&&(this.tabEDForms=this.tabEDForms.filter(o=>r!==o.idParticipant))})}getLibelleEtapeInscription(n){return cs.getLibelleEtapeInscription(n)}openSondageEleve(n){let r={sondage:n},o={id:this.modalService.getModalsCount()+1,initialState:r,ignoreBackdropClick:!0,class:"modal-lg"};this.modalService.show(_r,o),this.modalService.onHide.pipe(ke(1),tt(d=>d===Qe.validation),We(d=>(this.loader=this.loaderService.show(this),this.rdtService.getSondages())),q(d=>{this.tabRDTSondages=d.filter(m=>m.id!==n.id)}),ge(()=>this.loaderService.hide(this)),ie(d=>this.uiService.notifyErrorThenEmpty(d,!0,"Erreur"))).subscribe()}isPast(n){return vt.isAfter(new Date,vt.stringToDate(n))}refreshData(){this.loader=this.loaderService.show(this),this.datasAccueil$=ct([this.timelineService.communTimeline(this.typeUser,this.idUser),this.dossierInscriptionFamilleService.getDossierInscription(this.authStore.currentUser.codeOgec,this.typeUser,this.idUser,!0,!0),this.rdtService.getSondages(),this.edfService.getFS(this.typeUser,this.idUser),this.messageService.getUnreadMessages(this.typeUser,this.idUser),this.cloudService.getVisioToday(this.idUser,this.typeUser)]).pipe(q(n=>{var o,d,m;let r=[];if(this.tabPostits=(o=n[0].postits)==null?void 0:o.map(p=>new li(p)),this.agendaEvents=(d=n[0].evenements)==null?void 0:d.map(p=>ai.cleanEvent(new Ot(p))),this.tabReunions=n[0].reunions||[],this.tabReunions.forEach((p,f)=>{if(!this.isPast(p.dateReunion)){let _=new Qt({date:p.dateReunion+" "+p.heureDebut+":00",description:p.libelleReunion+" / (pour "+p.eleve.prenom+")",typeElement:"ReunionPPFamille",idElement:f,titre:"Nouvelle r\xE9union parents/prof disponible",soustitre:"",idUser:p.eleve.id,typeUser:O.ELEVE,contenu:"",afficherHeure:!1});r.push(_)}}),this.isDocumentsActifs){let p=["documentsFacture","documentsNote","documentsVS","documentsAdm"];for(let[f,_]of p.entries())if(Object.prototype.hasOwnProperty.call(n[0],_)){let y=n[0][_];for(let T of y){let P=new Qt({date:T.date,typeElement:"DocumentFamille",idElement:f,titre:"Nouveau document disponible",soustitre:"",contenu:"",idUser:this.idUser,typeUser:this.typeUser,description:T.libelle,afficherHeure:!1});r.push(P)}}}if(this.isSituationFinanciereActive&&(this.lesSoldes=Object.isExists(n[0].comptes)?n[0].comptes.comptes.filter(p=>p.typeCompte===Ui.pm&&p.solde!==0||p.typeCompte===Ui.pmactivite&&p.solde<0).map(p=>new Hn(p)):[]),r=[...r,...n[4].slice(0,10).map(p=>new Qt({date:p.date,contenu:p.content,description:p.subject,titre:p.from.civilite+" "+p.from.prenom+" "+p.from.nom,idElement:p.id,typeElement:"Messagerie",idUser:this.idUser,typeUser:this.typeUser,afficherHeure:!1}))],this.timelineEvents=[...this.timelineEvents,...r],this.tabInscriptions=n[1].inscriptions,this.commentaireDossierInsFamille=n[1].commentaireFamille,this.etatDossierInsFamille=n[1].etatFamille,Object.isExists(this.tabInscriptions)&&(this.displayEtatFamille=this.tabInscriptions.filter(p=>p.etapeInscription>=jr.INSCR_ETAPE2_REMPLIE).length===this.tabInscriptions.length),this.tabRDTSondages=n[2],this.tabEDForms=n[3],((m=n[5])==null?void 0:m.length)>0)for(let p of n[5])if(p.typeEvenement===Ua.RPPFamille&&!p.isVisio){let f=this.tabRDVToday.find(_=>_.id===p.id&&_.libelle===p.libelle);Object.isExists(f)?(p.heureDebut<f.heureDebut&&(f.heureDebut=p.heureDebut),p.heureFin>f.heureFin&&(f.heureFin=p.heureFin),f.nomAuteur=""):this.tabRDVToday.push(p)}else this.tabRDVToday.push(p)}),ge(()=>this.loaderService.hide(this)),ie(n=>this.uiService.notifyErrorThenEmpty(n,!0,"Erreur")))}openEDForms(n){this.router.navigate(["",{outlets:{auxiliaryModal:["repondre-au-fs"]}}],{skipLocationChange:!0,queryParams:{idFS:n.id,idParticipant:n.idParticipant,titre:n.titre}}).catch(()=>console.error("AccueilFamilleComponent.openEDForms navigate to fs form"))}openDossierEleve(n,r=!1){r?this.router.navigate(["/F/DossierInscription"]).catch(()=>console.error("AccueilFamilleComponent.openDossierEleve navigate to dossier eleve")):this.router.navigate(["/F/DossierInscription/dossiersEleves"],{queryParams:{idEleve:n}}).catch(()=>console.error("AccueilFamilleComponent.openDossierEleve navigate to dossier eleve"))}openAgenda(){let n="/"+this.authStore.currentUser.typeCompte+"/"+this.authStore.currentUser.id+"/Agenda";this.router.navigate([n],{queryParams:{selectAgendaRDV:!0}}).catch(()=>console.error("AccueilFamilleComponent.openAgenda"))}openSuiviSignaturesInsReins(){this.router.navigate(["/F/DossierInscription/signatures"]).catch(()=>console.error("AccueilFamilleComponent.openSuiviSignaturesInsReins navigate to suivi signatures"))}};i.\u0275fac=function(r){return new(r||i)(v(ye),v(M),v(Re),v(di),v(Bi),v(Fe),v(Gn),v(ds),v(ci),v(Q),v(ni),v(si))},i.\u0275cmp=w({type:i,selectors:[["ed-accueil-famille"]],standalone:!1,features:[Oe],decls:6,vars:6,consts:[["noAccueil",""],["onlyPostIts",""],["btnLinkDossierEleve",""],["onlyAgendaEtab",""],[1,"accueilfamille","accueiluserauth","container-fluid",3,"cgBusy"],["class","banner",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"banner"],["href","utilisateur/personnalisation"],["class","d-none d-lg-block d-print-none separator",4,"ngIf"],[1,"row"],["class","d-none d-lg-block col-lg-3 timeline-famille double-padding padding-home",4,"ngIf"],[1,"",3,"ngClass"],[1,"row","padding-home"],["class","col-lg-12",4,"ngIf"],[3,"ngClass",4,"ngIf"],[1,"double-padding",3,"ngClass"],[1,"blocs-colonne","margin-bottom",3,"ngClass"],["class","encart-agenda card ed-card px-3 pb-3",4,"ngIf"],["class","encart-rdt-sondages card ed-card px-3 pb-3",4,"ngIf"],["class","hidden-xs card ed-card px-3 pb-3","id","dossierInscription",4,"ngIf"],["class","card ed-card px-3 pb-3",3,"ngClass",4,"ngIf"],["class","hidden-xs card ed-card px-3 pb-3","id","soldes",3,"ngClass",4,"ngIf"],[1,"d-none","d-lg-block","d-print-none","separator"],[1,"d-none","d-lg-block","col-lg-3","timeline-famille","double-padding","padding-home"],["id","quoi-de-neuf"],[3,"idUser","timelineEvents"],[1,"col-lg-12"],["id","nom-etb"],["alt","logo \xE9tablissement","class","float-end rounded logo-etab",3,"src",4,"ngIf"],["alt","logo \xE9tablissement",1,"float-end","rounded","logo-etab",3,"src"],[3,"ngClass"],[3,"isActifPostitsEspacesTravail","tabPostits"],["id","encart-postit"],[1,"no-padding","blocs-colonne","margin-bottom"],[4,"ngIf"],["class","jumbotron msg-maintenance",4,"ngFor","ngForOf","ngForTrackBy"],[3,"configPostits","idUser","typeUser","tabPostIts"],[1,"jumbotron","msg-maintenance"],[3,"innerHTML"],[1,"encart-agenda","card","ed-card","px-3","pb-3"],[1,"text-center","w-100"],["type","button",1,"btn","btn-link",3,"click"],[3,"displayTargets","droitsAgenda","espaceTravail","events","idEntity","selectedTargets","typeEntity","needToday"],[1,"encart-rdt-sondages","card","ed-card","px-3","pb-3"],[1,"rdt"],["class","btn-action btn-action-needed light-color icon-ed_attention",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-action","btn-action-needed","light-color","icon-ed_attention"],[1,"text-bold"],["class","alert alert-info",4,"ngIf"],[1,"alert","alert-info"],["id","dossierInscription",1,"hidden-xs","card","ed-card","px-3","pb-3"],["class","alert alert-warning",4,"ngIf"],["class","btn-action btn-action-ok icon-ed_valider etape-en-attente btn-action-needed icon-ed_attention",4,"ngIf"],["class","btn-action btn-action-ok icon-ed_valider etape-en-attente",3,"ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[1,"alert","alert-warning"],[1,"btn-action","btn-action-ok","icon-ed_valider","etape-en-attente","btn-action-needed","icon-ed_attention"],["routerLink","/F/DossierInscription"],[1,"danger"],[1,"btn-action","btn-action-ok","icon-ed_valider","etape-en-attente",3,"ngClass"],["type","button","class","btn btn-link",3,"click",4,"ngIf"],[1,"danger",3,"innerHTML"],["type","button","class","btn btn-link",3,"click",4,"ngIf","ngIfElse"],[1,"card","ed-card","px-3","pb-3",3,"ngClass"],[3,"agendaEvents"],[1,"encart-agenda"],["href","",1,"mb-4",3,"routerLink"],[3,"displayTargets","droitsAgenda","espaceTravail","events","idEntity","selectedTargets","typeEntity"],["id","soldes",1,"hidden-xs","card","ed-card","px-3","pb-3",3,"ngClass"],["class","text-center w-100",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["href","",3,"routerLink",4,"ngIf"],["class","badge-solde",3,"ngClass",4,"ngIf"],[1,"libelle","text-bold"],["href","",3,"routerLink"],[1,"badge-solde",3,"ngClass"],[3,"textContent"],[1,"jumbotron","container-bg","double-padding"],[1,"d-print-none"]],template:function(r,o){if(r&1&&(a(0,"div",4),E(1,A0,8,1,"div",5)(2,ch,17,22,"div",6),C(3,"async"),E(4,dh,3,0,"ng-template",null,0,Te),s()),r&2){let d=re(5);c("cgBusy",o.loader),l(),c("ngIf",o.nbDays>0),l(),c("ngIf",x(3,4,o.datasAccueil$))("ngIfElse",d)}},dependencies:[oe,Ee,G,ae,se,Rt,pi,hi,Gi,bt,Je,In,Li,ii,Ve,be,Ze],styles:["ed-agenda-evenements[_ngcontent-%COMP%]{width:100%}.encart-rdt-sondages[_ngcontent-%COMP%]   li.btn-action.btn-action-ok.icon-ed_valider.etape-en-attente.icon-ed_attention.ng-star-inserted[_ngcontent-%COMP%]{background:linear-gradient(var(--ultradark-primary-color),var(--dark-primary-color));color:#fff}.encart-rdt-sondages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.encart-rdt-sondages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px;width:49%;border-radius:5px;color:#fff;margin-top:5px}.encart-rdt-sondages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:0 0 5px;padding:3px}.encart-rdt-sondages[_ngcontent-%COMP%]   ul.rdt[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{width:100%}.encart-rdt-sondages[_ngcontent-%COMP%]   li.btn-action.btn-action-needed.light-color.icon-ed_attention.ng-star-inserted[_ngcontent-%COMP%]{padding:20px;border-radius:5px;color:#fff;background:linear-gradient(var(--smalldark-primary-color),var(--dark-primary-color))}#dossierInscription[_ngcontent-%COMP%]   li.btn-action.btn-action-ok.icon-ed_valider.etape-en-attente.icon-ed_attention.ng-star-inserted[_ngcontent-%COMP%]{background:linear-gradient(var(--ultradark-primary-color),var(--dark-primary-color));color:#fff}#dossierInscription[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}#dossierInscription[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px;width:49%;border-radius:5px;color:#fff}#dossierInscription[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(2) ~ li[_ngcontent-%COMP%]{margin-top:5px}#dossierInscription[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:0 0 5px;padding:3px}#soldes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none}#soldes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 0 10px;overflow:hidden}#soldes[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{line-height:1.1}#soldes[_ngcontent-%COMP%]   .badge-solde[_ngcontent-%COMP%]{float:left;margin:0 15px 0 0;padding:10px 0;min-width:90px;background:var(--light-primary-color);border-radius:50px;font-size:15px;font-weight:700;color:#fff;overflow:hidden;text-overflow:ellipsis;text-align:center}#soldes[_ngcontent-%COMP%]   .badge-solde.badgedebiteur[_ngcontent-%COMP%]{background:var(--secondary-color)}"]});let t=i;return t})();function uh(t,i){if(t&1&&(a(0,"div",5),u(1," Votre mot de passe expire dans "),a(2,"b"),u(3),s(),u(4," jours. Vous pouvez le modifier en "),a(5,"a",6),u(6,"cliquant ici"),s(),u(7," . "),s()),t&2){let e=h();l(3),k(e.nbDays)}}function mh(t,i){if(t&1&&g(0,"img",17),t&2){let e=h(3);c("src",e.urlTelechargementLogoEtab,ve)}}function ph(t,i){if(t&1&&(a(0,"div",14)(1,"div",15),u(2),E(3,mh,1,1,"img",16),s()()),t&2){let e=h(2);l(2),H(" ",e.authStore.currentUser.nomEtablissement," "),l(),c("ngIf",e.authStore.currentUser.logoEtablissement)}}function hh(t,i){if(t&1&&(le(0),g(1,"ed-tab-postits",20),ce()),t&2){let e=h(3);l(),c("isActifPostitsEspacesTravail",e.isActifPostitsEspacesTravail)("tabPostits",e.tabPostits)}}function fh(t,i){t&1&&(a(0,"h2"),u(1,"Informations"),s())}function gh(t,i){if(t&1&&(a(0,"div",25)(1,"h3"),u(2),s(),g(3,"p",26),C(4,"ariaConvertNewline"),C(5,"filterHtml"),s()),t&2){let e=i.$implicit;l(2),k(e.titre),l(),c("innerHTML",x(5,4,x(4,2,e.contenu)),ue)}}function vh(t,i){if(t&1&&(a(0,"div",21),E(1,fh,2,0,"h2",22)(2,gh,6,6,"div",23),C(3,"trackByProperty"),g(4,"ed-postits",24),s()),t&2){let e=h(3);l(),c("ngIf",e.authStore.currentUser.messageMaintenance&&e.authStore.currentUser.messageMaintenance.length>0||(e.tabPostits==null?null:e.tabPostits.length)>0),l(),c("ngForOf",e.authStore.currentUser.messageMaintenance)("ngForTrackBy",x(3,7,"$index")),l(2),c("configPostits",e.postitConfig)("idUser",e.idUser)("typeUser",e.typeUser)("tabPostIts",e.tabPostits)}}function _h(t,i){if(t&1&&(a(0,"div",18),E(1,hh,2,2,"ng-container",19)(2,vh,5,9,"ng-template",null,1,Te),s()),t&2){let e=re(3),n=h(2);l(),c("ngIf",n.espacesTravailActif&&n.isActifPostitsEspacesTravail)("ngIfElse",e)}}function Eh(t,i){if(t&1){let e=L();a(0,"div",27)(1,"h2",28),u(2,"Mes Rendez-vous"),s(),a(3,"button",29),S("click",function(){D(e);let r=h(2);return F(r.openAgenda())}),u(4,"Tous les rdv"),s(),g(5,"ed-agenda-evenements",30),s()}if(t&2){let e=h(2);l(5),c("displayTargets",!1)("droitsAgenda",e.agendaConfig)("events",e.tabRDVToday)("idEntity",e.idUser)("typeEntity",e.typeUser)("needToday",!0)}}function yh(t,i){if(t&1){let e=L();a(0,"li",33)(1,"p")(2,"strong"),u(3),s()(),a(4,"button",29),S("click",function(){let r=D(e).$implicit,o=h(3);return F(o.openEDForms(r))}),u(5),s()()}if(t&2){let e=i.$implicit;l(3),k(e.titre),l(2),H("R\xE9pondre au ",e.typeToLibelleEDForms,"")}}function bh(t,i){if(t&1&&(a(0,"div",31)(1,"h2",28),u(2,"Formulaires"),s(),a(3,"ul"),E(4,yh,6,2,"li",32),C(5,"trackByProperty"),s()()),t&2){let e=h(2);l(4),c("ngForOf",e.tabEDForms)("ngForTrackBy",x(5,2,"idParticipant"))}}function Ch(t,i){if(t&1&&(le(0),g(1,"ed-tab-agenda",35),ce()),t&2){let e=h(3);l(),c("agendaEvents",e.agendaEvents)}}function Sh(t,i){if(t&1&&(a(0,"div",36)(1,"h2",28),u(2,"Agenda"),s(),a(3,"a",37),u(4,"Tout l'agenda"),s(),g(5,"ed-agenda-evenements",38),s()),t&2){let e=h(3);l(3),nt("href","/",e.typeUser,"/",e.idUser,"/Agenda",ve),l(2),c("displayTargets",!1)("droitsAgenda",e.agendaConfig)("events",e.agendaEvents)("idEntity",e.idUser)("typeEntity",e.typeUser)}}function xh(t,i){if(t&1&&(a(0,"div",34),E(1,Ch,2,1,"ng-container",19)(2,Sh,6,8,"ng-template",null,1,Te),s()),t&2){let e=re(3),n=h(2);l(),c("ngIf",n.espacesTravailActif&&n.isActifAgendaEvenementsEspacesTravail)("ngIfElse",e)}}function Th(t,i){if(t&1&&(a(0,"div",7),E(1,ph,4,2,"div",8)(2,_h,4,2,"div",9),a(3,"div",10),E(4,Eh,6,6,"div",11)(5,bh,6,4,"div",12)(6,xh,4,2,"div",13),s()()),t&2){let e=h();l(),c("ngIf",e.authStore.currentUser.logoEtablissement||e.authStore.currentUser.nomEtablissement),l(),c("ngIf",(e.tabPostits==null?null:e.tabPostits.length)>0||e.espacesTravailActif&&e.isActifPostitsEspacesTravail),l(2),c("ngIf",(e.tabRDVToday==null?null:e.tabRDVToday.length)>0),l(),c("ngIf",e.tabEDForms&&e.tabEDForms.length>0),l(),c("ngIf",(e.agendaEvents==null?null:e.agendaEvents.length)>0||e.espacesTravailActif&&e.isActifAgendaEvenementsEspacesTravail)}}function Mh(t,i){t&1&&(a(0,"div",39)(1,"h3",40),u(2,"Aucun contenu n'est disponible"),s()())}var cc=(()=>{let i=class i{constructor(n,r,o,d,m,p,f,_){this.uiService=n,this.authStore=r,this.timelineService=o,this.loaderService=d,this.edfService=m,this.router=p,this.events=f,this.cloudService=_,this.tabEDForms=[],this.tabRDVToday=[],this.nbDays=0,this.urlTelechargementLogoEtab=`${_t()}/telechargement${Ye.apiExtension}?cToken=${r.cToken()}&verbe=get&fichierId=${r.currentUser.logoEtablissement}&leTypeDeFichier=${La.FICHIER_IMPORT}`,this.idUser=this.authStore.currentUser.id,this.typeUser=this.authStore.currentUser.typeCompte,this.espacesTravailActif=V.isModuleEnabled(this.authStore.currentUser,b.CLOUD),this.isActifPostitsEspacesTravail=V.getModuleParametre(b.CLOUD,"isActifPostitsEspacesTravail",this.authStore.currentUser)>0,this.isActifAgendaEvenementsEspacesTravail=V.getModuleParametre(b.CLOUD,"isActifAgendaEvenementsEspacesTravail",this.authStore.currentUser)>0,this.postitConfig={addPostit:!1,updatePostit:!1,deletePostit:!1,displayDateCreated:!0,displayDateLimit:!1,displayTargets:!1,displayFormTargets:!1,selectTargets:[],visibilityPostitPast:!1,displayLibelleAuteur:!1,contexte:ti.ACCUEIL},this.agendaConfig={CAN_CREATE:!1,CAN_UPDATE:!1,CAN_DELETE:!1},this.nbDays=this.authStore.snapshot.nbJourMdpExire}ngOnInit(){this.loader=this.loaderService.show(this),this.listeTimelineCommun$=ct([this.timelineService.communTimeline(this.typeUser,this.idUser),this.edfService.getFS(this.typeUser,this.idUser),this.cloudService.getVisioToday(this.idUser,this.typeUser)]).pipe(q(n=>{var r,o;this.tabPostits=(r=n[0].postits)==null?void 0:r.map(d=>new li(d)),this.agendaEvents=(o=n[0].evenements)==null?void 0:o.map(d=>ai.cleanEvent(new Ot(d))),this.tabEDForms=n[1],this.tabRDVToday=Array.isArray(n[2])?[...n[2]]:[]}),ge(()=>this.loaderService.hide(this)),ie(n=>this.uiService.notifyErrorThenEmpty(n,!0,"Erreur"))),this.events.subscribe("array:removeEntityById",n=>{n>0&&Array.isArray(this.tabEDForms)&&(this.tabEDForms=this.tabEDForms.filter(r=>n!==r.idParticipant))})}ngOnDestroy(){this.events.unsubscribe("array:removeEntityById")}openEDForms(n){this.router.navigate(["",{outlets:{auxiliaryModal:["repondre-au-fs"]}}],{skipLocationChange:!0,queryParams:{idFS:n.id,idParticipant:n.idParticipant,titre:n.titre}}).catch(()=>console.error("AccueilFamilleComponent.openEDForms navigate to fs form"))}openAgenda(){let n="/"+this.authStore.currentUser.typeCompte+"/"+this.authStore.currentUser.id+"/Agenda";this.router.navigate([n],{queryParams:{selectAgendaRDV:!0}}).catch(()=>console.error("AccueilFamilleComponent.openDossierEleve navigate to dossier eleve"))}};i.\u0275fac=function(r){return new(r||i)(v(ye),v(M),v(di),v(Re),v(ci),v(Q),v(ni),v(si))},i.\u0275cmp=w({type:i,selectors:[["ed-accueil-personnel"]],standalone:!1,decls:6,vars:6,consts:[["noAccueil",""],["onlyPostIts",""],[1,"ed-container","accueil-personnel","accueiluserauth","container-fluid","padding-home",3,"cgBusy"],["class","banner",4,"ngIf"],["class","row",4,"ngIf","ngIfElse"],[1,"banner"],["href","utilisateur/personnalisation"],[1,"row"],["class","col-lg-12",4,"ngIf"],["class","col-lg-6",4,"ngIf"],[1,"col-lg-6","py-1","px-3"],["class","encart-agenda card ed-card px-3 pb-3",4,"ngIf"],["class","encart-edforms card ed-card px-3 pb-3",4,"ngIf"],["class","card ed-card px-3 pb-3",4,"ngIf"],[1,"col-lg-12"],["id","nom-etb"],["class","rounded logo-etab logo-etab-prof","alt","logo \xE9tablissement",3,"src",4,"ngIf"],["alt","logo \xE9tablissement",1,"rounded","logo-etab","logo-etab-prof",3,"src"],[1,"col-lg-6"],[4,"ngIf","ngIfElse"],[3,"isActifPostitsEspacesTravail","tabPostits"],["id","encart-postit"],[4,"ngIf"],["class","jumbotron msg-maintenance",4,"ngFor","ngForOf","ngForTrackBy"],[3,"configPostits","idUser","typeUser","tabPostIts"],[1,"jumbotron","msg-maintenance"],[3,"innerHTML"],[1,"encart-agenda","card","ed-card","px-3","pb-3"],[1,"text-center","w-100"],["type","button",1,"btn","btn-link",3,"click"],[3,"displayTargets","droitsAgenda","espaceTravail","events","idEntity","selectedTargets","typeEntity","needToday"],[1,"encart-edforms","card","ed-card","px-3","pb-3"],["class","btn-action btn-action-needed light-color icon-ed_attention",4,"ngFor","ngForOf","ngForTrackBy"],[1,"btn-action","btn-action-needed","light-color","icon-ed_attention"],[1,"card","ed-card","px-3","pb-3"],[3,"agendaEvents"],[1,"encart-agenda"],[1,"mb-4",3,"href"],[3,"displayTargets","droitsAgenda","espaceTravail","events","idEntity","selectedTargets","typeEntity"],[1,"jumbotron","container-bg","double-padding"],[1,"d-print-none"]],template:function(r,o){if(r&1&&(a(0,"div",2),E(1,uh,8,1,"div",3)(2,Th,7,5,"div",4),C(3,"async"),E(4,Mh,3,0,"ng-template",null,0,Te),s()),r&2){let d=re(5);c("cgBusy",o.loader),l(),c("ngIf",o.nbDays>0),l(),c("ngIf",x(3,4,o.listeTimelineCommun$))("ngIfElse",d)}},dependencies:[Ee,G,se,Rt,pi,hi,bt,Je,Ve,be,Ze],styles:["ed-agenda-evenements[_ngcontent-%COMP%]{width:100%}.accueil-personnel[_ngcontent-%COMP%]   .encart-edforms[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.accueil-personnel[_ngcontent-%COMP%]   .encart-edforms[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px;width:49%;border-radius:5px;color:#fff;margin-top:5px}.accueil-personnel[_ngcontent-%COMP%]   .encart-edforms[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:0 0 5px;padding:3px}.accueil-personnel[_ngcontent-%COMP%]   .encart-rdt-sondages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:space-between}.accueil-personnel[_ngcontent-%COMP%]   .encart-rdt-sondages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px;width:100%;border-radius:5px;color:#fff}.accueil-personnel[_ngcontent-%COMP%]   .encart-rdt-sondages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(n) ~ li[_ngcontent-%COMP%]{margin-top:5px}.accueil-personnel[_ngcontent-%COMP%]   .encart-rdt-sondages[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{margin:0 0 5px;padding:3px}"]});let t=i;return t})();var dc=(()=>{let i=class i{constructor(n,r,o){this.authStore=n,this.accountService=r,this.router=o}ngOnInit(){this.authStore.isLoggedIn()?this.authStore.isFamille()?this.router.navigate(["/Famille"]).catch(()=>console.error("accueil navigate to /Famille")):this.authStore.isEleve()?this.router.navigate(["/Eleves",this.authStore.currentUser.id]).catch(()=>console.error("accueil navigate to /Eleves")):this.authStore.isPersonnel()?this.router.navigate(["/Personnel"]).catch(()=>console.error("accueil navigate to /Personnel")):this.authStore.isProfesseur()?this.router.navigate(["/Enseignant"]).catch(()=>console.error("accueil navigate to /Enseignant")):this.authStore.isEntreprise()?this.router.navigate(["/Entreprise"]).catch(()=>console.error("accueil navigate to /Entreprise")):this.accountService.logout():this.router.navigate(["/login"]).catch(()=>console.error("accueil navigate to /login"))}};i.\u0275fac=function(r){return new(r||i)(v(M),v(Ft),v(Q))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],standalone:!1,decls:0,vars:0,template:function(r,o){},encapsulation:2});let t=i;return t})();var uc=(()=>{let i=class i{constructor(n,r){this.authStore=n,this.router=r}ngOnInit(){this.authStore.isLoggedIn()&&this.router.navigate(["/accueil"]).catch(()=>console.error("layout navigate to /accueil"))}};i.\u0275fac=function(r){return new(r||i)(v(M),v(Q))},i.\u0275cmp=w({type:i,selectors:[["ng-component"]],standalone:!1,decls:3,vars:0,consts:[["id","main-part"],["id","main"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"div",1),g(2,"router-outlet"),s()())},dependencies:[Ni],encapsulation:2});let t=i;return t})();var gn=class{constructor(i={selectedMenuId:""}){this.selectedMenuId=i.selectedMenuId}static initialState(){return{}}};var Lt,Cr=(Lt=class extends Ja{constructor(i){super(i),this.devTool=i}updateSelectedMenu(i){this.store=new gn({selectedMenuId:i})}},Lt.\u0275fac=function(e){return new(e||Lt)(X(Wa))},Lt.\u0275prov=he({token:Lt,factory:Lt.\u0275fac,providedIn:"root"}),Lt);Cr=Di([Ha({classInstanceRef:gn,resetWhenSwipe:!0,className:"MenuUserStore"})],Cr);var Sr=t=>["fas",t],Ah=(t,i)=>({faChevronRight:t,faChevronUp:i}),Ih=()=>["fas","up-right-from-square"];function wh(t,i){if(t&1&&g(0,"i",9),t&2){let e=h(3);qe(e.blockItem.leftIcon)}}function kh(t,i){if(t&1&&g(0,"fa-icon",10),t&2){let e=h(3);c("icon",N(1,Sr,e.blockItem.leftIcon))}}function Oh(t,i){if(t&1&&(a(0,"span",11),u(1),s()),t&2){let e=h(3);l(),k(e.badgesProfil[e.blockItem.code].valeur)}}function Dh(t,i){if(t&1){let e=L();a(0,"a",4),S("click",function(){D(e);let r=h(2);return F(r.setActif())}),E(1,wh,1,2,"i",5)(2,kh,1,3,"fa-icon",6),a(3,"span",7),u(4),s(),E(5,Oh,2,1,"span",8),s()}if(t&2){let e=h(2);va("item-actif",e.isActif),c("routerLink",e.blockItem.action.route)("queryParams",e.blockItem.action.queryParams),_e("aria-label",e.ariaLinkLabel(e.blockItem.code))("aria-current",e.isActif?"page":null),l(),c("ngIf",!e.blockItem.svgIcon),l(),c("ngIf",e.blockItem.svgIcon),l(2),k(e.blockItem.titre),l(),c("ngIf",e.shouldDisplayBadge(e.blockItem.code))}}function Fh(t,i){if(t&1&&g(0,"i",9),t&2){let e=h(4);qe(e.blockItem.leftIcon)}}function Rh(t,i){if(t&1&&g(0,"fa-icon",10),t&2){let e=h(4);c("icon",N(1,Sr,e.blockItem.leftIcon))}}function Nh(t,i){if(t&1&&(a(0,"a",13),E(1,Fh,1,2,"i",5)(2,Rh,1,3,"fa-icon",6),a(3,"span",7),u(4),s()()),t&2){let e=h(3);c("target",e.blockItem.action.links[0].target)("href",e.blockItem.action.links[0].url,ve)("needAuth",e.blockItem.action.links[0].needAuth)("queryParams",e.blockItem.action.links[0].queryParams),l(),c("ngIf",!e.blockItem.svgIcon),l(),c("ngIf",e.blockItem.svgIcon),l(2),k(e.blockItem.action.links[0].title)}}function Uh(t,i){if(t&1&&g(0,"i"),t&2){let e=h(4);qe(e.blockItem.leftIcon)}}function Lh(t,i){if(t&1&&g(0,"fa-icon",18),t&2){let e=h(4);c("icon",N(1,Sr,e.blockItem.leftIcon))}}function Bh(t,i){if(t&1&&(a(0,"a",20),g(1,"fa-icon",21),a(2,"span",7),u(3),s()()),t&2){let e=i.$implicit;c("target",e.target)("href",e.url,ve)("needAuth",e.needAuth)("queryParams",e.queryParams),l(),c("icon",K(6,Ih)),l(2),k(e.title)}}function Vh(t,i){if(t&1&&(le(0),E(1,Bh,4,7,"a",19),C(2,"trackByProperty"),ce()),t&2){let e=h(4);l(),c("ngForOf",e.blockItem.action.links)("ngForTrackBy",x(2,2,"url"))}}function jh(t,i){if(t&1){let e=L();a(0,"a",14),S("click",function(){D(e);let r=h(3);return F(r.toggleIsOpen())}),E(1,Uh,1,2,"i",15)(2,Lh,1,3,"fa-icon",16),a(3,"span",7),u(4),s(),g(5,"fa-icon",17),s(),E(6,Vh,3,4,"ng-container",2)}if(t&2){let e=h(3);l(),c("ngIf",!e.blockItem.svgIcon),l(),c("ngIf",e.blockItem.svgIcon),l(2),k(e.blockItem.titre),l(),c("ngClass",ft(6,Ah,!e.isOpen,e.isOpen))("icon",N(9,Sr,e.isOpen?"chevron-up":"chevron-right")),l(),c("ngIf",e.isOpen)}}function zh(t,i){if(t&1&&(le(0),E(1,Nh,5,7,"a",12)(2,jh,7,11,"ng-template",null,0,Te),ce()),t&2){let e=re(3),n=h(2);l(),c("ngIf",!n.isMultiple)("ngIfElse",e)}}function qh(t,i){if(t&1&&(le(0),E(1,Dh,6,10,"a",3)(2,zh,4,2,"ng-container",2),ce()),t&2){let e=h();l(),c("ngIf",e.blockItem.action==null?null:e.blockItem.action.route),l(),c("ngIf",(e.blockItem.action==null?null:e.blockItem.action.links.length)>0)}}var mc=(()=>{let i=class i extends Ie(){get isMultiple(){return this.blockItem.action.links.length>1}constructor(n,r,o,d,m,p,f,_){super(),this.authStore=n,this.cd=r,this.etablissementService=o,this.etablissementStore=d,this.loaderService=m,this.location=p,this.menuUserStore=f,this.router=_,this.isActif=!1,this.isOpen=!1}ngOnInit(){this.uniqueID=`${this.menuBlockUID}_${this.menuBlockItem.code}`,this.router.events.pipe(q(n=>{n instanceof ei&&Object.isExists(this.blockItem)&&(this.isActif=this.isActiveMenu(),this.cd.markForCheck())}),De(this._destroyRef)).subscribe(),this.menuBlockItem.callNiveauxListe&&we.isNotEmptyString(this.menuBlockItem.staticCall)?(this.loader=this.loaderService.show(this),this.etablissementService.getNiveauxListe().pipe(Yi(void 0),q(n=>{this.blockItem=is[this.menuBlockItem.staticCall](this.menuBlockItem,V.getModuleParams(this.menuBlockItem.code,this.authStore.currentUser),!0,this.etablissementStore.snapshot.etablissements),this.isActif=this.isActiveMenu(),this.cd.markForCheck()}),ie(n=>ze),ge(()=>this.loaderService.hide(this))).subscribe()):(this.blockItem=this.menuBlockItem,this.isActif=this.isActiveMenu()),this.menuUserStore.select$().pipe(q(n=>{Object.isExists(n.selectedMenuId)&&(this.isActif=this.isOpen=n.selectedMenuId===this.uniqueID,this.cd.markForCheck())}),De(this._destroyRef)).subscribe()}shouldDisplayBadge(n){return Object.isExists(this.badgesProfil)&&Object.isExists(this.badgesProfil[n])&&this.badgesProfil[n].valeur>0}isActiveMenu(){let n=this.location.path();if(!Object.isExists(this.blockItem.action.route))return!1;let r=["/","/Accueil","/Famille","/Eleve","/Personnel","/Enseignant"];return r.indexOf(this.blockItem.action.route)>-1?r.indexOf(n)>-1:n===this.blockItem.action.route||n.startsWith(this.blockItem.action.route+"/")}toggleIsOpen(){this.isOpen=!this.isOpen,this.isOpen&&this.setActif()}setActif(){this.menuUserStore.updateSelectedMenu(this.uniqueID);let n=document.activeElement,r=document.querySelector(".btn-link");n&&r&&(n.blur(),r.focus())}ariaLinkLabel(n){if(this.shouldDisplayBadge(n)){if(this.badgesProfil[n].valeur>1)return`${this.blockItem.titre} (${this.badgesProfil[n].valeur} \xE9l\xE9ments non lus)`;if(this.badgesProfil[n].valeur===1)return`${this.blockItem.titre} (1 \xE9l\xE9ment non lu)`}return this.blockItem.titre}};i.\u0275fac=function(r){return new(r||i)(v(M),v(Fi),v(ri),v(os),v(Re),v(An),v(Cr),v(Q))},i.\u0275cmp=w({type:i,selectors:[["ed-menu-block-item"]],inputs:{menuBlockItem:"menuBlockItem",badgesProfil:"badgesProfil",menuBlockUID:"menuBlockUID"},standalone:!1,features:[Oe],decls:2,vars:2,consts:[["multipleMenus",""],[3,"cgBusy"],[4,"ngIf"],[3,"routerLink","queryParams","item-actif","click",4,"ngIf"],[3,"click","routerLink","queryParams"],["aria-hidden","true",3,"class",4,"ngIf"],["aria-hidden","true",3,"icon",4,"ngIf"],[1,"item-name"],["class","badge alert-danger ed-menu-badge",4,"ngIf"],["aria-hidden","true"],["aria-hidden","true",3,"icon"],[1,"badge","alert-danger","ed-menu-badge"],["class","connecteur-externe","edGoToService","",3,"target","href","needAuth","queryParams",4,"ngIf","ngIfElse"],["edGoToService","",1,"connecteur-externe",3,"target","href","needAuth","queryParams"],["href","",3,"click"],[3,"class",4,"ngIf"],[3,"icon",4,"ngIf"],["aria-hidden","true",3,"ngClass","icon"],[3,"icon"],["class","external","edGoToService","",3,"target","href","needAuth","queryParams",4,"ngFor","ngForOf","ngForTrackBy"],["edGoToService","",1,"external",3,"target","href","needAuth","queryParams"],["aria-hidden","true",1,"faExternalLink",3,"icon"]],template:function(r,o){r&1&&(a(0,"div",1),E(1,qh,3,2,"ng-container",2),s()),r&2&&(c("cgBusy",o.loader),l(),c("ngIf",o.blockItem))},dependencies:[oe,Ee,G,ae,pe,se,Vs,be],styles:[`ed-menu-block-item>div{min-height:30px}ed-menu-block-item .ng-busy-default-wrapper{transform:scale(.5)}ed-menu-block-item .ng-busy-default-wrapper>.ng-busy-default-sign>.ng-busy-default-spinner>div{background-color:#fff!important}ed-menu-block-item .ng-busy-backdrop{opacity:0}ed-menu-block-item .faExternalLink,ed-menu-block-item .faChevronRight,ed-menu-block-item .faChevronUp{font-size:.5em}ed-menu-block-item a.external{left:70px}ed-menu-block-item a.external span.item-name{left:20px!important;top:25px}ed-menu-block-item a.external i{width:15px}ed-menu-block-item a:not([href]):not([class]),ed-menu-block-item a:not([href]):not([class]):hover{color:#fff}
`],encapsulation:2,changeDetection:0});let t=i;return t})();var Gh=(t,i,e,n,r,o,d)=>({"mt-neg-3":!0,"ed-menu-parent":t,"ed-menu-entreprise":i,"ed-menu-eleve":e,"ed-menu-eleve-seul":n,"ed-menu-prof":r,"ed-menu-classe":o,"ed-menu-prof-eleve":d}),$h=t=>({active:t}),Kh=t=>({"menu-active":t}),wo=()=>[25,"..."];function Qh(t,i){t&1&&(a(0,"div",12)(1,"span",13),u(2,"Mon espace famille"),s()())}function Wh(t,i){t&1&&(a(0,"div",14)(1,"span",13),u(2,"Mon espace entreprise"),s()())}function Jh(t,i){if(t&1&&(a(0,"div",15)(1,"span",13),u(2),s()()),t&2){let e=h();jt("background-image","url("+e.authStore.currentUser.profile.photo+")"),l(2),H("Mon espace ",e.authStore.currentUser.profile.estApprenant?"apprenant":"\xE9l\xE8ve","")}}function Xh(t,i){if(t&1&&(a(0,"div",19)(1,"span",20),u(2),s()()),t&2){let e=h(2);l(2),k(e.badges.calculTotalBadgesUser(e.menuBlock.id,e.menuBlock.type))}}function Yh(t,i){if(t&1&&(a(0,"div",16),E(1,Xh,3,1,"div",17),a(2,"div",18)(3,"p"),u(4),C(5,"truncate"),s()()()),t&2){let e=h();jt("background-image","url("+e.menuBlock.picture+")"),zt("title",e.menuBlock.titre),l(),c("ngIf",e.menuBlock.type==="famille-eleve"&&!e.menuBlock.isOpen&&e.badges.calculTotalBadgesUser(e.menuBlock.id,e.menuBlock.type)!==""),l(3),k(me(5,5,e.menuBlock.titre,K(8,wo)))}}function Zh(t,i){if(t&1&&(a(0,"div",24)(1,"span",20),u(2),s()()),t&2){let e=h(2);l(2),k(e.badges.calculTotalBadgesUser(e.menuBlock.id,e.menuBlock.type))}}function ef(t,i){if(t&1&&(a(0,"div",21)(1,"span",22),u(2),s(),E(3,Zh,3,1,"div",23),a(4,"div",18)(5,"p"),u(6),C(7,"truncate"),s()()()),t&2){let e=h();zt("title",e.menuBlock.titre),l(2),k(e.menuBlock.titre),l(),c("ngIf",e.menuBlock.type==="famille-eleve"&&!e.menuBlock.isOpen&&e.badges.calculTotalBadgesUser(e.menuBlock.id,e.menuBlock.type)!==""),l(3),k(me(7,4,e.menuBlock.titre,K(7,wo)))}}function tf(t,i){t&1&&g(0,"div",25)}function nf(t,i){if(t&1&&(a(0,"div",26),g(1,"div",27),a(2,"span",28)(3,"span"),u(4),C(5,"truncate"),s()()()),t&2){let e=h();zt("title",e.menuBlock.titre),l(4),k(me(5,2,e.menuBlock.titre,K(5,wo)))}}function rf(t,i){t&1&&g(0,"div",25)}function of(t,i){if(t&1&&(a(0,"li"),g(1,"ed-menu-block-item",29),s()),t&2){let e=i.$implicit,n=h();l(),c("menuBlockItem",e)("badgesProfil",n.badges[n.menuBlock.id+""+n.menuBlock.type])("menuBlockUID",n.menuBlock.type+"_"+n.menuBlock.id)}}var xr=(()=>{let i=class i extends Ie(){constructor(n,r,o){super(),this.authStore=n,this.badgesStore=r,this.cd=o,this.menuOpen=new bi,this.menuProfilsUser=Si,this.badges=new Ya}ngOnInit(){this.badgesStore.select$().pipe(q(r=>{this.badges=r,this.cd.markForCheck()}),De(this._destroyRef)).subscribe();let n=this.badges.calculTotalBadgesUser(this.menuBlock.id,this.menuBlock.type);n==="1"?this.linkLabel=this.menuBlock.titre+" ("+n+" \xE9l\xE9ment non lu)":n==="0"||!n?this.linkLabel="Aucun \xE9l\xE9ment non lu":this.linkLabel=this.menuBlock.titre+" ("+n+" \xE9l\xE9ments non lus)"}handleClickMenu(n=!1){this.menuOpen.emit(this.menuBlock),n?this.menuBlock.isOpen=!0:this.menuBlock.isOpen=!this.menuBlock.isOpen}closeMenu(){this.menuBlock.isOpen=!1,this.cd.markForCheck()}};i.\u0275fac=function(r){return new(r||i)(v(M),v(ns),v(Fi))},i.\u0275cmp=w({type:i,selectors:[["ed-menu"]],inputs:{menuBlock:"menuBlock"},outputs:{menuOpen:"menuOpen"},standalone:!1,features:[Oe],decls:15,vars:34,consts:[[1,"ed-menu",3,"ngClass"],["role","button","tabindex","0",1,"ed-menu-image-wrapper",3,"click","keydown.enter"],["id","menu-famille","tabindex","0",4,"ngIf"],["id","menu-entreprise","tabindex","0",4,"ngIf"],["class","profile","tabindex","0",3,"backgroundImage",4,"ngIf"],["class","circular text-center rond-menu-eleve",3,"title","backgroundImage",4,"ngIf"],["class","circular rond-menu-eleve no-photo",3,"title",4,"ngIf"],["class","circular",4,"ngIf"],["class","circular",3,"title",4,"ngIf"],[1,"ed-menu-list-wrapper",3,"hidden","ngClass"],[1,"dn-ease","ed-menu-list",3,"id"],[4,"ngFor","ngForOf","ngForTrackBy"],["id","menu-famille","tabindex","0"],[1,"screen-reader"],["id","menu-entreprise","tabindex","0"],["tabindex","0",1,"profile"],[1,"circular","text-center","rond-menu-eleve",3,"title"],["class","all-badge",4,"ngIf"],["tabindex","0",1,"overlay"],[1,"all-badge"],[1,"badge","alert-danger","ed-menu-badge"],[1,"circular","rond-menu-eleve","no-photo",3,"title"],[1,"prenom-placeholder","prenom-eleve","sr-only"],["class","float-end all-badge",4,"ngIf"],[1,"float-end","all-badge"],[1,"circular"],[1,"circular",3,"title"],[1,"picto-classe-groupe"],[1,"libelle"],[3,"menuBlockItem","badgesProfil","menuBlockUID"]],template:function(r,o){r&1&&(a(0,"ul")(1,"li",0)(2,"a",1),S("click",function(){return o.handleClickMenu(!1)})("keydown.enter",function(){return o.handleClickMenu(!1)}),E(3,Qh,3,0,"div",2)(4,Wh,3,0,"div",3)(5,Jh,3,3,"div",4)(6,Yh,6,9,"div",5)(7,ef,8,8,"div",6)(8,tf,1,0,"div",7)(9,nf,6,6,"div",8)(10,rf,1,0,"div",7),s(),a(11,"div",9)(12,"ul",10),E(13,of,2,3,"li",11),C(14,"trackByProperty"),s()()()()),r&2&&(qe(ba(22,Gh,o.menuBlock.type===o.menuProfilsUser[1]||o.menuBlock.type===o.menuProfilsUser[2]||o.menuBlock.type===o.menuProfilsUser.T,o.menuBlock.type===o.menuProfilsUser.T,o.menuBlock.type===o.menuProfilsUser.FE||o.menuBlock.type===o.menuProfilsUser.TE,o.menuBlock.type===o.menuProfilsUser.E,o.menuBlock.type===o.menuProfilsUser.P||o.menuBlock.type===o.menuProfilsUser.A,o.menuBlock.type===o.menuProfilsUser.C||o.menuBlock.type===o.menuProfilsUser.G,o.menuBlock.type===o.menuProfilsUser.PE||o.menuBlock.type===o.menuProfilsUser.AE)),l(),c("ngClass",N(30,$h,o.menuBlock.isOpen)),l(),_e("aria-label",o.linkLabel)("aria-expanded",o.menuBlock.isOpen?"true":"false")("aria-controls","menuId-"+o.menuBlock.id),l(),c("ngIf",o.menuBlock.type===o.menuProfilsUser[1]||o.menuBlock.type===o.menuProfilsUser[2]),l(),c("ngIf",o.menuBlock.type===o.menuProfilsUser.T),l(),c("ngIf",o.menuBlock.type===o.menuProfilsUser.E&&o.authStore.currentUser.profile.photo!==""),l(),c("ngIf",(o.menuBlock.type==="famille-eleve"||o.menuBlock.type==="personnel-eleve"||o.menuBlock.type==="prof-eleve"||o.menuBlock.type==="entreprise-eleve")&&o.menuBlock.picture!==""),l(),c("ngIf",(o.menuBlock.type==="famille-eleve"||o.menuBlock.type==="personnel-eleve"||o.menuBlock.type==="prof-eleve"||o.menuBlock.type==="entreprise-eleve")&&o.menuBlock.picture===""),l(),c("ngIf",o.menuBlock.type===o.menuProfilsUser.A),l(),c("ngIf",o.menuBlock.type==="classe"||o.menuBlock.type==="groupe"),l(),c("ngIf",o.menuBlock.type===o.menuProfilsUser.P),l(),c("hidden",!o.menuBlock.isOpen)("ngClass",N(32,Kh,o.menuBlock.isOpen)),l(),it("id","menuId-",o.menuBlock.id,""),l(),c("ngForOf",o.menuBlock.items)("ngForTrackBy",x(14,20,"$index")))},dependencies:[oe,Ee,G,mc,za,be],styles:[`.menu-bar{text-align:center}.ed-menu{margin:0 -50px;min-height:100px;border-bottom:5px solid var(--light-placeholder-color);border-radius:0 0 200px 200px;background:linear-gradient(to bottom,var(--dark-primary-color),var(--light-primary-color));box-shadow:0 2px 5px #0000004d;overflow:hidden;transition:all .5s}.ed-menu .profile{background:no-repeat center center/100% #fff}.ed-menu .rond-menu-eleve:not(.no-photo){background:no-repeat center center #f3f5f8}.ed-menu .rond-menu-eleve.no-photo{background-color:#fff}.ed-menu .rond-menu-eleve.no-photo .overlay{color:var(--dark-primary-color);opacity:1;background-color:#fff}.ed-menu .rond-menu-eleve.no-photo .overlay:focus{background:#0d4f9380;color:#fff}.ed-menu:not(.active) .ed-menu-image-wrapper>div:before{content:"+";position:absolute;top:80%;left:80%;z-index:2;transform:translate(-50%);width:50px;height:40px;background:var(--light-placeholder-color);border-radius:100%;font-size:19px;font-weight:700;line-height:.9}.ed-menu-prof{display:block;position:relative;z-index:100}.ed-menu-prof .ed-menu:not(.active){margin-top:-80px;background:none}.ed-menu-prof .ed-menu:not(.active) .ed-menu-image-wrapper>div:after{content:"";position:absolute;top:70%;right:0;left:0;width:100%;height:50px;background:var(--dark-primary-color)}.ed-menu-prof .active .ed-menu-image-wrapper{display:none}.ed-menu-parent{display:block;position:relative;z-index:100}.ed-menu-parent .ed-menu:not(.active){margin-top:-80px;background:none}.ed-menu-parent .ed-menu:not(.active) .ed-menu-image-wrapper>div:after{content:"";position:absolute;top:70%;right:0;left:0;width:100%;height:50px;background:var(--dark-primary-color)}.ed-menu-parent .active .ed-menu-image-wrapper{display:none}.ed-menu-classe{position:relative;z-index:20;display:block;margin-top:-15px!important}.ed-menu-classe .ed-menu-image-wrapper>div>div.picto-classe-groupe{min-height:100px;background-image:url("./media/classroom-HPOPQUUH.png");background-repeat:no-repeat;background-position-x:center;background-position-y:center;background-color:#fff}.ed-menu-classe .ed-menu-image-wrapper>div>span{background:#fff;width:100%;display:block;height:55px;margin-top:-30px;color:var(--dark-primary-color)}.ed-menu-classe .ed-menu-image-wrapper>div span.libelle:first-letter{text-transform:uppercase}.ed-menu-classe .ed-menu.active .ed-menu-image-wrapper>div>div.picto-classe-groupe{background-color:#0d66ab;background-image:url("./media/classroom-white-IPW3DGUS.png")}.ed-menu-classe .ed-menu.active .ed-menu-image-wrapper>div>span{color:#fff;background:#0e589e;width:100%;display:block;margin-top:-23px;opacity:.9}.ed-menu-classe .ed-menu.active .ed-menu-image-wrapper>div span.libelle span{font-weight:700}.ed-menu-classe a:hover{text-decoration:none}.ed-menu-classe .active .ed-menu-image-wrapper>div:before{content:"";position:absolute;inset:0;display:flex;background:-webkit-linear-gradient(rgba(13,79,147,0),rgb(13,79,147));background:linear-gradient(#0d4f9300,#0d4f93);opacity:.9;text-align:center;color:#fff}.ed-menu-eleve{position:relative;z-index:20;display:block;margin-top:-15px!important}.ed-menu-eleve .active .ed-menu-image-wrapper{position:relative}.ed-menu-prof-eleve{position:relative;z-index:19;display:block;margin-top:-15px!important}.ed-menu-eleve-seul .active .ed-menu-image-wrapper{position:relative}.ed-menu-eleve-seul .active .ed-menu-image-wrapper div:before{content:"";position:absolute;inset:0;background:-webkit-linear-gradient(rgba(13,79,147,0),rgb(13,79,147));background:linear-gradient(#0d4f9300,#0d4f93)}.ed-menu-image-wrapper>div{position:relative;margin:0 50px;min-height:100px}.ed-menu-image-wrapper:focus>div,.ed-menu-image-wrapper:focus-visible>div,.ed-menu-image-wrapper:focus-within>div{border:2px solid white!important}.ed-menu-image-wrapper .menu{min-height:0!important}.rond-menu-eleve{background-size:110px auto!important}.overlay{position:absolute;inset:0;display:flex;background:#0d4f9380;text-align:center;color:#fff;opacity:0;transition:all .5s}.overlay:hover,.overlay:focus{opacity:1}.overlay p{margin:30px auto}.active .overlay{background:-webkit-linear-gradient(rgba(13,79,147,0),rgb(13,79,147));background:linear-gradient(#0d4f9300,#0d4f93);opacity:1}.ed-menu.active .rond-menu-eleve.no-photo .overlay{color:#fff;font-weight:700}.ed-menu-list-wrapper{margin:0 50px 20px}.ed-menu-list-wrapper li{position:relative;padding:3px 0;text-align:left}.ed-menu-list-wrapper li a.item-actif{background-color:#fff;color:var(--dark-primary-color);margin-left:10px;border-radius:10px 0 0 10px}.ed-menu-list-wrapper li a.item-actif i,.ed-menu-list-wrapper li a.item-actif fa-icon{opacity:1;width:90px}.ed-menu-list-wrapper li a.item-actif .ed-menu-badge{left:50px}.ed-menu-list-wrapper li a.item-actif:hover,.ed-menu-list-wrapper li a.item-actif:focus{text-decoration:none}.ed-menu-list-wrapper li a.item-actif:hover i,.ed-menu-list-wrapper li a.item-actif:hover fa-icon,.ed-menu-list-wrapper li a.item-actif:focus i,.ed-menu-list-wrapper li a.item-actif:focus fa-icon{opacity:1}.ed-menu-list-wrapper li a.item-actif:hover:before,.ed-menu-list-wrapper li a.item-actif:focus:before{content:"";position:absolute;top:10px;right:10px;bottom:5px;width:5px;background:var(--dark-primary-color)}.ed-menu-list-wrapper li a{position:relative;display:inline-block;width:100%;color:#fff;font-size:30px}.ed-menu-list-wrapper li a:hover,.ed-menu-list-wrapper li a:focus{text-decoration:none}.ed-menu-list-wrapper li a:hover i,.ed-menu-list-wrapper li a:hover fa-icon,.ed-menu-list-wrapper li a:focus i,.ed-menu-list-wrapper li a:focus fa-icon{opacity:1}.ed-menu-list-wrapper li a:hover:before,.ed-menu-list-wrapper li a:focus:before{content:"";position:absolute;top:10px;right:0;bottom:5px;width:5px;background:#fff}.ed-menu-list-wrapper li a fa-icon{font-size:24px}.ed-menu-list-wrapper li a i,.ed-menu-list-wrapper li a fa-icon{display:inline-block;width:110px;text-align:center;opacity:.9;transition:all .5s}.ed-menu-list-wrapper li a span.item-name{position:absolute;top:50%;left:150px;transform:translateY(-50%);width:100px;font-size:.4em;opacity:0;transition:all .5s;cursor:pointer}.ed-menu-list-wrapper li a i[class*=fa-chevron]{width:10px;position:absolute;right:-40px;top:11px}.all-badge{position:absolute;bottom:25px;z-index:3}.ed-menu-badge{position:absolute;top:0;left:60px;padding:5px;background:var(--secondary-color);color:#fff;font-size:11px;transition:all .5s}
`],encapsulation:2,changeDetection:0});let t=i;return t})();var sf=["menuElement"],lf=()=>["id","type"];function cf(t,i){if(t&1){let e=L();a(0,"ed-menu",5),S("menuOpen",function(r){D(e);let o=h(2);return F(o.onMenuOpen(r))}),s()}if(t&2){let e=i.$implicit;c("menuBlock",e)}}function df(t,i){if(t&1&&(a(0,"nav",2,0)(2,"p",3),u(3),s(),E(4,cf,1,1,"ed-menu",4),C(5,"trackByProperty"),s()),t&2){let e=i.ngIf;l(3),k(e.header.espace),l(),c("ngForOf",e.entries)("ngForTrackBy",x(5,3,K(5,lf)))}}var pc=(()=>{let i=class i extends Ie(){constructor(n,r){super(),this.menuStore=n,this.renderer=r,this.isMouseOverMenu=!1,this.isFocusInMenu=!1}ngOnInit(){this.menu$=this.menuStore.select$().pipe(Ke(n=>new zn(n)))}onMenuOpen(n){this.menus.forEach(r=>{(r.menuBlock.id!==n.id||r.menuBlock.type!==n.type)&&r.closeMenu()})}ngAfterViewInit(){this.menuElement&&(this.renderer.listen(this.menuElement.nativeElement,"mouseenter",()=>{this.isMouseOverMenu=!0}),this.renderer.listen(this.menuElement.nativeElement,"mouseleave",()=>{this.isMouseOverMenu=!1}));for(let n of this.menuElement.nativeElement.querySelectorAll("a"))this.renderer.listen(n,"focus",()=>{this.isFocusInMenu=!0}),this.renderer.listen(n,"blur",()=>{this.isFocusInMenu=!1})}onKeydownHandler(){this.isMouseOverMenu?this.removeHoverFromMenu():this.isFocusInMenu&&ji.focusMain()}removeHoverFromMenu(){this.menuElement&&(this.renderer.setStyle(this.menuElement.nativeElement,"pointer-events","none"),setTimeout(()=>{this.renderer.removeStyle(this.menuElement.nativeElement,"pointer-events")},1e3))}};i.\u0275fac=function(r){return new(r||i)(v(oi),v(Tn))},i.\u0275cmp=w({type:i,selectors:[["ed-menu-container"]],viewQuery:function(r,o){if(r&1&&(qt(sf,5),qt(xr,5)),r&2){let d;Ht(d=Gt())&&(o.menuElement=d.first),Ht(d=Gt())&&(o.menus=d)}},hostBindings:function(r,o){r&1&&S("keydown.escape",function(m){return o.onKeydownHandler(m)},!1,pa)},standalone:!1,features:[Oe],decls:2,vars:3,consts:[["menuElement",""],["id","container-menu","role","navigation",4,"ngIf"],["id","container-menu","role","navigation"],[1,"ed-espace-title","text-bold"],[3,"menuBlock","menuOpen",4,"ngFor","ngForOf","ngForTrackBy"],[3,"menuOpen","menuBlock"]],template:function(r,o){r&1&&(E(0,df,6,6,"nav",1),C(1,"async")),r&2&&c("ngIf",x(1,1,o.menu$))},dependencies:[Ee,G,xr,Je,be],styles:[`#container-menu{position:absolute;top:0;z-index:3000;width:110px;min-height:100%;background:-webkit-linear-gradient(var(--dark-primary-color) 0%,var(--light-primary-color) 100%);background:linear-gradient(var(--dark-primary-color) 0%,var(--light-primary-color) 100%);overflow:hidden;text-align:center;transition:all .5s}#container-menu a.external{display:none}#container-menu:hover,#container-menu:focus-within{width:220px;box-shadow:0 0 10px #000c}#container-menu:hover a.external,#container-menu:focus-within a.external{display:block}#container-menu:hover .ed-menu,#container-menu:focus-within .ed-menu{border-radius:0 0 105px 105px}#container-menu:hover .ed-menu-list-wrapper li a span.item-name,#container-menu:focus-within .ed-menu-list-wrapper li a span.item-name{left:90px;opacity:1}#container-menu:hover .ed-menu-list-wrapper li a i[class*=fa-chevron],#container-menu:focus-within .ed-menu-list-wrapper li a i[class*=fa-chevron]{opacity:1;right:15px}#container-menu:hover .ed-menu-list-wrapper li a.item-actif span.item-name,#container-menu:focus-within .ed-menu-list-wrapper li a.item-actif span.item-name{opacity:1}#container-menu:hover .ed-menu-list-wrapper li a.item-actif i[class*=fa-chevron],#container-menu:focus-within .ed-menu-list-wrapper li a.item-actif i[class*=fa-chevron]{opacity:1}#container-menu:hover .ed-menu-list-wrapper li a:hover span.item-name,#container-menu:focus-within .ed-menu-list-wrapper li a:hover span.item-name{opacity:1}#container-menu:hover .ed-menu-list-wrapper li a:hover i[class*=fa-chevron],#container-menu:focus-within .ed-menu-list-wrapper li a:hover i[class*=fa-chevron]{opacity:1}#container-menu:hover .ed-menu-list-wrapper li a:focus span.item-name,#container-menu:focus-within .ed-menu-list-wrapper li a:focus span.item-name{opacity:1}#container-menu:hover .ed-menu-list-wrapper li a:focus i[class*=fa-chevron],#container-menu:focus-within .ed-menu-list-wrapper li a:focus i[class*=fa-chevron]{opacity:1}#container-menu:hover .all-badge .ed-menu-badge,#container-menu:focus-within .all-badge .ed-menu-badge{left:135px}#container-menu ed-menu:nth-child(1) .ed-menu-eleve{z-index:20}#container-menu ed-menu:nth-child(2) .ed-menu-eleve{z-index:19}#container-menu ed-menu:nth-child(3) .ed-menu-eleve{z-index:18}#container-menu ed-menu:nth-child(4) .ed-menu-eleve{z-index:17}#container-menu ed-menu:nth-child(5) .ed-menu-eleve{z-index:16}#container-menu ed-menu:nth-child(6) .ed-menu-eleve{z-index:15}#container-menu ed-menu:nth-child(7) .ed-menu-eleve{z-index:14}#container-menu ed-menu:nth-child(8) .ed-menu-eleve{z-index:13}#container-menu ed-menu:nth-child(9) .ed-menu-eleve{z-index:12}#container-menu ed-menu:nth-child(10) .ed-menu-eleve{z-index:11}#container-menu ed-menu:nth-child(11) .ed-menu-eleve{z-index:10}#container-menu ed-menu:nth-child(12) .ed-menu-eleve{z-index:9}#container-menu ed-menu:nth-child(13) .ed-menu-eleve{z-index:8}#container-menu ed-menu:nth-child(14) .ed-menu-eleve{z-index:7}#container-menu ed-menu:nth-child(15) .ed-menu-eleve{z-index:6}#container-menu ed-menu:nth-child(16) .ed-menu-eleve{z-index:5}#container-menu ed-menu:nth-child(17) .ed-menu-eleve{z-index:4}#container-menu ed-menu:nth-child(18) .ed-menu-eleve{z-index:3}#container-menu ed-menu:nth-child(19) .ed-menu-eleve{z-index:2}#container-menu ed-menu:nth-child(20) .ed-menu-eleve{z-index:1}#container-menu .ed-espace-title{position:relative;z-index:99;display:block;margin:13px auto;max-width:110px;color:#fff;text-transform:uppercase;font-size:var(--font-size-default);line-height:1}
`],encapsulation:2,changeDetection:0});let t=i;return t})();var mf=t=>({"bg-transparent":t}),pf=t=>({invisible:t}),hc=()=>["fas","up-right-from-square"];function hf(t,i){if(t&1){let e=L();a(0,"button",16),S("click",function(){D(e);let r=h(3);return F(r.switchProfil())}),g(1,"fa-icon",17),u(2),s()}if(t&2){let e=h(3);c("ngClass",e.profilsCSS.text),l(),c("icon",K(3,hc)),l(),H(" ",e.authStore.isPersonnel()?"Personnel":"Enseignant"," : Changer de profil ")}}function ff(t,i){if(t&1&&(a(0,"button",18),g(1,"fa-icon",17),u(2),s()),t&2){let e=h(3);c("ngClass",e.profilsCSS.text),l(),c("icon",K(3,hc)),l(),H(" ",e.authStore.isPersonnel()?"Personnel":"Enseignant"," : Changer de profil ")}}function gf(t,i){if(t&1&&(a(0,"li",11),E(1,hf,3,4,"button",14)(2,ff,3,4,"button",15),s()),t&2){let e=h(2);l(),c("ngIf",!e.authStore.isModeSupervision()&&!e.authStore.isEphemere()),l(),c("ngIf",e.authStore.isModeSupervision()||e.authStore.isEphemere())}}function vf(t,i){if(t&1&&(a(0,"a",23),g(1,"i",24),a(2,"span",25),u(3,"Votre panier"),s(),a(4,"span",26),u(5),s()()),t&2){let e=h(2).ngIf;_e("aria-label","Voter panier ("+e.listePaiementPanier.length+" \xE9l\xE9ment(s) s\xE9lectionn\xE9(s))"),l(5),k(e.listePaiementPanier.length)}}function _f(t,i){if(t&1&&(a(0,"a",27),g(1,"i",24),a(2,"span",25),u(3,"Votre panier"),s(),a(4,"span",26),u(5),s()()),t&2){let e=h(2).ngIf;_e("aria-label","Voter panier ("+e.listePaiementPanier.length+" \xE9l\xE9ment(s) s\xE9lectionn\xE9(s))"),l(5),k(e.listePaiementPanier.length)}}function Ef(t,i){if(t&1&&(a(0,"li",20),E(1,vf,6,2,"a",21)(2,_f,6,2,"a",22),s()),t&2){let e=h(3);l(),c("ngIf",e.authStore.isProfOuPersonnel()),l(),c("ngIf",e.authStore.isFamille())}}function yf(t,i){if(t&1&&(le(0),E(1,Ef,3,2,"li",19),ce()),t&2){let e=i.ngIf;l(),c("ngIf",e.listePaiementPanier.length>0)}}function bf(t,i){if(t&1){let e=L();a(0,"li",11)(1,"button",28),S("click",function(){D(e);let r=h(2);return F(r.accountSelector())}),g(2,"i",29),u(3," Changer de compte "),s()()}if(t&2){let e=h(2);l(),c("ngClass",e.profilsCSS.text)}}function Cf(t,i){if(t&1){let e=L();a(0,"div",1)(1,"div",2)(2,"div",3)(3,"p",4),u(4),s(),a(5,"ul",5),E(6,gf,3,2,"li",6)(7,yf,2,1,"ng-container",7),C(8,"async"),a(9,"li",8)(10,"a",9),C(11,"displayNom"),g(12,"i",10),u(13),C(14,"displayNom"),s()(),E(15,bf,4,1,"li",6),C(16,"async"),a(17,"li",11)(18,"button",12),S("click",function(){D(e);let r=h();return F(r.accountService.logout())}),g(19,"i",13),s()()()()()()}if(t&2){let e,n=i.ngIf,r=h();l(),c("ngClass",N(19,mf,r.isHome)),l(2),c("ngClass",N(21,pf,r.isHome)),l(),k(n.nomEtablissement),l(2),c("ngIf",r.authStore.isProfEtPersonnel()&&!r.authStore.currentUser.isLoggedInFromOAuth),l(),c("ngIf",x(8,11,r.panier$)),l(3),c("ngClass",r.profilsCSS.text)("title","Acc\xE9der aux information du compte utilisateur de "+x(11,13,n)+r.getTooltipInfosConnexion()),l(2),qe(r.profilsCSS.icon),l(),H(" ",x(14,15,n)," "),l(2),c("ngIf",!r.authStore.currentUser.isLoggedInFromOAuth&&((e=x(16,17,r.authStore.linkingUsers$))==null?null:e.length)>0)}}var fc=(()=>{let i=class i extends Ie(){get lastConnexion(){if(!Object.isExists(this.authStore.currentUser.lastConnexion))return"";let n=this.authStore.currentUser.lastConnexion.split(" ");return n[0].split("-").reverse().join("-")+" "+n[1]}constructor(n,r,o,d,m){super(),this.authStore=n,this.paiementStore=r,this.accountService=o,this.modalService=d,this.document=m,this.profilsCSS={icon:"",text:""}}ngOnInit(){this.switchCSS(),this.panier$=this.authStore.currentUser$.pipe(We(n=>this.paiementStore.selectPanier(this.authStore.variantForCurrentUser)))}switchProfil(){if(this.authStore.currentUser.isLoggedInFromOAuth)return;let n={id:this.modalService.getModalsCount()+1};this.modalService.show(js,n),this.modalService.onHide.pipe(ke(1),q(r=>this.switchCSS())).subscribe()}accountSelector(){if(this.authStore.currentUser.isLoggedInFromOAuth)return;let n={id:this.modalService.getModalsCount()+1};this.modalService.show(zs,n),this.modalService.onHide.pipe(ke(1),q(r=>this.switchCSS())).subscribe()}switchCSS(){var r;this.authStore.currentUser.isModeAccessibiliteVisuelle?this.document.body.classList.add("visuel-malvoyant"):this.document.body.classList.contains("visuel-malvoyant")&&this.document.body.classList.remove("visuel-malvoyant");let n=we.getIconTypePersonne((r=this.authStore.currentUser)==null?void 0:r.typeCompte);this.profilsCSS={icon:`icon-ed_${n}`,text:`text-${n}`}}getTooltipInfosConnexion(){return`. Date de derni\xE8re connexion le ${this.lastConnexion}`}};i.\u0275fac=function(r){return new(r||i)(v(M),v(ms),v(Ft),v(Fe),v($t))},i.\u0275cmp=w({type:i,selectors:[["ed-header"]],inputs:{isHome:"isHome"},standalone:!1,features:[Oe],decls:2,vars:3,consts:[["class","d-print-none","id","header-commun",4,"ngIf"],["id","header-commun",1,"d-print-none"],[1,"navbar","navbar-expand-lg","navbar-light","double-padding",3,"ngClass"],[1,"container-fluid"],[1,"text-bold",3,"ngClass"],[1,"navbar-nav","ms-auto"],["class","nav-item",4,"ngIf"],[4,"ngIf"],["id","item-compteUtilisateur",1,"nav-item"],["id","user-account-link","routerLink","/utilisateur",1,"nav-link","account",3,"ngClass","title"],["aria-hidden","true"],[1,"nav-item"],["type","button","title","Se d\xE9connecter","aria-label","Se d\xE9connecter",1,"nav-link","btn","border","border-0","logout",3,"click"],["aria-hidden","true",1,"icon-ed_deconnexion"],["class","nav-link btn border border-0","type","button",3,"ngClass","click",4,"ngIf"],["class","nav-link btn border border-0","title","Non disponible en mode supervision","type","button",3,"ngClass",4,"ngIf"],["type","button",1,"nav-link","btn","border","border-0",3,"click","ngClass"],["aria-hidden","true",1,"header-link",3,"icon"],["title","Non disponible en mode supervision","type","button",1,"nav-link","btn","border","border-0",3,"ngClass"],["class","nav-item animation-header panier",4,"ngIf"],[1,"nav-item","animation-header","panier"],["class","nav-link btn btn-danger","routerLink","/Paiements",4,"ngIf"],["class","nav-link btn btn-danger panier","routerLink","/Paiements",4,"ngIf"],["routerLink","/Paiements",1,"nav-link","btn","btn-danger"],["aria-hidden","true",1,"icon-ed_panier"],[1,"margin-whitespace"],[1,"badge-panier"],["routerLink","/Paiements",1,"nav-link","btn","btn-danger","panier"],["type","button",1,"nav-link","btn","border","border-0","changeAccount","account",3,"click","ngClass"],["aria-hidden","true",1,"icon-ed_change"]],template:function(r,o){r&1&&(E(0,Cf,20,23,"div",0),C(1,"async")),r&2&&c("ngIf",x(1,1,o.authStore.currentUser$))},dependencies:[oe,G,ae,pe,Je,Li],styles:["#header-commun[_ngcontent-%COMP%]   [class^=icon-][_ngcontent-%COMP%]{font-size:19px;line-height:.8;vertical-align:bottom}#header-commun[_ngcontent-%COMP%]   .header-link[_ngcontent-%COMP%]{font-size:14px}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin:0;background:linear-gradient(var(--dark-primary-color) 0%,#0e488e 100%);border-radius:0;min-height:30px;color:#fff}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{padding:5px 0}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]:before{display:none}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]:after{display:none}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:0 0 0 5px}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], #header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 8px 5px;background:#fff;border-radius:50px;box-shadow:0 0 5px #0003;color:var(--light-primary-color);font-weight:700;font-size:11px;line-height:1.5}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a.logout[_ngcontent-%COMP%], #header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button.logout[_ngcontent-%COMP%]{background:var(--secondary-color);color:#fff;text-align:center}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:none}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, #header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus{background-color:var(--dark-primary-color);color:#fff!important}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li.animation-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], #header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li.animation-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{position:relative;padding:2px 28px 2px 8px;display:inline-flex;vertical-align:middle;border-radius:50px;box-shadow:0 0 5px #0003;color:var(--secondary-color);font-weight:700;font-size:11px;line-height:1;overflow:hidden}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li.animation-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .badge-panier[_ngcontent-%COMP%], #header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li.animation-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .badge-panier[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;width:20px;background:var(--secondary-color);color:#fff;text-align:center;line-height:2}#header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li.animation-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], #header-commun[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   li.animation-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:auto}.page-accueil[_nghost-%COMP%]   #header-commun[_ngcontent-%COMP%], .page-accueil   [_nghost-%COMP%]   #header-commun[_ngcontent-%COMP%]{background:linear-gradient(var(--dark-primary-color) 0%,#0e488e 100%);color:#fff}.page-accueil[_nghost-%COMP%]   #header-commun[_ngcontent-%COMP%]   .navbar.double-padding[_ngcontent-%COMP%], .page-accueil   [_nghost-%COMP%]   #header-commun[_ngcontent-%COMP%]   .navbar.double-padding[_ngcontent-%COMP%]{background:none}"]});let t=i;return t})();var xf=()=>["fas","chevron-up"];function Tf(t,i){t&1&&(a(0,"li",10)(1,"a",11)(2,"span"),u(3,"Contact"),s()()())}function Mf(t,i){t&1&&(a(0,"li",12)(1,"a",11)(2,"span"),u(3,"Contact"),s()()())}function Pf(t,i){if(t&1){let e=L();a(0,"button",13),S("click",function(){D(e);let r=h();return F(r.scrollToTop())}),g(1,"fa-icon",14),s()}t&2&&(l(),c("icon",K(1,xf)))}var gc=(()=>{let i=class i{constructor(n){this.authStore=n,this.showScroll=!1}ngOnInit(){this.showScroll=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>0}onWindowScroll(){this.showScroll=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)>0}scrollToTop(){window.scroll({top:0,left:0,behavior:"smooth"})}};i.\u0275fac=function(r){return new(r||i)(v(M))},i.\u0275cmp=w({type:i,selectors:[["ed-footer"]],hostBindings:function(r,o){r&1&&S("scroll",function(){return o.onWindowScroll()},!1,xn)},standalone:!1,decls:15,vars:3,consts:[[1,"d-print-none"],[1,"footer","double-padding"],[1,"list-inline"],[1,"list-inline-item"],["href","","routerLink","/accessibilite",1,"focus-blue"],["href","","routerLink","/about",1,"focus-blue"],["class","list-inline-item","id","item-contact-famille-eleve",4,"ngIf"],["class","list-inline-item","id","item-contact-prof-personnel",4,"ngIf"],["href","","routerLink","/Aides",1,"focus-blue"],["id","menu-retour-haut","title","Remonter en haut de la page","type","button","class","btn btn-primary btn-lg back-to-top",3,"click",4,"ngIf"],["id","item-contact-famille-eleve",1,"list-inline-item"],["href","","routerLink","/contactEtablissement",1,"envelope-size","focus-blue"],["id","item-contact-prof-personnel",1,"list-inline-item"],["id","menu-retour-haut","title","Remonter en haut de la page","type","button",1,"btn","btn-primary","btn-lg","back-to-top",3,"click"],["aria-hidden","true",3,"icon"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"div",1)(2,"ul",2)(3,"li",3)(4,"a",4),u(5,"Accessibilit\xE9"),s()(),a(6,"li",3)(7,"a",5),u(8,"Mentions l\xE9gales"),s()(),E(9,Tf,4,0,"li",6)(10,Mf,4,0,"li",7),a(11,"li",3)(12,"a",8),u(13,"Aide"),s()()()(),E(14,Pf,2,2,"button",9),s()),r&2&&(l(9),c("ngIf",!o.authStore.isPersonnel()&&!o.authStore.isProfesseur()),l(),c("ngIf",o.authStore.isPersonnel()||o.authStore.isProfesseur()),l(4),c("ngIf",o.showScroll))},dependencies:[G,ae,pe],styles:[".footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{text-align:right}.footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:inline-block;margin:15px 0;padding:5px;background:#e2e7ed;border-radius:3px}#menu-retour-haut[_ngcontent-%COMP%]{position:fixed;bottom:45px;right:15px;z-index:10}#menu-retour-haut[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}"]});let t=i;return t})();var If=t=>({"page-accueil":t});function wf(t,i){if(t&1){let e=L();a(0,"div",10),u(1," Ce compte utilisateur a \xE9t\xE9 bloqu\xE9 automatiquement suite \xE0 des authentifications infructueuses. "),g(2,"br"),u(3," Vous pouvez le d\xE9bloquer en cliquant ici : "),a(4,"button",11),S("click",function(){D(e);let r=h();return F(r.unblockLogin())}),u(5,"D\xE9bloquer le compte"),s()()}}function kf(t,i){t&1&&(a(0,"div",10),u(1,"Vous avez bien d\xE9bloqu\xE9 le compte de cet utilisateur."),s())}var vc=(()=>{let i=class i{get isCompteBloque(){return this.authStore.snapshot.isBloque}get urlDeblocage(){return this.authStore.snapshot.urlUnblock}constructor(n,r,o,d){this.router=n,this.authStore=r,this.http=o,this.uiService=d,this.currentUrl="",this.router.events.subscribe(m=>{m instanceof ei&&(this.currentUrl=m.url)})}isHomePage(){let n=this.router.url,r=n.split("/")[2],o=["/","/Famille","/Enseignant","/Entreprise","/Personnel",`/Eleves/${r}`],d=["/(auxiliaryModal:","/Famille(auxiliaryModal:","/Enseignant(auxiliaryModal:","/Entreprise(auxiliaryModal:","/Personnel(auxiliaryModal:",`/Eleves/${r}(auxiliaryModal:`];return o.some(m=>n===m)||d.some(m=>n.startsWith(m))}unblockLogin(){this.loader=this.http.get(this.urlDeblocage,{observe:"response",params:new Ma().set("retourJson",1)}).pipe(q(n=>{if(n.headers.has(Vr.code)&&n.headers.get(Vr.code)===""+gt.OK){let r=new Za(this.authStore.snapshot);r.isBloque=!1,this.authStore.setAuthStore(r,!0),this.compteDebloque=!0,this.uiService.notifyEvent(Y.genericSuccess,"Le compte EcoleDirecte a \xE9t\xE9 d\xE9bloqu\xE9 avec succ\xE8s. Mise \xE0 jour des identifiants de connexions recommand\xE9e.","Accueil")}else this.uiService.notifyEvent(Y.genericError,"D\xE9blocage du compte impossible","Accueil")}),ie(n=>(this.uiService.notifyEvent(Y.genericError,"D\xE9blocage du compte impossible","Accueil"),ze))).subscribe()}};i.\u0275fac=function(r){return new(r||i)(v(Q),v(M),v(Pa),v(ye))},i.\u0275cmp=w({type:i,selectors:[["ed-authenticated-layout"]],standalone:!1,decls:19,vars:13,consts:[["id","main-part",3,"ngClass","cgBusy"],["aria-label","Liens d'acc\xE8s rapide",1,"d-print-none","screen-reader"],[1,"btn","btn-link",3,"href"],["id","header","role","banner"],["id","menu-part",1,"d-print-none"],[1,"resizePage"],[3,"isHome"],["id","main","role","main","tabindex","-1",1,"resizePage"],["class","alert alert-warning mx-5","role","alert",4,"ngIf"],["id","footer","role","contentinfo",1,"resizePage"],["role","alert",1,"alert","alert-warning","mx-5"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"div",1)(2,"a",2),u(3,"Aller au menu principal"),s(),a(4,"a",2),u(5,"Aller au contenu principal"),s(),a(6,"a",2),u(7,"Aller au pied de page"),s()(),a(8,"header",3)(9,"div",4),g(10,"ed-menu-container"),s(),a(11,"div",5),g(12,"ed-header",6),s()(),a(13,"main",7),E(14,wf,6,0,"div",8)(15,kf,2,0,"div",8),g(16,"router-outlet"),s(),a(17,"footer",9),g(18,"ed-footer"),s()()),r&2&&(c("ngClass",N(11,If,o.isHomePage()))("cgBusy",o.loader),l(2),it("href","",o.currentUrl,"#header",ve),l(2),it("href","",o.currentUrl,"#main",ve),l(2),it("href","",o.currentUrl,"#footer",ve),l(6),c("isHome",o.isHomePage()),l(2),c("ngIf",o.isCompteBloque&&o.urlDeblocage!==""),l(),c("ngIf",o.compteDebloque))},dependencies:[oe,G,Ni,se,pc,fc,gc],styles:["#menu-part[_ngcontent-%COMP%] + #main-part[_ngcontent-%COMP%]{margin-left:110px;width:calc(100vw - 110px);overflow-x:hidden}#main-part[_ngcontent-%COMP%]{flex:1;min-height:100vh}#main-part.page-accueil[_ngcontent-%COMP%]{position:relative}.resizePage[_ngcontent-%COMP%]{margin-left:110px}"]});let t=i;return t})();var _c=(()=>{let i=class i{constructor(n){this.modalRef=n}};i.\u0275fac=function(r){return new(r||i)(v(ui))},i.\u0275cmp=w({type:i,selectors:[["ed-modal-aide-connexion"]],standalone:!1,decls:19,vars:1,consts:[[1,"modal-header"],[1,"modal-title"],["edAutofocus","","type","button","aria-label","Fermer la fen\xEAtre d'aide \xE0 la connexion",1,"btn-close","d-print-none",3,"click","showFocusBorder"],[1,"modal-body"],["href","https://api.ecoledirecte.com/mot-de-passe-oublie.awp",1,"focus-blue","link-color"],[1,"modal-footer"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"h3",1),u(2,"Des difficult\xE9s pour vous connecter ?"),s(),a(3,"button",2),S("click",function(){return o.modalRef.hide()}),s()(),a(4,"div",3)(5,"h4"),u(6,"Si vous avez d\xE9j\xE0 personnalis\xE9 votre compte d'acc\xE8s"),s(),u(7," Vous pouvez utiliser le lien "),a(8,"a",4),u(9,"'mot de passe oubli\xE9'"),s(),u(10," en indiquant l'email ou le num\xE9ro de t\xE9l\xE9phone que vous avez fourni lors de la cr\xE9ation de votre compte. "),g(11,"br"),u(12," Si cette proc\xE9dure \xE9choue, vous devez contacter directement votre \xE9tablissement afin qu'il r\xE9initialise votre compte d'acc\xE8s. "),a(13,"h4"),u(14,"Si vous n'avez jamais personnalis\xE9 votre compte d'acc\xE8s"),s(),u(15," Dans ce cas, le lien 'mot de passe oubli\xE9' ne fonctionnera pas. "),g(16,"br"),u(17,` Vous devez utiliser votre code de premi\xE8re connexion fourni par votre \xE9tablissement.
`),s(),g(18,"div",5)),r&2&&(l(3),c("showFocusBorder",!1))},dependencies:[Wn],encapsulation:2});let t=i;return t})();function Df(t,i){t&1&&g(0,"hr")}function Ff(t,i){if(t&1&&(g(0,"p",9),C(1,"ariaConvertNewline"),C(2,"filterHtml")),t&2){let e=h();c("innerHTML",x(2,3,x(1,1,e.charte)),ue)}}function Rf(t,i){t&1&&(a(0,"a",10),u(1,"Retour \xE0 l'accueil du site"),s())}var Ki=(()=>{let i=class i{constructor(n,r){this.authStore=n,this.etablissementService=r}ngOnInit(){this.authStore.isLoggedIn()&&this.etablissementService.charte().pipe(q(n=>{this.charte=n}),ie(n=>ze)).subscribe()}};i.\u0275fac=function(r){return new(r||i)(v(M),v(ri))},i.\u0275cmp=w({type:i,selectors:[["ed-about"]],standalone:!1,decls:38,vars:3,consts:[[1,"double-padding"],[1,"mentionTitle"],[1,"container-bg","double-padding","pt-5"],["target","_blank","href","https://www.cnil.fr/fr/cookies-et-autres-traceurs/regles/cookies/que-dit-la-loi","title","https://www.cnil.fr/fr/cookies-et-autres-traceurs/regles/cookies/que-dit-la-loi",1,"focus-blue","text-primary"],["href","https://luciole-vision.com/","title","Lien vers le site Luciole","target","_blank",1,"text-primary","focus-blue"],["href","https://creativecommons.org/licenses/by/4.0/legalcode.fr","title","Lien vers le site Creative Commons Attribution 4.0 International","target","_blank",1,"text-primary","focus-blue"],[4,"ngIf"],[3,"innerHTML",4,"ngIf"],["href","","routerLink","/","class","btn btn-primary margin-bottom",4,"ngIf"],[3,"innerHTML"],["href","","routerLink","/",1,"btn","btn-primary","margin-bottom"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"h4",1),u(2,"Dispositions g\xE9n\xE9rales applicables au site EcoleDirecte"),s(),a(3,"div",2)(4,"p"),u(5," Les donn\xE9es personnelles s\xE9curis\xE9es figurant sur ce site Internet concernent des \xE9l\xE8ves et les familles, et sont fournies par le logiciel Charlemagne des \xE9tablissements scolaires au sein desquels ceux-ci sont scolaris\xE9s. "),s(),a(6,"p"),u(7," Ces \xE9tablissements scolaires se sont engag\xE9s \xE0 apporter tous leurs soins dans la qualit\xE9 des informations diffus\xE9es. Il s\u2019agit toutefois d\u2019indications qui, en aucun cas, ne pourraient faire foi en lieu et place des documents usuels (bulletins de notes, relev\xE9s de notes, relev\xE9s d\u2019absences et de sanctions). "),s(),a(8,"p"),u(9," Ces informations ne sont disponibles qu\u2019apr\xE8s saisie d\u2019un mot de passe fourni exclusivement par l\u2019\xE9tablissement soit au responsable juridique de l\u2019\xE9l\xE8ve s\u2019il est mineur, soit \xE0 l\u2019\xE9l\xE8ve lui m\xEAme s\u2019il est majeur. Le d\xE9tenteur d\u2019un mot de passe ne peut acc\xE9der qu\u2019aux seules informations le concernant lui ou les personnes dont il est responsable juridiquement. "),s(),a(10,"p"),u(11," EcoleDirecte ne collecte aucune donn\xE9e personnelle directement sur le site Internet, \xE0 l\u2019exception de l\u2019adresse email et/ou du t\xE9l\xE9phone mobile, utilis\xE9s exclusivement pour la r\xE9cup\xE9ration des identifiants et les alertes de s\xE9curit\xE9. Le site n'utilise aucun cookie soumis \xE0 consentement (cookies publicitaires, analytiques non anonymes ou li\xE9s aux r\xE9seaux sociaux), seuls des cookies n\xE9cessaires \xE0 son bon fonctionnement ou des cookies strictement anonymes exempt\xE9s de consentement pouvant \xEAtre employ\xE9s. ("),a(12,"a",3),u(13,"cnil.fr"),s(),u(14,") "),s(),a(15,"p"),u(16," Pour optimiser la confidentialit\xE9 de vos consultations, nous vous conseillons de choisir un mot de passe s\xE9curis\xE9. Le site internet et ses donn\xE9es associ\xE9es sont h\xE9berg\xE9s sur des serveurs situ\xE9s sur le territoire fran\xE7ais. "),s(),a(17,"p"),u(18," La soci\xE9t\xE9 APLIM, h\xE9bergeur du site, s\u2019engage dans tous les cas \xE0 ne pas utiliser, louer, vendre, c\xE9der ou mettre \xE0 disposition d\u2019un tiers \xE0 fin d\u2019autres usages le contenu du pr\xE9sent site Internet. "),s(),a(19,"p"),u(20," Les donn\xE9es pr\xE9sentes sur ce site pourront \xEAtre divulgu\xE9es en application d'une loi, d'un r\xE8glement ou en vertu d'une d\xE9cision d'une autorit\xE9 r\xE9glementaire ou judiciaire comp\xE9tente ou encore, si cela s'av\xE8re n\xE9cessaire, aux fins de maintenance, par l'\xE9diteur ou l\u2019\xE9tablissement scolaire. "),s(),a(21,"p"),u(22," Le responsable du traitement de ces donn\xE9es est l\u2019\xE9tablissement scolaire qui a proc\xE9d\xE9 \xE0 leur saisie. Le responsable de leur s\xE9curisation sur notre plateforme EcoleDirecte en qualit\xE9 de sous-traitant est : Soci\xE9t\xE9 Aplim ZA Les C\xF4tes 73190 Saint Jeoire Prieur\xE9, rgpd@aplim.fr. "),s(),a(23,"p"),u(24," En application des articles 15, 16, 17 et 18 du R\xE8glement du Parlement europ\xE9en et du Conseil du 27 avril 2016, et de la Loi n\xB0 78-17 du 6 janvier 1978 relative \xE0 l'informatique, aux fichiers et aux libert\xE9s, vous disposez d'un droit d'acc\xE8s, de rectification, d'effacement des donn\xE9es collect\xE9es, et d'un droit de limitation du traitement des donn\xE9es personnelles que vous pouvez exercer aupr\xE8s du responsable du traitement (\xE0 savoir l\u2019\xE9tablissement scolaire responsable du traitement) qui nous r\xE9percutera votre demande \xE0 fins d\u2019ex\xE9cution sur le site EcoleDirecte. "),s(),a(25,"p"),u(26," En toute hypoth\xE8se, il vous est possible d'introduire une r\xE9clamation aupr\xE8s de la Commission Nationale de l'Informatique et des Libert\xE9s si vous vous estimez l\xE9s\xE9 par le traitement de vos donn\xE9es personnelles par l\u2019\xE9tablissement scolaire. "),s(),a(27,"p"),u(28," L'activation de l'am\xE9lioration de l'accessibilit\xE9 des personnes d\xE9ficientes visuelles utilise la police de caract\xE8res "),a(29,"a",4),u(30,"Luciole"),s(),u(31," . Cette police de caract\xE8res est distribu\xE9e gratuitement sous Licence publique "),a(32,"a",5),u(33," Creative Commons Attribution 4.0 International "),s(),u(34," : Luciole \xA9 Laurent Bourcellier & Jonathan Perez "),s(),E(35,Df,1,0,"hr",6)(36,Ff,3,5,"p",7)(37,Rf,2,0,"a",8),s()()),r&2&&(l(35),c("ngIf",o.charte),l(),c("ngIf",o.charte),l(),c("ngIf",o.authStore.isLoggedIn()))},dependencies:[G,ae,Ve,Ze],styles:[".mentionTitle[_ngcontent-%COMP%]{font-size:25px}"]});let t=i;return t})();var Tr=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=w({type:i,selectors:[["ed-accessibilite"]],standalone:!1,decls:214,vars:0,consts:[[1,"double-padding"],[1,"mentionTitle"],[1,"container-bg","double-padding","pt-5"],["href","https://www.legifrance.gouv.fr/loda/article_lc/LEGIARTI000048050213"],["href","https://www.ecoledirecte.com/"],[1,"custom-list"],["href","https://www.ecoledirecte.com/login"],["href","https://www.ecoledirecte.com/X/XXXX/CahierDeTexte"],["href","https://www.ecoledirecte.com/Aides"],["href","https://www.ecoledirecte.com/F/FamilleCoordonnees"],["href","https://www.ecoledirecte.com/Compte"],["href","https://www.ecoledirecte.com/Paiements"],["href","https://www.ecoledirecte.com/X/XXXX/Messagerie"],["href","https://www.ecoledirecte.com/Documents/telechargements"],["href","https://www.ecoledirecte.com/X/XXXX/formulaires-et-sondages"],["href","https://www.ecoledirecte.com/X/XXX/EspacesTravail"],["href","https://www.ecoledirecte.com/utilisateur/personnalisation"],["href","https://www.ecoledirecte.com/E/XXX/Notes"],["href","https://formulaire.defenseurdesdroits.fr/"],["href","https://www.defenseurdesdroits.fr/saisir/delegues"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"h1",1),u(2,"D\xE9claration d'accessibilit\xE9"),s(),a(3,"div",2)(4,"p"),u(5," APLIM s\u2019engage \xE0 rendre ses sites internet, intranet, extranet et ses applications mobiles, accessibles conform\xE9ment \xE0 "),a(6,"a",3),u(7,"l\u2019article 47 de la loi n\xB0 2005-102 du 11 f\xE9vrier 2005"),s(),u(8," . "),s(),a(9,"p"),u(10,"Cette d\xE9claration d\u2019accessibilit\xE9 s\u2019applique au site APLIM \u2013 Ecole directe."),s(),a(11,"h2"),u(12,"\xC9tat de conformit\xE9"),s(),a(13,"p"),u(14," En date du 15 novembre 2024, APLIM \u2013 Ecole directe - "),a(15,"a",4),u(16,"https://www.ecoledirecte.com/"),s(),u(17," est partiellement conforme avec le r\xE9f\xE9rentiel g\xE9n\xE9ral d\u2019am\xE9lioration de l\u2019accessibilit\xE9 (RGAA), version 4.1.2 en raison des non-conformit\xE9s et des d\xE9rogations \xE9num\xE9r\xE9es ci-dessous. "),s(),a(18,"h2"),u(19,"R\xE9sultats des tests"),s(),a(20,"p"),u(21," L\u2019audit de conformit\xE9 r\xE9alis\xE9 par Urbilog Comp\xE9thance EA r\xE9v\xE8le que "),a(22,"b"),u(23,"62%"),s(),u(24," des crit\xE8res RGAA sont respect\xE9s. "),s(),a(25,"h2"),u(26,"Contenus non accessibles"),s(),a(27,"p"),u(28,"Les contenus list\xE9s ci-dessous ne sont pas accessibles pour les raisons suivantes."),s(),a(29,"h3")(30,"i"),u(31,"Non-conformit\xE9s"),s()(),a(32,"h4"),u(33,"Couleurs"),s(),a(34,"ul",5)(35,"li"),u(36,"3.1 - Pr\xE9sence d\u2019information donn\xE9e uniquement par la couleur."),s(),a(37,"li"),u(38,"3.2 - Pr\xE9sence de ratios de contraste entre la couleur du texte et la couleur de son arri\xE8re-plan insuffisamment \xE9lev\xE9s."),s(),a(39,"li"),u(40,"3.3 - Pr\xE9sence de ratios de contraste sur des composants d\u2019interface ou des \xE9l\xE9ments graphiques porteurs d\u2019informations insuffisamment \xE9lev\xE9s."),s()(),a(41,"h4"),u(42,"Tableaux"),s(),a(43,"ul",5)(44,"li"),u(45,"5.1 - Tableau de donn\xE9es complexe sans r\xE9sum\xE9"),s()(),a(46,"h4"),u(47,"Scripts"),s(),a(48,"ul",5)(49,"li"),u(50,"7.1 - Pr\xE9sence d\u2019\xE9l\xE9ments script\xE9s qui ne sont pas compatibles avec les technologies d\u2019assistance."),s(),a(51,"li"),u(52,"7.3 - Pr\xE9sence d\u2019\xE9l\xE9ments script\xE9s qui ne sont pas contr\xF4lables par le clavier et par tout dispositif de pointage."),s()(),a(53,"h4"),u(54,"\xC9l\xE9ments obligatoires"),s(),a(55,"ul",5)(56,"li"),u(57,"8.2 - Le code source g\xE9n\xE9r\xE9 n'est pas valide selon le type de document sp\xE9cifi\xE9."),s()(),a(58,"h4"),u(59,"Pr\xE9sentation de l\u2019information"),s(),a(60,"ul",5)(61,"li"),u(62,"10.2 - Certains contenus visibles porteurs d\u2019information ne restent pas pr\xE9sents lorsque les feuilles de styles sont d\xE9sactiv\xE9es."),s(),a(63,"li"),u(64,"10.6 - Pr\xE9sence de liens dont la nature n\u2019est pas \xE9vidente et qui ne sont pas visibles par rapport au texte environnant."),s(),a(65,"li"),u(66,"10.7 - Certains \xE9l\xE9ments recevant le focus, cette prise de focus n'est pas visible."),s(),a(67,"li"),u(68," 10.11 - Certains contenus ne peuvent pas \xEAtre pr\xE9sent\xE9s sans perte d\u2019information ou de fonctionnalit\xE9 et sans recourir \xE0 un d\xE9filement horizontal pour une fen\xEAtre ayant une largeur de 320\u202Fpx. "),s()(),a(69,"h4"),u(70,"Formulaires"),s(),a(71,"ul",5)(72,"li"),u(73,"11.1 - Certains champs de formulaire n'ont pas d\u2019\xE9tiquette."),s(),a(74,"li"),u(75,"11.2 - Certaines \xE9tiquettes associ\xE9es \xE0 un champ de formulaire ne sont pas pertinentes."),s(),a(76,"li"),u(77,"11.4 - Dans certains formulaires, l\u2019\xE9tiquette de champ et son champ associ\xE9 ne sont pas accol\xE9s."),s(),a(78,"li"),u(79,"11.5 - Certains champs de m\xEAme nature ne sont pas regroup\xE9s."),s(),a(80,"li"),u(81,"11.9 - Certains intitul\xE9s de bouton ne sont pas pertinents."),s(),a(82,"li"),u(83,"11.10 - Pour certains champs de formulaire, le contr\xF4le de saisie n\u2019est pas utilis\xE9 de mani\xE8re pertinente."),s(),a(84,"li"),u(85,"11.11 - Pour certains champs de formulaire, le contr\xF4le de saisie n'est pas accompagn\xE9 de suggestions facilitant la correction des erreurs de saisie."),s(),a(86,"li"),u(87," 11.13 - Pour certains champs de saisie, absence de remplissage automatique pour faciliter le remplissage automatique des champs avec les donn\xE9es de l\u2019utilisateur. "),s()(),a(88,"h4"),u(89,"Navigation"),s(),a(90,"ul",5)(91,"li"),u(92,"12.1 - Absence de moteur de recherche ou de plan de site."),s(),a(93,"li"),u(94,"12.7 - Absence de lien d\u2019\xE9vitement ou d\u2019acc\xE8s rapide \xE0 la zone de contenu principal."),s(),a(95,"li"),u(96,"12.8 - Absence de coh\xE9rence dans l\u2019ordre de tabulation."),s()(),a(97,"h4"),u(98,"Consultation"),s(),a(99,"ul",5)(100,"li"),u(101,"13.1 - L\u2019utilisateur n\u2019a pas le contr\xF4le de chaque limite de temps modifiant le contenu."),s(),a(102,"li"),u(103,"13.3 - Pr\xE9sence de documents bureautiques en t\xE9l\xE9chargement ne poss\xE9dant pas d\u2019une version accessible."),s()(),a(104,"h2"),u(105,"D\xE9rogation pour charge disproportionn\xE9e"),s(),a(106,"ul",5)(107,"li"),u(108,"Aucun \xE9l\xE9ment d\xE9rog\xE9 pour charge disproportionn\xE9e."),s()(),a(109,"h2"),u(110,"\xC9tablissement de cette d\xE9claration d\u2019accessibilit\xE9"),s(),a(111,"p"),u(112,"Cette d\xE9claration d\u2019accessibilit\xE9 a \xE9t\xE9 \xE9tablie le 15 novembre 2024."),s(),a(113,"h2"),u(114,"Technologies utilis\xE9es pour la r\xE9alisation du site"),s(),a(115,"ul",5)(116,"li"),u(117,"HTML 5"),s(),a(118,"li"),u(119,"CSS"),s(),a(120,"li"),u(121,"JavaScript"),s()(),a(122,"h2"),u(123,"Environnement de test"),s(),a(124,"p"),u(125," Les v\xE9rifications de restitution de contenus ont \xE9t\xE9 r\xE9alis\xE9es sur la base de la combinaison fournie par la base de r\xE9f\xE9rence du RGAA 4.1.2, avec les versions suivantes : "),s(),a(126,"ul",5)(127,"li"),u(128,"NVDA 2024.4.1 et Firefox 132.0.2"),s(),a(129,"li"),u(130,"VoiceOver macOS Sequoia 15.1 et Safari 18.1"),s()(),a(131,"h2"),u(132,"Outils pour \xE9valuer l\u2019accessibilit\xE9"),s(),a(133,"ul",5)(134,"li"),u(135,"Barre extension de contr\xF4le de taux de contraste WCAG Color Contrast Checker"),s(),a(136,"li"),u(137,"Barre extension Assistant RGAA V4.1.2 Urbilog Comp\xE9thance EA"),s(),a(138,"li"),u(139,"Barre extension Web Developer toolbar"),s(),a(140,"li"),u(141,"Inspecteur du navigateur"),s()(),a(142,"h2"),u(143,"Pages du site ayant fait l\u2019objet de la v\xE9rification de conformit\xE9"),s(),a(144,"ul",5)(145,"li"),u(146," Authentification - "),a(147,"a",6),u(148,"https://www.ecoledirecte.com/login"),s()(),a(149,"li"),u(150," Consultation cahier de textes - "),a(151,"a",7),u(152,"https://www.ecoledirecte.com/X/XXXX/CahierDeTexte"),s()(),a(153,"li"),u(154," Aide (documents t\xE9l\xE9chargeables) - "),a(155,"a",8),u(156,"https://www.ecoledirecte.com/Aides"),s()(),a(157,"li"),u(158," Vos informations - "),a(159,"a",9),u(160,"https://www.ecoledirecte.com/F/FamilleCoordonnees"),s()(),a(161,"li"),u(162," Situation financi\xE8re - "),a(163,"a",10),u(164,"https://www.ecoledirecte.com/Compte"),s()(),a(165,"li"),u(166," Paiements en ligne - "),a(167,"a",11),u(168,"https://www.ecoledirecte.com/Paiements"),s()(),a(169,"li"),u(170," Messagerie - "),a(171,"a",12),u(172,"https://www.ecoledirecte.com/X/XXXX/Messagerie"),s()(),a(173,"li"),u(174," Documents - "),a(175,"a",13),u(176,"https://www.ecoledirecte.com/Documents/telechargements"),s()(),a(177,"li"),u(178," Formulaires et sondages - "),a(179,"a",14),u(180,"https://www.ecoledirecte.com/X/XXXX/formulaires-et-sondages"),s()(),a(181,"li"),u(182," Espace de travail - "),a(183,"a",15),u(184,"https://www.ecoledirecte.com/X/XXX/EspacesTravail"),s()(),a(185,"li"),u(186," Dossier d\u2019inscription - "),a(187,"a",15),u(188,"https://www.ecoledirecte.com/X/XXX/EspacesTravail"),s()(),a(189,"li"),u(190," Votre compte - "),a(191,"a",16),u(192,"https://www.ecoledirecte.com/utilisateur/personnalisation"),s()(),a(193,"li"),u(194," Notes - "),a(195,"a",17),u(196,"https://www.ecoledirecte.com/E/XXX/Notes"),s()()(),a(197,"h2"),u(198,"Voies de recours"),s(),a(199,"p"),u(200,"Cette proc\xE9dure est \xE0 utiliser dans le cas suivant."),s(),a(201,"p"),u(202," Vous avez signal\xE9 au responsable du site internet un d\xE9faut d\u2019accessibilit\xE9 qui vous emp\xEAche d\u2019acc\xE9der \xE0 un contenu ou \xE0 un des services du portail et vous n\u2019avez pas obtenu de r\xE9ponse satisfaisante. "),s(),a(203,"ul",5)(204,"li"),u(205," \xC9crire un message au D\xE9fenseur des droits : "),a(206,"a",18),u(207,"https://formulaire.defenseurdesdroits.fr/"),s()(),a(208,"li"),u(209," Contacter le d\xE9l\xE9gu\xE9 du D\xE9fenseur des droits dans votre r\xE9gion : "),a(210,"a",19),u(211,"https://www.defenseurdesdroits.fr/saisir/delegues"),s()(),a(212,"li"),u(213,"Envoyer un courrier par la poste (gratuit, ne pas mettre de timbre) : D\xE9fenseur des droits Libre r\xE9ponse 71120 75342 Paris CEDEX 07"),s()()()())},styles:["a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none}h4[_ngcontent-%COMP%]{color:var(--light-primary-color)!important;font-size:var(--font-size-default)!important;text-transform:uppercase!important}a[_ngcontent-%COMP%]:hover{text-decoration:underline}.custom-list[_ngcontent-%COMP%]{list-style-type:disc!important;margin-left:20px!important}"]});let t=i;return t})();var Nf=()=>["fas","arrows-rotate"],Uf=t=>({"has-error":t});function Lf(t,i){if(t&1){let e=L();a(0,"button",12),S("click",function(){D(e);let r=h();return F(r.refresh())}),g(1,"fa-icon",13),s()}t&2&&(l(),c("icon",K(1,Nf)))}function Bf(t,i){t&1&&(a(0,"div",14),u(1,"Le questionnaire n'est pas accessible."),s())}function Vf(t,i){if(t&1&&(a(0,"div",21),g(1,"input",22),a(2,"label",23),u(3),C(4,"base64"),s()()),t&2){let e=i.$implicit,n=i.index;l(),it("id","prop_",n,""),c("value",e),l(),it("for","prop_",n,""),l(),k(x(4,6,e))}}function jf(t,i){if(t&1&&(a(0,"div",15)(1,"div",16)(2,"h3",17),u(3),C(4,"base64"),s(),a(5,"div",18)(6,"div",19),E(7,Vf,5,8,"div",20),C(8,"trackByProperty"),s()()()()),t&2){let e=h();l(),c("ngClass",N(8,Uf,e.qcmForm.invalid)),l(2),k(x(4,4,e.qcm.question)),l(4),c("ngForOf",e.qcm.propositions)("ngForTrackBy",x(8,6,"$index"))}}var Ec=(()=>{let i=class i{constructor(n,r,o,d,m){this.authService=n,this.modalService=r,this.modalRef=o,this.fb=d,this.uiService=m,this.displayRefresh=!1,this.qcmForm=this.fb.group({reponse:["",Ri.required]})}ngOnInit(){this.refresh(!0)}refresh(n=!1){(this.displayRefresh||n)&&(this.loader=this.authService.getAuth2facteursFE().subscribe({next:r=>{this.qcm={question:r.question,propositions:[...r.propositions]},we.isNotEmptyString(this.qcmForm.value.reponse,!0)&&this.qcmForm.patchValue({reponse:""}),this.displayRefresh=!1},error:r=>{this.displayRefresh=!0,this.qcm=void 0,this.uiService.notifyEvent(Y.genericError,r.message.length>0?r.message:"Un probl\xE8me est survenu lors de la r\xE9cup\xE9ration du questionnaire","Erreur")}}))}saveForm(){this.loader=this.authService.postAuth2facteursFE(this.qcmForm.value.reponse).subscribe({next:n=>{this.modalService.setDismissReason(JSON.stringify({reason:Qe.validation,data:{cn:n==null?void 0:n.cn,cv:n==null?void 0:n.cv}})),this.modalRef.hide()},error:n=>{n.status===500?(this.uiService.notifyEvent(Y.genericWarning,"Merci de r\xE9pondre \xE0 la nouvelle question !","Authentification"),this.refresh(!0)):(this.modalService.setDismissReason(JSON.stringify({reason:Qe.cancel})),this.modalRef.hide())}})}canDeactivate(n){if(Object.isExists(n))return!1;let r={id:this.modalService.getModalsCount()+1,keyboard:!1,ignoreBackdropClick:!0,initialState:{title:`<span class="upSizeFaTri">${bs(Ss).html.join("")}</span><span class="margin-whitespace">Quitter le questionnaire</span>`,message:"\xCAtes vous s\xFBr de vouloir quitter ce questionnaire et annuler la demande d'authentification ?",warningButton:"OK"}};return this._modalRef=this.modalService.show(Ti,r),this._modalRef.onHide.pipe(ke(1),Ke(o=>o===Qe.validation))}close(){this.canDeactivate().subscribe({next:n=>{n&&(this.modalService.setDismissReason(JSON.stringify({reason:Qe.cancel})),this.modalRef.hide())},error:n=>{}})}};i.\u0275fac=function(r){return new(r||i)(v(Xe),v(Fe),v(ui),v(Na),v(ye))},i.\u0275cmp=w({type:i,selectors:[["ed-auth-2factor-fe"]],hostBindings:function(r,o){r&1&&S("beforeunload",function(m){return o.canDeactivate(m)},!1,xn)},standalone:!1,decls:15,vars:6,consts:[[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Rafra\xEEchir les donn\xE9es","class","btn btn-secondary btn-sm d-print-none ms-2 pull-left",3,"click",4,"ngIf"],["type","button","aria-label","Fermer cette fen\xEAtre",1,"btn-close","d-print-none",3,"click"],["name","formAuth2Factor","id","formAuth2Factor","method","post",3,"ngSubmit","formGroup"],[1,"modal-body",3,"cgBusy"],["class","alert alert-info",4,"ngIf"],["class","ed-card",4,"ngIf"],[1,"modal-footer"],[1,"w-100"],["type","button",1,"btn","btn-danger","float-start",3,"click"],["type","submit",1,"btn","btn-primary","float-end",3,"disabled"],["type","button","aria-label","Rafra\xEEchir les donn\xE9es",1,"btn","btn-secondary","btn-sm","d-print-none","ms-2","pull-left",3,"click"],["aria-hidden","true",3,"icon"],[1,"alert","alert-info"],[1,"ed-card"],[1,"p-3",3,"ngClass"],[1,"mt-0"],[1,"row"],[1,"col-lg-8"],["class","form-check",4,"ngFor","ngForOf","ngForTrackBy"],[1,"form-check"],["type","radio","formControlName","reponse","name","reponse",1,"form-radio-input","me-1",3,"id","value"],[1,"form-check-label","fw-normal",3,"for"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"h3",1),u(2,"Confirmez votre identit\xE9"),s(),E(3,Lf,2,2,"button",2),a(4,"button",3),S("click",function(){return o.close()}),s()(),a(5,"form",4),S("ngSubmit",function(){return o.saveForm()}),a(6,"div",5),E(7,Bf,2,0,"div",6)(8,jf,9,10,"div",7),s(),a(9,"div",8)(10,"div",9)(11,"button",10),S("click",function(){return o.close()}),u(12,"Annuler"),s(),a(13,"button",11),u(14,"Envoyer ma r\xE9ponse"),s()()()()),r&2&&(l(3),c("ngIf",o.displayRefresh),l(2),c("formGroup",o.qcmForm),l(),c("cgBusy",o.loader),l(),c("ngIf",!o.qcm),l(),c("ngIf",o.qcm),l(5),c("disabled",o.qcmForm.invalid))},dependencies:[oe,Ee,G,ut,Yt,ka,It,dt,Fn,Rn,pe,se,ii,be],styles:["#formAuth2Factor[_ngcontent-%COMP%]   .ed-card[_ngcontent-%COMP%]{margin-top:20px}"]});let t=i;return t})();var zf=["showPasswordButton"],qf=t=>["fas",t];function Hf(t,i){if(t&1&&(g(0,"div",15),C(1,"filterHtml")),t&2){let e=h();c("innerHTML",x(1,1,e.errorMessage),ue)}}function Gf(t,i){t&1&&(a(0,"h2",16),u(1,"Connectez-vous"),s())}function $f(t,i){t&1&&(a(0,"a",17),u(1,"Mot de passe oubli\xE9 ?"),s())}function Kf(t,i){if(t&1){let e=L();a(0,"div",18)(1,"input",19),At("ngModelChange",function(r){D(e);let o=h();return Pt(o.loginForm.loginStored,r)||(o.loginForm.loginStored=r),F(r)}),s(),a(2,"label",20),u(3,"Se souvenir de moi"),s()()}if(t&2){let e=h();l(),Mt("ngModel",e.loginForm.loginStored)}}var Qi=class Qi{constructor(i,e,n,r,o,d,m,p,f,_,y,T,P){this.authStore=i,this.authService=e,this.accountService=n,this.httpAccessFailedService=r,this.router=o,this.uiService=d,this.modalService=m,this.cd=p,this.loaderService=f,this.activatedRoute=_,this.credentialsStore=y,this.elementRef=T,this.renderer=P,this.redirEnCours=new bi,this.loginError=new bi,this.isPasswordVisible=!1,this.errorMessage="",this._loginFormDefault={username:"",password:"",loginStored:!1}}ngOnInit(){this.loginForm=J({},this._loginFormDefault),Object.isExists(this.authStore.currentUser)&&(this.loginForm.username=this.authStore.currentUser.identifiant),!Object.isExists(this.authStore.currentUser)&&we.isNotEmptyString(this._pseudo)&&(this.loginForm.username=this._pseudo)}ngOnChanges(i){if(i.accessTokenQR&&we.isNotEmptyString(i.accessTokenQR.currentValue)){let e={identifiant:"",motdepasse:"",isReLogin:!1,accessTokenQR:this.accessTokenQR};this.doLogin(e)}}openModalAuht2FactorFE(i){let e={id:this.modalService.getModalsCount()+1,keyboard:!1,ignoreBackdropClick:!0,class:"modal-lg"};this.modalService.show(Ec,e),this.modalService.onHide.pipe(ua(()=>this.modalService.getModalsCount()>0),ke(1),q(n=>{let r=JSON.parse(n);r.reason===Qe.validation?this.doLogin(J(J({},i),r.data)):(this.accountService.logout(),this.uiService.notifyEvent(Y.genericError,"Authentification impossible !","Erreur"))})).subscribe()}openModalCreationCompte(i){let e={loginOrigine:i.login,motPasseOrigine:i.motDePasse,niveauMdp:i.niveauMdp,questionsPossibles:i.questionsPossibles},n={id:this.modalService.getModalsCount()+1,keyboard:!1,ignoreBackdropClick:!0,initialState:{utilisateurInfosPassword:e,origineAction:Va.CREATION_SIMPLE}};this.modalService.show(Qs,n),this.modalService.onHide.pipe(ke(1),ge(()=>{this.loginForm=J({},this._loginFormDefault),this.cd.detectChanges()})).subscribe()}login(){this.errorMessage="";let i={identifiant:this.loginForm.username,motdepasse:this.loginForm.password,isReLogin:!1};this.doLogin(i)}doLogin(i){let e=this.authStore.currentUser?this.authStore.currentUser.identifiant:"",n=this.activatedRoute.snapshot.queryParamMap.has("cameFrom")?this.activatedRoute.snapshot.queryParamMap.get("cameFrom"):"",r=this.activatedRoute.snapshot.queryParamMap.has("service")?this.activatedRoute.snapshot.queryParamMap.get("service"):"";this.loader=this.loaderService.show(this),this.cd.markForCheck(),this.authService.doLogin(i).pipe(We(([o,d])=>{if(o===gt.Auht2Factor)return this.loaderService.hide(this),this.openModalAuht2FactorFE(i),Le(void 0);if(Object.isExists(d)&&d instanceof es)return this.openModalCreationCompte(d),Le(void 0);if(Object.isExists(d)&&d instanceof ts){this.loaderService.hide(this);let m={id:this.modalService.getModalsCount()+1,initialState:{title:"Pour continuer merci d'accepter la charte d'utilisation",message:d.charte,btnCancel:"Je n'accepte pas",btnConfirm:"J'accepte"},class:"modal-lg"};return this.modalService.show(Ti,m),this.modalService.onHide.pipe(ke(1),q(p=>{p===Qe.validation&&this.doLogin(Ue(J({},i),{acceptationCharte:!0}))}))}else if(this.authStore.snapshot.changementMDP&&!this.isRelogin){this.loaderService.hide(this);let m={id:this.modalService.getModalsCount()+1,initialState:{title:"Votre mot de passe est expir\xE9",message:"Pour des raisons de s\xE9curit\xE9, merci de mettre \xE0 jour votre mot de passe.",btnCancel:"Annuler",btnConfirm:"Continuer"},class:"modal-lg"};return this.modalService.show(Ti,m),this.modalService.onHide.pipe(ke(1),q(p=>{p===Qe.validation?this.router.navigate(["utilisateur/personnalisation"]):this.accountService.logout()}))}else return n!==""?(this.router.navigate([n]),Le(void 0)):r!==""?(ji.goToService(this.credentialsStore.snapshot.authToken,"_self",r,this.elementRef,this.renderer),Le(void 0)):(this.isRelogin&&e===this.loginForm.username?(this.loaderService.hide(this),this.modalService.hide("modalReconnexion"),this.httpAccessFailedService.retryFailedRequests()):(this.isRelogin&&(this.loaderService.hide(this),this.modalService.hide("modalReconnexion"),this.accountService.logout()),this.loginForm.loginStored?this._pseudo=this.loginForm.username:(this._pseudo=void 0,localStorage.removeItem("pseudo")),this.router.navigate(["/"])),Le(void 0))}),ie(o=>{switch(o.status){case 516:case 535:this.errorMessage="";break;case 518:this.errorMessage="<b>Votre fiche utilisateur n'existe pas sur EcoleDirecte</b><br/> Veuillez contacter votre \xE9tablissement";break;case 221:this.errorMessage=`<b>Identifiant d\xE9j\xE0 personnalis\xE9</b><br/> L'identifiant et le mot de passe que vous avez saisis ont d\xE9j\xE0 \xE9t\xE9 personnalis\xE9s.
                  Veuillez v\xE9rifier et r\xE9essayer <br/>
                Si le probl\xE8me persiste, veuillez cliquer sur le lien 'Mot de passe oubli\xE9 ?'
                ou contacter votre \xE9tablissement pour obtenir de nouveaux identifiants`;break;case 517:this.errorMessage=o.message;break;default:this.errorMessage=`<b>Identifiant ou Mot de passe invalide</b><br/>
                L'identifiant et le mot de passe que vous avez entr\xE9s ne correspondent pas \xE0 ceux pr\xE9sents dans nos fichiers.
                Veuillez v\xE9rifier et r\xE9essayer <br/> Si le probl\xE8me persiste, veuillez cliquer sur le lien 'Mot de passe oubli\xE9 ?'
                ou contacter votre \xE9tablissement pour obtenir de nouveaux identifiants`;break}return this.loginError.emit(o),this.uiService.notifyErrorThenEmpty(o,!0,"Authentification impossible")}),ge(()=>this.loaderService.hide(this))).subscribe()}showPassword(){this.isPasswordVisible=!this.isPasswordVisible;let i=this.isPasswordVisible?"Masquer le mot de passe":"Afficher le mot de passe";this.showPasswordButton.nativeElement.title=i}};Qi.\u0275fac=function(e){return new(e||Qi)(v(M),v(Xe),v(Ft),v(qn),v(Q),v(ye),v(Fe),v(Fi),v(Re),v(kt),v(rs),v(en),v(Tn))},Qi.\u0275cmp=w({type:Qi,selectors:[["ed-login-form"]],viewQuery:function(e,n){if(e&1&&qt(zf,5),e&2){let r;Ht(r=Gt())&&(n.showPasswordButton=r.first)}},inputs:{isRelogin:"isRelogin",accessTokenQR:"accessTokenQR"},outputs:{redirEnCours:"redirEnCours",loginError:"loginError"},standalone:!1,features:[Zi],decls:17,vars:17,consts:[["showPasswordButton",""],["id","output","role","alert","class","animated fadeInUp alert alert-danger",3,"innerHTML",4,"ngIf"],["id","bloc-connexion"],["class","text-center",4,"ngIf"],[3,"ngSubmit","cgBusy"],["id","username","type","text","name","username","placeholder","Identifiant","autocapitalize","off","aria-label","Identifiant","autocomplete","username",1,"log","form-control","focus-blue",3,"ngModelChange","disabled","edAutofocus","ngModel"],[1,"mdp"],["id","password","name","password","placeholder","Mot de passe","aria-label","Mot de passe","autocomplete","current-password",1,"log","form-control","focus-blue",3,"ngModelChange","type","edAutofocus","ngModel"],["type","button","id","show-password","title","Afficher le mot de passe",1,"btn","no-background","hov-transparent","btn-secondary","float-end","focus-blue",3,"click"],["aria-hidden","true",3,"icon"],["href","https://api.ecoledirecte.com/mot-de-passe-oublie.awp","class","mdp-lost focus-blue",4,"ngIf"],["class","form-check text-bold",4,"ngIf"],[1,"clearfix"],[1,"d-grid","gap-2"],["id","connexion","type","submit",1,"btn","btn-info","login","focus-black"],["id","output","role","alert",1,"animated","fadeInUp","alert","alert-danger",3,"innerHTML"],[1,"text-center"],["href","https://api.ecoledirecte.com/mot-de-passe-oublie.awp",1,"mdp-lost","focus-blue"],[1,"form-check","text-bold"],["type","checkbox","name","loginStored","id","seSouvenirDeMoi",1,"form-check-input","focus-blue",3,"ngModelChange","ngModel"],["for","seSouvenirDeMoi",1,"form-check-label"]],template:function(e,n){if(e&1){let r=L();E(0,Hf,2,3,"div",1),a(1,"div",2),E(2,Gf,2,0,"h2",3),a(3,"form",4),S("ngSubmit",function(){return D(r),F(n.login())}),a(4,"input",5),At("ngModelChange",function(d){return D(r),Pt(n.loginForm.username,d)||(n.loginForm.username=d),F(d)}),s(),a(5,"div",6)(6,"div")(7,"input",7),At("ngModelChange",function(d){return D(r),Pt(n.loginForm.password,d)||(n.loginForm.password=d),F(d)}),s(),a(8,"button",8,0),S("click",function(){return D(r),F(n.showPassword())}),g(10,"fa-icon",9),s()(),E(11,$f,2,0,"a",10),s(),E(12,Kf,4,1,"div",11),g(13,"div",12),a(14,"div",13)(15,"button",14),u(16,"Connexion"),s()()()()}e&2&&(c("ngIf",n.errorMessage),l(2),c("ngIf",!n.isRelogin),l(),c("cgBusy",n.loader),l(),c("disabled",n.isRelogin)("edAutofocus",!n.isRelogin),Mt("ngModel",n.loginForm.username),_e("aria-invalid",n.errorMessage?"true":"false")("aria-describedby",n.errorMessage?"output":null),l(3),c("type",n.isPasswordVisible?"text":"password")("edAutofocus",n.isRelogin),Mt("ngModel",n.loginForm.password),_e("aria-invalid",n.errorMessage?"true":"false"),l(3),c("icon",N(15,qf,n.isPasswordVisible?"eye-slash":"eye")),l(),c("ngIf",!n.isRelogin),l(),c("ngIf",!n.isRelogin))},dependencies:[G,ut,Yt,On,It,dt,Zt,wt,pe,se,Wn,Ve],styles:["#bloc-connexion[_ngcontent-%COMP%]{margin-top:100px}#bloc-connexion[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:35px}#bloc-connexion[_ngcontent-%COMP%]   button#connexion[_ngcontent-%COMP%]{font-size:20px}#bloc-connexion[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], #bloc-connexion[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{height:50px}#bloc-connexion[_ngcontent-%COMP%]   .mdp[_ngcontent-%COMP%]{margin:1rem 0}#bloc-connexion[_ngcontent-%COMP%]   .mdp[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}#bloc-connexion[_ngcontent-%COMP%]   .mdp[_ngcontent-%COMP%]   #password[_ngcontent-%COMP%]{width:100%}#bloc-connexion[_ngcontent-%COMP%]   .mdp[_ngcontent-%COMP%]   #show-password[_ngcontent-%COMP%]{position:absolute;right:0;top:50%;transform:translateY(-50%);background:none;border:none;cursor:pointer}#bloc-connexion[_ngcontent-%COMP%]   .mdp[_ngcontent-%COMP%]   #show-password[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:21px;height:21px}#bloc-connexion[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]{display:flex;width:100%}#bloc-connexion[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:1rem}.log[_ngcontent-%COMP%]{margin:4vh 0}.mdp-lost[_ngcontent-%COMP%]{float:right;margin:-3vh 0;font-style:italic;color:#999}@media screen and (max-width: 1280px){#bloc-connexion[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}#bloc-connexion[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], #bloc-connexion[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{height:30px}.log[_ngcontent-%COMP%]{margin:0}.mdp-lost[_ngcontent-%COMP%]{margin:1vh 0}}",".login-container[_ngcontent-%COMP%]{padding:50px!important}.login-container[_ngcontent-%COMP%]   .titre[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-bottom:10px}.login-container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{float:none;margin:0 auto 10px}.login-container[_ngcontent-%COMP%]:not(.session-expire){display:flex;flex-direction:column;justify-content:space-between;position:relative;padding:80px!important;min-height:100vh}.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin:100px 0 5vh}.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:15px;color:var(--dark-primary-color);margin-top:5px}.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto}.login-container[_ngcontent-%COMP%]   #site-closed[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:20px;text-align:center}.form-box[_ngcontent-%COMP%]{flex:1}.form-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.form-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-bottom:4rem}.tel[_ngcontent-%COMP%]{margin:0}input[type=text].with-border[_ngcontent-%COMP%]{border:1px solid var(--dark-placeholder-color)}button[_ngcontent-%COMP%]:not(#show-password):not(.btn-link){margin:2vh 0;padding:10px;background:var(--light-primary-color)}#pb-connexion[_ngcontent-%COMP%]{position:absolute;left:-95px;top:41vh;padding:10px 20px;color:#000;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);background:#fff;box-shadow:0 5px 4px #00000080;text-transform:uppercase;font-size:13px;font-weight:700}#pb-connexion[_ngcontent-%COMP%]:hover{text-decoration:none;color:var(--dark-primary-color)}.info-container[_ngcontent-%COMP%]{position:relative;display:flex;min-height:100vh;background:-webkit-linear-gradient(var(--dark-primary-color) 0%,var(--light-primary-color) 100%);background:linear-gradient(var(--dark-primary-color) 0%,var(--light-primary-color) 100%)}.info-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto;text-align:center}.info-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;margin:0 100px 20px;font-size:20px;font-weight:300;color:#fff;text-align:left}.info-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.version-site[_ngcontent-%COMP%]{color:transparent}.app-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex}.app-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .app-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .25rem #fff!important;border-color:#fff!important}@media screen and (max-width: 1280px){.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin:0}}"],changeDetection:0});var ki=Qi;Di([qs("pseudo")],ki.prototype,"_pseudo",void 0);var Wf=()=>["fas","spinner"],ko=(()=>{let i=class i extends Ie(){constructor(n,r){super(),this.modalService=n,this.activatedRoute=r,this.appVersionCode=Ye.packageVersion,this.siteClosed=!1,this.redirEnCours=!1}ngOnInit(){this.activatedRoute.queryParamMap.pipe(q(n=>{this.accessTokenQR=n.has("at")?n.get("at"):void 0}),De(this._destroyRef)).subscribe()}openModalMentionsLegales(){let n={id:this.modalService.getModalsCount()+1,class:"modal-lg",initialState:{title:"Mentions l\xE9gales",injectComponentClass:Ki}};this.modalService.show(sn,n)}openModalAccessibilite(){let n={id:this.modalService.getModalsCount()+1,class:"modal-lg",initialState:{title:"",injectComponentClass:Tr}};this.modalService.show(sn,n)}openModalAideConnexion(){let n={id:this.modalService.getModalsCount()+1};this.modalService.show(_c,n)}onLoginError(n){(n.status===gt.CompteInvalide||n.status===gt.NotExported)&&(this.siteClosed=!0)}};i.\u0275fac=function(r){return new(r||i)(v(Fe),v(kt))},i.\u0275cmp=w({type:i,selectors:[["ed-login"]],standalone:!1,features:[Oe],decls:43,vars:7,consts:[["id","login",1,"container-fluid","no-padding"],[1,"row"],[1,"col-lg-4","col-md-5","login-container"],[1,"text-center"],["src","/assets/images/logoEcoleDirecte.png","alt","Logo du site EcoleDirecte"],["id","site-closed",1,"form-box",3,"hidden"],["id","outputbis",1,"animated","fadeInUp","alert","alert-danger"],[1,"form-text"],[1,"form-box","bottomSpace",3,"hidden"],["animation","spin-pulse","aria-hidden","true",3,"icon"],[1,"form-box",3,"loginError","redirEnCours","hidden","accessTokenQR"],["id","item-mentions"],["edModalFocusInit","","type","button",1,"btn","btn-link","focus-blue",3,"click"],["edModalFocusInit","","type","button",1,"btn","btn-link","focus-blue","ms-3",3,"click"],[1,"float-start","version-site"],[1,"col-lg-8","col-md-7","info-container"],["id","pb-connexion","edModalFocusInit","","type","button",1,"btn","btn-link","focus-black",3,"click"],[1,"autopromo"],[1,"list-inline","app-link","focus-white"],[1,"list-inline-item"],["href","https://play.google.com/store/apps/developer?id=Aplim","target","_blank"],["alt","Page Google play de l'application mobile EcoleDirecte","src","/assets/images/play-store.png"],["href","https://itunes.apple.com/fr/developer/aplim/id466797731","target","_blank"],["alt","Page App Store de l'application mobile EcoleDirecte","src","/assets/images/appstore.png"]],template:function(r,o){r&1&&(a(0,"main",0)(1,"div",1)(2,"div",2)(3,"div",3),g(4,"img",4),a(5,"h1"),u(6,"EcoleDirecte"),s()(),a(7,"div",5)(8,"h3",6),u(9," Ce site est "),g(10,"br"),u(11," actuellement ferm\xE9 "),s(),g(12,"br"),a(13,"p",7),u(14," Vous ne pouvez pas vous connecter pour le moment. "),g(15,"br"),u(16," Contactez votre \xE9tablissement pour plus d'informations. "),s()(),a(17,"div",8)(18,"h2"),u(19,"Redirection en cours"),s(),g(20,"fa-icon",9),s(),a(21,"ed-login-form",10),S("loginError",function(m){return o.onLoginError(m)})("redirEnCours",function(m){return o.redirEnCours=m}),s(),a(22,"div",11)(23,"button",12),S("click",function(){return o.openModalMentionsLegales()}),u(24,"Mentions l\xE9gales"),s(),a(25,"button",13),S("click",function(){return o.openModalAccessibilite()}),u(26,"Accessibilit\xE9"),s()(),a(27,"span",14),u(28),s()(),a(29,"div",15)(30,"button",16),S("click",function(){return o.openModalAideConnexion()}),u(31,"Probl\xE8me de connexion ?"),s(),a(32,"div",17)(33,"p")(34,"span"),u(35,"Retrouvez EcoleDirecte aussi sur votre mobile"),s()(),a(36,"ul",18)(37,"li",19)(38,"a",20),g(39,"img",21),s()(),a(40,"li",19)(41,"a",22),g(42,"img",23),s()()()()()()()),r&2&&(l(7),c("hidden",!o.siteClosed),l(10),c("hidden",o.siteClosed||!o.redirEnCours),l(3),c("icon",K(6,Wf)),l(),c("hidden",o.siteClosed||o.redirEnCours)("accessTokenQR",o.accessTokenQR),l(7),H("v",o.appVersionCode,""))},dependencies:[pe,Yn,ki],styles:[".login-container[_ngcontent-%COMP%]{padding:50px!important}.login-container[_ngcontent-%COMP%]   .titre[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-bottom:10px}.login-container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{float:none;margin:0 auto 10px}.login-container[_ngcontent-%COMP%]:not(.session-expire){display:flex;flex-direction:column;justify-content:space-between;position:relative;padding:80px!important;min-height:100vh}.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin:100px 0 5vh}.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:15px;color:var(--dark-primary-color);margin-top:5px}.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto}.login-container[_ngcontent-%COMP%]   #site-closed[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:20px;text-align:center}.form-box[_ngcontent-%COMP%]{flex:1}.form-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.form-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-bottom:4rem}.tel[_ngcontent-%COMP%]{margin:0}input[type=text].with-border[_ngcontent-%COMP%]{border:1px solid var(--dark-placeholder-color)}button[_ngcontent-%COMP%]:not(#show-password):not(.btn-link){margin:2vh 0;padding:10px;background:var(--light-primary-color)}#pb-connexion[_ngcontent-%COMP%]{position:absolute;left:-95px;top:41vh;padding:10px 20px;color:#000;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);background:#fff;box-shadow:0 5px 4px #00000080;text-transform:uppercase;font-size:13px;font-weight:700}#pb-connexion[_ngcontent-%COMP%]:hover{text-decoration:none;color:var(--dark-primary-color)}.info-container[_ngcontent-%COMP%]{position:relative;display:flex;min-height:100vh;background:-webkit-linear-gradient(var(--dark-primary-color) 0%,var(--light-primary-color) 100%);background:linear-gradient(var(--dark-primary-color) 0%,var(--light-primary-color) 100%)}.info-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto;text-align:center}.info-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;margin:0 100px 20px;font-size:20px;font-weight:300;color:#fff;text-align:left}.info-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.version-site[_ngcontent-%COMP%]{color:transparent}.app-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex}.app-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .app-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .25rem #fff!important;border-color:#fff!important}@media screen and (max-width: 1280px){.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin:0}}"]});let t=i;return t})();var bc=t=>({"has-error":t}),Cc=(()=>{let i=class i{constructor(n,r,o,d){this.authService=n,this.filtresAgendaEdtUserStore=r,this.router=o,this.uiService=d,this.provider="sso"}ngOnChanges(n){Object.isExists(this.identifiant)&&Object.isExists(this.password)&&this.associerCompte()}associerCompte(){this.authService.loginExterne(this.provider,this.token,{idSSOToken:this.idToken,identifiantSSO:this.identifiant,passwordSSO:this.password}).pipe(q(n=>{if(n===gt.OK)this.filtresAgendaEdtUserStore.reset(),this.router.navigate([this.cameFrom],{queryParams:{camefrom:null}}).catch(()=>console.error("AssociationSsoFormComponent navigate to cameFrom"));else if(n!==203)throw new jn("L'authentification ne peut pas \xEAtre assur\xE9e")}),ie(n=>(n.status===516?this.uiService.notifyEvent(Y.genericError,"Veuillez v\xE9rifier votre saisie","Identifiant/mot de passe invalide"):this.uiService.notifyEvent(Y.genericError,"Vous devez relancer la proc\xE9dure depuis le site d'origine","Association impossible"),ze))).subscribe()}};i.\u0275fac=function(r){return new(r||i)(v(Xe),v(mi),v(Q),v(ye))},i.\u0275cmp=w({type:i,selectors:[["ed-association-sso-form"]],inputs:{provider:"provider",token:"token",idToken:"idToken",cameFrom:"cameFrom",identifiant:"identifiant",password:"password"},standalone:!1,features:[Zi],decls:28,vars:9,consts:[["formAssociationCompte","ngForm"],["newIdentifiant","ngModel"],["newPassword","ngModel"],["name","formAssociationCompte","novalidate","",1,"alert","alert-dark",3,"ngSubmit"],[1,"modal-header"],[1,"modal-title"],[1,"modal-body"],[1,"row",3,"ngClass"],["for","newIdentifiant",1,"col-xl-4","col-form-label"],[1,"col-xl-4"],["id","newIdentifiant","name","newIdentifiant","type","text","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"form-text"],[1,"row","mt-2",3,"ngClass"],["for","newPassword",1,"col-xl-4","col-form-label"],[1,"col-xl-8"],["id","newPassword","name","newPassword","type","password","placeholder","","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"control-group","modal-footer"],[1,"controls","mt-2","w-100"],["type","submit","id","association",1,"btn","btn-success","float-end",3,"disabled"],[1,"clearfix"]],template:function(r,o){if(r&1){let d=L();a(0,"form",3,0),S("ngSubmit",function(){return D(d),F(o.associerCompte())}),a(2,"fieldset")(3,"div",4)(4,"h3",5),u(5,"Associez votre compte utilisateur EcoleDirecte"),s()(),a(6,"div",6)(7,"div",7)(8,"label",8),u(9,"Votre identifiant EcoleDirecte"),s(),a(10,"div",9)(11,"input",10,1),At("ngModelChange",function(p){return D(d),Pt(o.identifiant,p)||(o.identifiant=p),F(p)}),s(),a(13,"p",11),u(14,"Cet identifiant vous a \xE9t\xE9 fourni par votre \xE9tablissement scolaire"),s()()(),a(15,"div",12)(16,"label",13),u(17,"Mot de passe EcoleDirecte"),s(),a(18,"div",14)(19,"input",15,2),At("ngModelChange",function(p){return D(d),Pt(o.password,p)||(o.password=p),F(p)}),s(),a(21,"p",11),u(22,"Ce mot de passe vous a \xE9t\xE9 fourni par votre \xE9tablissement scolaire"),s()()()(),a(23,"div",16)(24,"div",17)(25,"button",18),u(26," Associer mon compte "),s(),g(27,"div",19),s()()()()}if(r&2){let d=re(1),m=re(12),p=re(20);l(7),c("ngClass",N(5,bc,m.invalid)),l(4),Mt("ngModel",o.identifiant),l(4),c("ngClass",N(7,bc,p.invalid&&!p.pristine)),l(4),Mt("ngModel",o.password),l(6),c("disabled",d.invalid||d.pristine)}},dependencies:[oe,ut,Yt,It,dt,Nn,Zt,wt],encapsulation:2,changeDetection:0});let t=i;return t})();var Xf=()=>["fas","spinner"];function Yf(t,i){t&1&&(a(0,"div",2),g(1,"fa-icon",3),u(2,` Veuillez patienter ...
`),s()),t&2&&(l(),c("icon",K(1,Xf)))}function Zf(t,i){if(t&1&&(a(0,"div",2)(1,"a",4),g(2,"img",5),s(),g(3,"br"),a(4,"alert",6)(5,"h5"),u(6,"Une erreur est survenue !"),s(),a(7,"p"),u(8,"L'authentification ne peut pas \xEAtre assur\xE9e"),s(),a(9,"strong"),u(10),s()(),a(11,"a",7),u(12,"Retour \xE0 la page d'accueil d'EcoleDirecte"),s()()),t&2){let e=h();l(4),c("dismissible",!0),l(6),k(e.erreurMessage)}}function eg(t,i){if(t&1&&(a(0,"div",8)(1,"div",9)(2,"div",10),g(3,"ed-association-sso-form",11),s()()()),t&2){let e=h();l(3),c("cameFrom",e.cameFrom)("provider",e.provider)("token",e.token)("idToken",e.idToken)("identifiant",e.dataAssociation.identifiant)("password",e.dataAssociation.password)}}var Oo=(()=>{let i=class i{constructor(n,r,o,d,m){this.authStore=n,this.authService=r,this.route=o,this.filtresAgendaEdtUserStore=d,this.router=m,this.displayAssociation=!1,this.dataAssociation={},this.token="",this.idToken=null}ngOnInit(){if(this.authStore.isLoggedIn()){this.router.navigate(["/"]).catch(()=>console.error("OAuthComponent navigate to /"));return}this.cameFrom=this.route.snapshot.queryParamMap.has("cameFrom")?this.route.snapshot.queryParamMap.get("cameFrom"):"/",this.provider=this.route.snapshot.paramMap.get("provider");let n=null;this.idToken=this.route.snapshot.paramMap.get("idToken"),this.route.snapshot.queryParamMap.has("token")?(this.token=this.route.snapshot.queryParamMap.get("token"),this.provider="ssoCharly"):this.route.snapshot.queryParamMap.has("atoken")?(this.token=this.route.snapshot.queryParamMap.get("atoken"),n=this.route.snapshot.queryParamMap.get("i"),this.provider="supervision"):this.route.snapshot.queryParamMap.has("idunique")&&(this.token=this.route.snapshot.queryParamMap.get("key"),this.idToken=this.route.snapshot.queryParamMap.get("idunique"),this.provider="sso"),this.authService.loginExterne(this.provider,this.token,{idSSOToken:this.idToken,i:n}).pipe(q(r=>{if(this.erreur=!1,r===gt.OK)this.filtresAgendaEdtUserStore.reset(),this.router.navigate([this.cameFrom],{queryParams:{camefrom:null}}).catch(()=>console.error("OAuthComponent navigate to cameFrom"));else if(r===203)this.displayAssociation=!0,this.idToken!==null&&this.idToken.split(";").length>3&&(this.dataAssociation.identifiant=this.idToken.split(";")[2],this.dataAssociation.password=this.idToken.split(";")[3]);else throw new jn("L'authentification ne peut pas \xEAtre assur\xE9e")}),ie(r=>(this.erreur=!0,this.erreurMessage=r.message,ze))).subscribe()}};i.\u0275fac=function(r){return new(r||i)(v(M),v(Xe),v(kt),v(mi),v(Q))},i.\u0275cmp=w({type:i,selectors:[["ed-oauth"]],standalone:!1,decls:3,vars:3,consts:[["class","jumbotron",4,"ngIf"],["class","ed-container",4,"ngIf"],[1,"jumbotron"],["animation","spin-pulse","aria-hidden","true",3,"icon"],["routerLink","/","href",""],["src","/assets/images/logoEcoleDirecte.png","alt","Logo du site EcoleDirecte","id","logoed"],["type","info",3,"dismissible"],["routerLink","/","href","",1,"btn","btn-primary",2,"text-transform","none"],[1,"ed-container"],[1,"row"],[1,"col-md-offset-2","col-lg-8"],[3,"cameFrom","provider","token","idToken","identifiant","password"]],template:function(r,o){r&1&&E(0,Yf,3,2,"div",0)(1,Zf,13,2,"div",0)(2,eg,4,6,"div",1),r&2&&(c("ngIf",!o.erreur&&!o.displayAssociation),l(),c("ngIf",o.erreur),l(),c("ngIf",o.displayAssociation))},dependencies:[G,ae,pe,Us,Cc],encapsulation:2});let t=i;return t})();var tg=t=>({"has-error":t}),ig=()=>["fas","question"],Sc=()=>["fas","lock"],ng=(t,i)=>({"has-error":t,"has-success":i}),rg=()=>["fas","user"];function og(t,i){if(t&1&&(a(0,"option",19),u(1),s()),t&2){let e=i.$implicit,n=h(2);c("value",e.idLogin),l(),H(" ",e.nomCompte+" "+e.prenomCompte+" ("+n.getTypePersonne(e.typeCompte)+" - "+e.libelleEtab+")"," ")}}function ag(t,i){if(t&1){let e=L();a(0,"div",14)(1,"div",15)(2,"h3",16),u(3,"Choisissez un \xE9tablissement pour modifier vos donn\xE9es de connexion"),s()(),a(4,"div",17)(5,"div",5)(6,"select",18),At("ngModelChange",function(r){D(e);let o=h();return Pt(o.searchIdLogin,r)||(o.searchIdLogin=r),F(r)}),S("change",function(){D(e);let r=h();return F(r.chooseCompte())}),a(7,"option",19),u(8,"S\xE9lectionnez un compte"),s(),E(9,og,2,2,"option",20),C(10,"trackByProperty"),s()()()()}if(t&2){let e=h();l(6),Mt("ngModel",e.searchIdLogin),l(),zt("value",0),l(2),c("ngForOf",e.recupLogin.comptes)("ngForTrackBy",x(10,4,"ogec"))}}function sg(t,i){if(t&1){let e=L();a(0,"div",21)(1,"div",15)(2,"div",22)(3,"div",5)(4,"form",23,0),S("ngSubmit",function(){D(e);let r=h();return F(r.giveInfo())}),a(6,"div",24)(7,"div",2)(8,"div",25),g(9,"label",26),C(10,"filterHtml"),a(11,"div",27)(12,"div",28)(13,"span",29),g(14,"fa-icon",30),s(),a(15,"input",31,1),At("ngModelChange",function(r){D(e);let o=h();return Pt(o.compteChoose.reponse,r)||(o.compteChoose.reponse=r),F(r)}),s()()()()(),g(17,"br"),a(18,"div",32),u(19," Merci de r\xE9pondre \xE0 la question secr\xE8te que vous avez compl\xE9t\xE9e lors de la modification de vos identifiants de premi\xE8re connexion. "),s(),g(20,"input",33),s()()()()()()}if(t&2){let e=re(5),n=re(16),r=h();l(8),c("ngClass",N(7,tg,n.invalid)),l(),c("innerHTML",x(10,5,r.compteChoose.questionSecrete),ue),l(5),c("icon",K(9,ig)),l(),Mt("ngModel",r.compteChoose.reponse),l(5),c("disabled",e.invalid||r.compteChoose.reponse==="")}}function lg(t,i){t&1&&(a(0,"div",37)(1,"label",51),u(2,"Choisissez un nom d'utilisateur"),s(),a(3,"div",39)(4,"div",28)(5,"span",29),g(6,"fa-icon",30),s(),g(7,"input",52),s(),a(8,"span",53),u(9,"Attention aux Majuscules/Minuscules"),s()()()),t&2&&(l(6),c("icon",K(1,rg)))}function cg(t,i){if(t&1&&(a(0,"span",54),u(1),s()),t&2){let e=h(2);l(),H(" ",e.getLibelleErreurMdp()," ")}}function dg(t,i){t&1&&(a(0,"span",54),u(1,"La longueur du mot de passe est limit\xE9e \xE0 50 caract\xE8res."),s())}function ug(t,i){if(t&1){let e=L();a(0,"div",14)(1,"div",15)(2,"h3",16),u(3,"Remplissez les informations suivantes pour modifier vos donn\xE9es de connexion"),s()(),a(4,"div",22)(5,"div",5)(6,"form",34),S("ngSubmit",function(){D(e);let r=h();return F(r.save())}),a(7,"div",35),E(8,lg,10,2,"div",36),g(9,"br"),a(10,"div",37)(11,"label",38),u(12,"Nouveau mot de passe"),s(),a(13,"div",39)(14,"div",28)(15,"span",29),g(16,"fa-icon",40),s(),g(17,"input",41),s(),g(18,"ed-password-strength-bar",42),s(),a(19,"val-errors",43),E(20,cg,2,1,"ng-template",44)(21,dg,2,0,"ng-template",45),s()()(),g(22,"br"),a(23,"div",46)(24,"label",47),u(25,"Confirmez votre nouveau mot de passe"),s(),a(26,"div",39)(27,"div",28)(28,"span",29),g(29,"fa-icon",40),s(),g(30,"input",48),s()()(),g(31,"br"),a(32,"a",49),u(33,"Retour \xE0 l'accueil"),s(),g(34,"input",50),s()()()()}if(t&2){let e=h();l(6),c("formGroup",e.formCompte),l(2),c("ngIf",e.recupLogin.typeReinit==="global"),l(8),c("icon",K(9,Sc)),l(2),c("controlToValidate",e.formCompte.controls.nouveauMotDePasse)("niveauMDP",e.compteChoose.niveauSecuriteMDPEtab),l(5),c("ngClass",ft(10,ng,e.formCompte.controls.nouveauMotDePasse.value!==""&&!e.mdpIdentiques()&&e.isPasswordTooLong,e.formCompte.controls.nouveauMotDePasse.value!==""&&e.mdpIdentiques()&&!e.isPasswordTooLong)),l(6),c("icon",K(13,Sc)),l(),c("compareWith",e.formCompte.controls.nouveauMotDePasse),l(4),c("disabled",e.formCompte.invalid)}}function mg(t,i){t&1&&(a(0,"div",55)(1,"div",15)(2,"h3",16),u(3,"Attention"),s()(),a(4,"div",22)(5,"div",5)(6,"h1"),u(7,"Cette demande de r\xE9initialisation a expir\xE9."),s(),a(8,"p"),u(9,"Veuillez recommencer la proc\xE9dure depuis la page d'accueil"),s(),a(10,"a",56),u(11,"Retour \xE0 l'accueil"),s()()()())}var xc=(()=>{let i=class i extends Ie(){constructor(n,r,o,d,m,p,f){super(),this.route=n,this.router=r,this.uiService=o,this.authService=d,this.recupLoginStore=m,this.loaderService=p,this.formBuilder=f,this.invalidKey=!1,this.etape=1,this.searchIdLogin=0,this.getTypePersonne=we.getTypePersonne,this.isPasswordTooLong=!1,this.formCompte=this.formBuilder.group({identifiant:new Dn("",Ri.required),nouveauMotDePasse:new Dn("",Ri.required),confirmationMotDePasse:new Dn("",Ri.required)}),this.formCompte.controls.nouveauMotDePasse.valueChanges.pipe(sa(500),q(_=>{this.isPasswordTooLong=this.mdpTooLong(),this.mdpIdentiques()?this.removeFormError(this.formCompte.controls.confirmationMotDePasse,"mdpIdentiques"):this.addFormError(this.formCompte.controls.confirmationMotDePasse,"mdpIdentiques")}),De(this._destroyRef)).subscribe()}ngOnInit(){this.recupLogin=new as(this.recupLoginStore.snapshot),this.recupLogin.typeReinit=this.route.snapshot.paramMap.get("typeReinit"),this.route.snapshot.queryParamMap.has("key")&&(this.recupLogin.key=this.route.snapshot.queryParamMap.get("key")),this.route.snapshot.queryParamMap.has("urlC")&&(this.recupLogin.urlC=this.route.snapshot.queryParamMap.get("urlC")),(Object.isExists(this.recupLogin.key)||Object.isExists(this.recupLogin.urlC))&&(this.loader=this.loaderService.show(this),this.authService.getInfosEtabWithSecretsQuestions(this.recupLogin).pipe(q(n=>{Object.isExists(n)&&(this.recupLogin.mailOrTel=n.mailOrTel,this.recupLogin.modeReception=n.modeReception,this.recupLogin.comptes=[...n.comptes],n.comptes.length===1&&this.chooseCompte(!0))}),ge(()=>this.loaderService.hide(this)),ie(n=>this.uiService.notifyErrorThenEmpty(n,!0,"Consultation"))).subscribe())}removeFormError(n,r){n.hasError(r)&&(delete n.errors[r],n.updateValueAndValidity())}addFormError(n,r){n.hasError(r)||n.setErrors(Ue(J({},n.errors),{[r]:!0}),{emitEvent:!0})}save(){if(!Object.isExists(this.recupLogin.urlC)&&!Object.isExists(this.recupLogin.key)||this.formCompte.invalid){this.uiService.notifyEvent(Y.genericError,"Impossible de mettre \xE0 jour vos identifants !","Modification de vos identifiants de connexion");return}this.formCompte.controls.nouveauMotDePasse.value!==""&&this.formCompte.controls.confirmationMotDePasse.value!==""&&(this.recupLogin.motDePasse=this.formCompte.controls.nouveauMotDePasse.value,this.recupLogin.motDePasseConfirm=this.formCompte.controls.confirmationMotDePasse.value),Object.isExists(this.formCompte.controls.identifiant)&&this.formCompte.controls.identifiant.value!==""&&(this.recupLogin.login=this.formCompte.controls.identifiant.value),this.loader=this.loaderService.show(this),this.authService.doReinitialisationPWD(this.recupLogin).pipe(ie(n=>(n.status===521&&(this.invalidKey=!0),this.loaderService.hide(this),this.uiService.notifyEvent(Y.genericError,n.status===521?"Cette demande de r\xE9initialisation a expir\xE9":n.message,"Modification de vos identifiants de connexion"),ze)),q(n=>{this.loaderService.hide(this),this.router.navigate(["/"],{queryParams:{}}).catch(()=>console.error("UpdateLoginComponent navigate to /")),this.uiService.notifyEvent(Y.genericSuccess,"Vos identifiants de connexion ont bien \xE9t\xE9 mis \xE0 jour !","Modification de vos identifiants de connexion")})).subscribe()}chooseCompte(n=!1){n?(this.etape=2,this.compteChoose=this.recupLogin.comptes[0]):(this.formCompte.patchValue({nouveauMotDePasse:"",confirmationMotDePasse:"",identifiant:""}),+this.searchIdLogin==0?this.etape=1:(this.compteChoose=this.recupLogin.comptes.find(r=>r.idLogin===+this.searchIdLogin),Object.isExists(this.compteChoose)&&this.compteChoose.questionSecrete!==""&&(this.etape=2)))}giveInfo(){this.compteChoose.reponse!==""&&(Object.isExists(this.compteChoose)&&(this.recupLogin.question=this.compteChoose.questionSecrete,this.recupLogin.reponse=this.compteChoose.reponse,this.recupLogin.ogec=this.compteChoose.ogecEtab,this.recupLogin.idLogin=this.compteChoose.idLogin),this.loader=this.loaderService.show(this),this.authService.doRecuperationMotDePasse(this.recupLogin).pipe(ie(n=>{let r=n.status===220?"Votre r\xE9ponse est incorrecte !":"Nous n'avons pas r\xE9ussi \xE0 vous identifier !";return this.uiService.notifyEvent(Y.genericError,r,"R\xE9cup\xE9ration de mot de passe"),this.etape=2,ze}),q(()=>{this.uiService.notifyEvent(Y.genericSuccess,"La r\xE9ponse est bonne!","R\xE9cup\xE9ration de mot de passe"),this.etape=3}),ge(()=>this.loaderService.hide(this))).subscribe())}mdpIdentiques(){return er.comparePwd(this.formCompte.controls.nouveauMotDePasse.value,this.formCompte.controls.confirmationMotDePasse.value)}mdpTooLong(){return this.formCompte.controls.nouveauMotDePasse.value.length>50}getLibelleErreurMdp(){return ji.getLibelleErreurMdp(this.compteChoose.niveauSecuriteMDPEtab)}};i.\u0275fac=function(r){return new(r||i)(v(kt),v(Q),v(ye),v(Xe),v(ss),v(Re),v(Ra))},i.\u0275cmp=w({type:i,selectors:[["ed-update-login"]],standalone:!1,features:[Oe],decls:15,vars:5,consts:[["formQuestionSecrete","ngForm"],["questionUser","ngModel"],[1,"row"],[1,"col-lg-6","mybodyleft"],[1,"col-lg-6","alignmiddle"],[1,"text-center"],[1,"login-container","recup-login",3,"cgBusy"],[1,"titre"],[1,"logo"],["src","/assets/images/logoEcoleDirecte.png","alt","Logo du site EcoleDirecte",1,"rounded-circle"],["class","card ed-card with-epingle",4,"ngIf"],["class","card",4,"ngIf"],["class","card","id","panel-error",4,"ngIf"],["id","bloc-bas"],[1,"card","ed-card","with-epingle"],[1,"card-header","text-center"],[1,"card-title"],[1,"card-body","margin-top-10"],["id","etablissement","name","chooseCompte",1,"form-control","form-select",3,"ngModelChange","change","ngModel"],[3,"value"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"card"],[1,"card-body"],["name","formQuestionSecrete","novalidate","",3,"ngSubmit"],[1,"ed-card","with-epingle"],[1,"control-group",3,"ngClass"],["for","question",1,"col-lg-11","center","form-label",3,"innerHTML"],[1,"col-lg-10","center"],[1,"input-group"],["aria-hidden","true",1,"input-group-text"],["aria-hidden","true",3,"icon"],["id","question","name","questionUser","type","text","placeholder","","required","",1,"form-control","question",3,"ngModelChange","ngModel"],["role","alert",1,"alert","alert-info"],["type","submit","value","Valider",1,"btn","btn-success",3,"disabled"],["name","formRecupGlobal","id","formRecupGlobal","novalidate","","autocomplete","off",3,"ngSubmit","formGroup"],[1,"row","center"],["class","control-group",4,"ngIf"],[1,"control-group"],["for","passwordUser",1,"col-lg-7","center","form-label"],[1,"col-lg-7","center"],[3,"icon"],["id","passwordUser","name","passwordUser","type","password","placeholder","","autocomplete","new-password","formControlName","nouveauMotDePasse","edMaxlength","50",1,"form-control"],[3,"controlToValidate","niveauMDP"],["controlName","nouveauMotDePasse"],["valError","niveau"],["valError","maxlength"],[3,"ngClass"],["for","passwordConfirmUser",1,"col-lg-7","center","form-label"],["id","passwordConfirmUser","name","passwordConfirmUser","type","password","placeholder","","formControlName","confirmationMotDePasse","edSamePasswordValidator","",1,"form-control",3,"compareWith"],["href","","routerLink","/login",1,"btn","btn-primary"],["type","submit","value","Valider",1,"btn","btn-primary","margin-whitespace",3,"disabled"],["for","username",1,"col-lg-7","center","form-label"],["id","username","name","username","type","text","placeholder","","formControlName","identifiant",1,"form-control"],[1,"form-text"],[1,"form-text","text-danger"],["id","panel-error",1,"card"],["href","","routerLink","/login",1,"btn","btn-primary","margin-top-20"]],template:function(r,o){r&1&&(a(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"div",6)(5,"div")(6,"h1",7),u(7,"EcoleDirecte"),s()(),a(8,"div",8),g(9,"img",9),s(),E(10,ag,11,6,"div",10)(11,sg,21,10,"div",11)(12,ug,35,14,"div",10)(13,mg,12,0,"div",12),g(14,"div",13),s()()()()()),r&2&&(l(4),c("cgBusy",o.loader),l(6),c("ngIf",!o.invalidKey&&o.etape>0&&o.recupLogin.comptes.length>1),l(),c("ngIf",!o.invalidKey&&o.etape>1&&(o.compteChoose==null?null:o.compteChoose.questionSecrete)!==""),l(),c("ngIf",!o.invalidKey&&o.etape>2),l(),c("ngIf",o.invalidKey))},dependencies:[oe,Ee,G,ut,Da,Fa,Yt,Oa,It,dt,Nn,Zt,wt,Fn,Rn,ae,pe,se,Gs,Hs,er,$s,Ks,Ve,be],styles:["div#panel-error[_ngcontent-%COMP%]{height:50vh}#bloc-bas[_ngcontent-%COMP%]{min-height:45vh}",".login-container[_ngcontent-%COMP%]{padding:50px!important}.login-container[_ngcontent-%COMP%]   .titre[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-bottom:10px}.login-container[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{float:none;margin:0 auto 10px}.login-container[_ngcontent-%COMP%]:not(.session-expire){display:flex;flex-direction:column;justify-content:space-between;position:relative;padding:80px!important;min-height:100vh}.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin:100px 0 5vh}.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:15px;color:var(--dark-primary-color);margin-top:5px}.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto}.login-container[_ngcontent-%COMP%]   #site-closed[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{padding:20px;text-align:center}.form-box[_ngcontent-%COMP%]{flex:1}.form-box[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.form-box[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-bottom:4rem}.tel[_ngcontent-%COMP%]{margin:0}input[type=text].with-border[_ngcontent-%COMP%]{border:1px solid var(--dark-placeholder-color)}button[_ngcontent-%COMP%]:not(#show-password):not(.btn-link){margin:2vh 0;padding:10px;background:var(--light-primary-color)}#pb-connexion[_ngcontent-%COMP%]{position:absolute;left:-95px;top:41vh;padding:10px 20px;color:#000;transform:rotate(-90deg);-webkit-transform:rotate(-90deg);background:#fff;box-shadow:0 5px 4px #00000080;text-transform:uppercase;font-size:13px;font-weight:700}#pb-connexion[_ngcontent-%COMP%]:hover{text-decoration:none;color:var(--dark-primary-color)}.info-container[_ngcontent-%COMP%]{position:relative;display:flex;min-height:100vh;background:-webkit-linear-gradient(var(--dark-primary-color) 0%,var(--light-primary-color) 100%);background:linear-gradient(var(--dark-primary-color) 0%,var(--light-primary-color) 100%)}.info-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin:auto;text-align:center}.info-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;margin:0 100px 20px;font-size:20px;font-weight:300;color:#fff;text-align:left}.info-container[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.version-site[_ngcontent-%COMP%]{color:transparent}.app-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex}.app-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus, .app-link[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus-visible{box-shadow:0 0 0 .25rem #fff!important;border-color:#fff!important}@media screen and (max-width: 1280px){.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin:0}}"]});let t=i;return t})();var Tc=(()=>{let i=class i{constructor(n){this.authStore=n}ngOnInit(){this.message="Vous n'avez pas les droits n\xE9cessaires pour consulter cette page.",(this.authStore.isModeSupervision()||this.authStore.isEphemere())&&(this.message="En mode supervision vous n'avez pas acc\xE8s \xE0 toutes les fonctions de l'utilisateur.")}};i.\u0275fac=function(r){return new(r||i)(v(M))},i.\u0275cmp=w({type:i,selectors:[["ed-access-denied"]],standalone:!1,decls:13,vars:1,consts:[[1,"ed-container","double-padding","page403"],[1,"entete-page"],[1,"container-bg","error-template"],[1,"error-details"],[1,"error-actions"],["routerLink","/",1,"btn","btn-primary","btn-lg"],["aria-hidden","true",1,"icon-ed_accueil"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"header",1)(2,"h2"),u(3,"Erreur 403"),s()(),a(4,"div",2)(5,"h3"),u(6,"Acc\xE8s non autoris\xE9"),s(),a(7,"div",3),u(8),s(),a(9,"div",4)(10,"a",5),g(11,"i",6),u(12," Accueil "),s()()()()),r&2&&(l(8),k(o.message))},dependencies:[ae],styles:[".error-template[_ngcontent-%COMP%]{padding:40px 15px;text-align:center}.error-actions[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.error-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:10px}"]});let t=i;return t})();var pg=["formEC"];function hg(t,i){if(t&1&&(a(0,"div")(1,"div",10)(2,"h5"),u(3,"Une erreur est survenue !"),s(),a(4,"p",11),u(5),s()(),a(6,"a",12),u(7,"Retour \xE0 la page d'accueil d'EcoleDirecte"),s()()),t&2){let e=h();l(5),k(e.errMessage)}}function fg(t,i){if(t&1&&g(0,"input",19),t&2){let e=h(2);zt("value",e.educonnect.relayState)}}function gg(t,i){if(t&1&&(a(0,"div",13)(1,"div",14)(2,"h2"),u(3," Je me connecte avec "),a(4,"b"),u(5,"EduConnect"),s()(),a(6,"form",15,0),C(8,"safe"),g(9,"input",16),E(10,fg,1,1,"input",17),a(11,"button",18),u(12,"S'identifier avec EduConnect"),s()()()()),t&2){let e=h();l(6),c("action",me(8,3,e.educonnect.action,"url"),ve),l(3),zt("value",e.educonnect.samlRequest),l(),c("ngIf",e.educonnect.relayState)}}var Mc=(()=>{let i=class i{constructor(n,r,o,d){this.authStore=n,this.authService=r,this.modalService=o,this.router=d}ngOnInit(){if(this.authStore.isLoggedIn()){this.router.navigate(["/"]).catch(()=>console.error("EduconnectComponent navigate to /"));return}this.loader=this.authService.educonnect().pipe(ie(n=>(n.status===235&&this.router.navigate(["/"]).catch(()=>console.error("EduconnectComponent navigate to /")),this.erreur=!0,this.educonnect=void 0,this.errMessage=`La redirection vers le site EduConnect ne peut pas \xEAtre r\xE9alis\xE9e ${n.message}`,ze)),q(n=>{this.educonnect=new qa(n),this.erreur=!1,setTimeout(()=>{Object.isExists(this.formECElement)&&this.formECElement.submit()},200)})).subscribe()}openModalMentionsLegales(){let n={id:this.modalService.getModalsCount()+1,class:"modal-lg",initialState:{title:"Mentions l\xE9gales",injectComponentClass:Ki}};this.modalService.show(sn,n)}};i.\u0275fac=function(r){return new(r||i)(v(M),v(Xe),v(Fe),v(Q))},i.\u0275cmp=w({type:i,selectors:[["ed-educonnect"]],viewQuery:function(r,o){if(r&1&&qt(pg,5),r&2){let d;Ht(d=Gt())&&(o.formECElement=d.first)}},standalone:!1,decls:13,vars:3,consts:[["formEC",""],[1,"ed-container","educonnect",3,"cgBusy"],[1,"jumbotron"],["routerLink","/","href",""],["src","/assets/images/logoEcoleDirecte.png","alt","Logo du site EcoleDirecte","id","logoed"],[4,"ngIf"],["class","row",4,"ngIf"],["id","item-mentions"],["edModalFocusInit","","type","button",1,"btn","btn-link",3,"click"],["href","https://educonnect.education.gouv.fr/educt-aide/aide/","target","_blank"],[1,"alert","alert-dismissable","alert-warning"],[2,"font-size","12px"],["routerLink","/","href","",1,"btn","btn-primary",2,"text-transform","none"],[1,"row"],[1,"offset-md-3","col-lg-6"],["id","formEC","name","educonnect","method","post","target","_self","novalidate","",3,"action"],["type","hidden","name","SAMLRequest",3,"value"],["type","hidden","name","RelayState",3,"value",4,"ngIf"],["type","submit",1,"btn","btn-info"],["type","hidden","name","RelayState",3,"value"]],template:function(r,o){r&1&&(a(0,"div",1)(1,"div",2)(2,"a",3),g(3,"img",4),s(),E(4,hg,8,1,"div",5),s(),E(5,gg,13,6,"div",6),a(6,"div",2)(7,"div",7)(8,"button",8),S("click",function(){return o.openModalMentionsLegales()}),u(9,"Mentions l\xE9gales"),s(),u(10," | "),a(11,"a",9),u(12,"Aide EduConnect"),s()()()()),r&2&&(c("cgBusy",o.loader),l(4),c("ngIf",o.erreur),l(),c("ngIf",!o.erreur))},dependencies:[G,ut,dt,wt,ae,se,Yn,Ps],styles:["h2[_ngcontent-%COMP%]{color:inherit}h2[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#ff0082}button[type=submit][_ngcontent-%COMP%]{margin:2vh 0;padding:10px;background:var(--light-primary-color)}.row[_ngcontent-%COMP%]{background:none;text-align:center;margin-top:-50px}"]});let t=i;return t})();var Do=(()=>{let i=class i{constructor(){}};i.\u0275fac=function(r){return new(r||i)},i.\u0275cmp=w({type:i,selectors:[["ed-not-found"]],standalone:!1,decls:13,vars:0,consts:[[1,"ed-container","double-padding","page404"],[1,"entete-page"],[1,"container-bg","error-template"],[1,"error-details"],[1,"error-actions"],["routerLink","/",1,"btn","btn-primary","btn-lg"],["aria-hidden","true",1,"icon-ed_accueil"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"header",1)(2,"h2"),u(3,"Erreur 404"),s()(),a(4,"div",2)(5,"h3"),u(6,"Oups !"),s(),a(7,"div",3),u(8,"La page que vous recherchez ne semble pas exister."),s(),a(9,"div",4)(10,"a",5),g(11,"i",6),u(12," Accueil "),s()()()())},dependencies:[ae],styles:[".error-template[_ngcontent-%COMP%]{padding:40px 15px;text-align:center}.error-actions[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px}.error-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-right:10px}"]});let t=i;return t})();var vg=(t,i)=>(i.isEntrepriseOuE()||i.isFouE())&&V.isModuleEnabled(i.currentUser,b.VIE_SCOLAIRE,t)?!0:i.isProfOuPersonnel()&&V.isModuleEnabled(i.currentUser,b.VIE_SCOLAIRE),Fo=(t,i)=>{let e=I(M),n=we.isNotEmptyString(t.path)?t.path.split("/"):[];if(n.indexOf(":typeEntity")!==-1&&(e.isEntrepriseOuE()||e.isFouE()))return!1;let o=0,d=n.indexOf(":typeUser");if(d!==-1&&i.length>d&&i[d].path===O.ELEVE&&(e.isFamille()||e.isEntreprise())){let p=n.indexOf(":idUser");p!==-1&&i.length>p&&(o=Number.parseInt(i[p].path,10))}return vg(o,e)};var Eg=(t,i)=>{if(i.isProfOuPersonnel()){if(V.isModuleEnabled(i.currentUser,b.CAHIER_DE_TEXTES))return!0}else if(V.isModuleEnabled(i.currentUser,b.VIE_DE_LA_CLASSE,t))return!0;return!1},Pc=(t,i)=>{let e=0,n=I(M),r=we.isNotEmptyString(t.path)?t.path.split("/"):[],o=r.indexOf(":typeEntity");if(o!==-1&&i.length>o&&i[o].path===O.ELEVE&&!n.isEleve()){let m=r.indexOf(":idEntity");m!==-1&&i.length>m&&(e=Number.parseInt(i[m].path,10))}return Eg(e,n)};var bg=(t,i)=>V.isModuleEnabled(i.currentUser,b.JOURNAL_DE_CLASSE,t),Ro=(t,i)=>{let e=0,n=I(M),r=we.isNotEmptyString(t.path)?t.path.split("/"):[],o=r.indexOf(":typeEntity");if(o!==-1&&i.length>o&&i[o].path===O.ELEVE&&!n.isEleve()){let m=r.indexOf(":idEntity");m!==-1&&i.length>m&&(e=Number.parseInt(i[m].path,10))}return bg(e,n)};var Ac=new Be("externalUrlRedirectResolver"),Sg=[{path:"",pathMatch:"full",redirectTo:"Accueil"},{path:"",component:uc,children:[{path:"login",component:ko,title:"Connexion"},{path:"logout",canActivate:[Kl],component:ko,title:"D\xE9connexion"},{path:"changementMotDePasse/:typeReinit",component:xc,title:"MAJ compte"},{path:"oauth/:provider/:token",redirectTo:"oauth/:provider/:token/",pathMatch:"full"},{path:"oauth/:provider/:token/:idToken",component:Oo},{path:"educonnect",component:Mc,title:"Connexion Educonnect"},{path:"externalRedirect",canActivate:[Ac],component:Do,title:"Page non trouv\xE9e"},{path:"loginExterne",component:Oo,title:"Connexion tierce"},{path:"visioconference/:vid",title:"Visio conf\xE9rence",loadChildren:()=>import("./chunk-PNGIW4WO.js").then(t=>t.VisioconferenceModule)}]},{path:"",canActivate:[vs],component:vc,resolve:{etablissementStoreReady:ys},runGuardsAndResolvers:"always",children:[{path:"403",component:Tc,title:"Acc\xE8s refus\xE9"},{path:"404",component:Do,title:"Page non trouv\xE9e"},{path:"about",component:Ki,title:"\xC0 propos"},{path:"accessibilite",component:Tr,title:"Accessibilit\xE9"},{path:"Accueil",component:dc,title:"Accueil"},{path:"Eleves/:idUser",canActivate:[ql],component:ic,title:"Accueil \xE9l\xE8ve"},{path:"Enseignant",canActivate:[jl],component:oc,title:"Accueil enseignant"},{path:"Famille",canActivate:[Hl],component:lc,title:"Accueil famille"},{path:"Personnel",canActivate:[Gl],component:cc,title:"Accueil personnel"},{path:"Entreprise",canActivate:[zl],component:sc,title:"Accueil entreprise"},{path:"Classes/:idEntity/CarnetDeNotes",redirectTo:"C/:idEntity/ConseilDeClasse",pathMatch:"full"},{path:"Eleves/:idUser/Notes",redirectTo:"E/:idUser/Notes",pathMatch:"full"},{path:"Enseignant/Appel",redirectTo:"Appel",pathMatch:"full"},{path:":typeEntity/AppelEtude",redirectTo:"AppelEtude",pathMatch:"full"},{path:":typeEntity/AppelPrimaire",redirectTo:"AppelPrimaire",pathMatch:"full"},{path:"Eleves/:idEntity/EmploiDuTemps",redirectTo:"E/:idEntity/EmploiDuTemps",pathMatch:"full"},{path:"Enseignants/:idEntity/EmploiDuTemps",redirectTo:"P/:idEntity/EmploiDuTemps"},{path:"Eleves/:idUser/VieScolaire",redirectTo:"E/:idUser/VieScolaire",pathMatch:"full"},{path:"Eleve/Documents",redirectTo:"Documents",pathMatch:"full"},{path:"Famille/Documents",redirectTo:"Documents",pathMatch:"full"},{path:"Adulte/Documents",redirectTo:"Documents",pathMatch:"full"},{path:"Eleves/:idUser/ReunionParentProf",redirectTo:"E/:idUser/RPP",pathMatch:"full"},{path:"Enseignants/:idUser/RPP",redirectTo:"P/:idUser/RPP",pathMatch:"full"},{path:"Famille/FamilleCoordonnees",redirectTo:"F/FamilleCoordonnees",pathMatch:"full"},{path:"Eleves/:idEntity/CahierDeTexte",redirectTo:"E/:idEntity/CahierDeTexte",pathMatch:"full"},{path:"CahierDeTextePrimaire",redirectTo:"CahierDeTexte",pathMatch:"full"},{path:"Aides",canMatch:[U],loadChildren:()=>import("./chunk-YEEAIGWJ.js").then(t=>t.AidesEnLigneModule)},{path:"Appel",canMatch:[U,W],data:{accessModules:[b.APPEL]},loadChildren:()=>import("./chunk-W77S2L5V.js").then(t=>t.AppelModule)},{path:"AppelEtude",canMatch:[U,W],data:{accessModules:[b.APPEL_ETUDE],guardTypes:[O.ENSEIGNANT,O.PERSONNEL]},loadChildren:()=>import("./chunk-VSQSG2QN.js").then(t=>t.AppelEtudeModule)},{path:"AppelPrimaire",canMatch:[U,W],data:{accessModules:[b.APPEL_PRIMAIRE],guardTypes:[O.ENSEIGNANT,O.PERSONNEL]},loadChildren:()=>import("./chunk-K6434UOS.js").then(t=>t.AppelPrimaireModule)},{path:"CahierDeTexte",canMatch:[U,W],data:{accessModules:[b.CAHIER_DE_TEXTES],guardTypes:[O.ENSEIGNANT]},loadChildren:()=>import("./chunk-HBFD6YMT.js").then(t=>t.CahierDeTexteModule)},{path:":typeEntity/:idEntity/CahierDeTexte",canMatch:[U,W],data:{accessModules:[b.CAHIER_DE_TEXTES],checkByPath:!0},loadChildren:()=>import("./chunk-HBFD6YMT.js").then(t=>t.CahierDeTexteModule)},{path:":typeEntity/:idEntity/E/:idEleve/CahierDeTexte",canMatch:[U,W],data:{accessModules:[b.CAHIER_DE_TEXTES],checkByPath:!0,guardTypes:[O.ENSEIGNANT,O.PERSONNEL]},loadChildren:()=>import("./chunk-HBFD6YMT.js").then(t=>t.CahierDeTexteModule)},{path:"CarnetDeNotes",canMatch:[U,W],data:{accessModules:[b.CARNET_NOTES]},loadChildren:()=>import("./chunk-GJBVTTB3.js").then(t=>t.CarnetDeNotesModule)},{path:"contactEtablissement",canMatch:[U],loadChildren:()=>import("./chunk-XJNYAOYB.js").then(t=>t.ContactEtablissementModule)},{path:"ConseilDeClasse",canMatch:[U,W],data:{accessModules:[b.CONSEIL_DE_CLASSE_NG]},loadChildren:()=>import("./chunk-ZCARWJLU.js").then(t=>t.ConseilDeClasseModule)},{path:"C/:idEntity/ConseilDeClasse",canMatch:[U,W],data:{accessModules:[b.CONSEIL_DE_CLASSE_NG]},loadChildren:()=>import("./chunk-ZCARWJLU.js").then(t=>t.ConseilDeClasseModule)},{path:"Consultation",canMatch:[U,W],data:{accessModules:[b.CONSULTATION_ETABLISSEMENT],guardTypes:[O.ENSEIGNANT,O.PERSONNEL]},loadChildren:()=>import("./chunk-VIAWW5P3.js").then(t=>t.ConsultationClassesModule)},{path:"groupesFlexibles",canMatch:[U,W],data:{accessModules:[b.GROUPE_FLEX]},loadChildren:()=>import("./chunk-WS5W6VWV.js").then(t=>t.GroupesFlexiblesModule)},{path:"F/DossierInscription",canMatch:[U,W],data:{accessModules:[b.DOSSIER_INSCRIPTION],guardTypes:[O.FAMILLE_RESPONSABLE,O.FAMILLE_CONJOINT]},loadChildren:()=>import("./chunk-JQJVYW5T.js").then(t=>t.DossierInscriptionModule)},{path:"F/FamilleCoordonnees",canMatch:[U,W],data:{accessModules:[b.COORDONNEES],guardTypes:[O.FAMILLE_RESPONSABLE,O.FAMILLE_CONJOINT]},loadChildren:()=>import("./chunk-JKMEQSSN.js").then(t=>t.CoordonneesFamilleModule)},{path:"LSL",canMatch:[U,W],data:{accessModules:[b.LSL]},loadChildren:()=>import("./chunk-TFGSMRBU.js").then(t=>t.LSLModule)},{path:"PassageWeb",canMatch:[U,W],data:{accessModules:[b.PASSAGEWEB],guardTypes:[O.PERSONNEL]},loadChildren:()=>import("./chunk-36GFLUBI.js").then(t=>t.PassagesWebModule)},{path:"Postits",canMatch:[U,W],data:{accessModules:[b.POSTIT]},loadChildren:()=>import("./chunk-RGHYGP6X.js").then(t=>t.PostitsModule)},{path:"utilisateur",canMatch:[U],loadChildren:()=>import("./chunk-OO4JYCL5.js").then(t=>t.ComptesUtilisateurModule)},{path:"retourPaiement/:code",canMatch:[U],loadChildren:()=>import("./chunk-DPB6TLQS.js").then(t=>t.RetourPaiementModule)},{path:":typeUser/:idUser/Activites",canMatch:[U,W],data:{accessModules:[b.COMMANDE_PASSAGE,b.RESERVATIONS],checkByPath:!0,guardTypes:[O.FAMILLE_RESPONSABLE,O.FAMILLE_CONJOINT,O.ELEVE],hasRedirectModuleRoute:!0},loadChildren:()=>import("./chunk-CF3I2MXX.js").then(t=>t.ActivitesModule)},{path:":typeEntity/:idEntity/Agenda",canMatch:[U],loadChildren:()=>import("./chunk-OMFHRDUY.js").then(t=>t.AgendaModule)},{path:":typeUser/:idUser/CarnetCorrespondance",title:"Carnet de correspondance",canMatch:[U,W,hn],data:{accessModules:[b.CARNET_CORRESPONDANCE],checkByPath:!0,hasRedirectModuleRoute:!0},loadChildren:()=>import("./chunk-SIRNQ443.js").then(t=>t.CarnetCorrespondanceModule)},{path:":typeEntity/:idEntity/:typeUser/:idUser/CarnetCorrespondance",canMatch:[U,hn],title:"Carnet de correspondance",loadChildren:()=>import("./chunk-SIRNQ443.js").then(t=>t.CarnetCorrespondanceModule)},{path:":typeUser/:idUser/CahierLiaison",title:"Cahier de liaison",canMatch:[U,W,hn],data:{accessModules:[b.CARNET_CORRESPONDANCE],checkByPath:!0,hasRedirectModuleRoute:!0},loadChildren:()=>import("./chunk-SIRNQ443.js").then(t=>t.CarnetCorrespondanceModule)},{path:":typeEntity/:idEntity/:typeUser/:idUser/CahierLiaison",canMatch:[U,hn],title:"Cahier de liaison",loadChildren:()=>import("./chunk-SIRNQ443.js").then(t=>t.CarnetCorrespondanceModule)},{path:"Compte",canMatch:[U,W],data:{accessModules:[b.SITUATION_FINANCIERE]},loadChildren:()=>import("./chunk-U4NW7TQ5.js").then(t=>t.FinanceModule)},{path:"Paiements",canMatch:[U,W],data:{accessModules:[b.PAIEMENT_EN_LIGNE]},loadChildren:()=>import("./chunk-7PESH2TZ.js").then(t=>t.PaiementEnLigneModule)},{path:":typeEntity/:idEntity/E/:idEleve/CoordonneesFamille",canMatch:[$l],loadChildren:()=>import("./chunk-RDFARHA5.js").then(t=>t.ConsultationCoordonneesFamilleModule)},{path:"E/:idEleve/CoordonneesFamille",canMatch:[U],data:{guardTypes:[O.ENTREPRISE]},loadChildren:()=>import("./chunk-RDFARHA5.js").then(t=>t.ConsultationCoordonneesFamilleModule)},{path:"Documents",canMatch:[U],loadChildren:()=>import("./chunk-RQ5FBZ3N.js").then(t=>t.DocumentsModule)},{path:":typeEntity/:idEntity/editions",canMatch:[U],loadChildren:()=>import("./chunk-CJKOIDDO.js").then(t=>t.EditionsModule)},{path:":typeEntity/:idEntity/E/:idEleve/EmploiDuTemps",canMatch:[U,W],data:{accessModules:[b.EDT]},loadChildren:()=>import("./chunk-DRMFZ7DH.js").then(t=>t.EmploiDuTempsModule)},{path:":typeEntity/:idEntity/EmploiDuTemps",canMatch:[U,W],data:{accessModules:[b.EDT],checkByPath:!0},loadChildren:()=>import("./chunk-DRMFZ7DH.js").then(t=>t.EmploiDuTempsModule)},{path:":typeUser/:idUser/SalleDesProfs",canMatch:[U],data:{guardTypes:[O.ENSEIGNANT,O.PERSONNEL]},loadChildren:()=>import("./chunk-BEELOK3A.js").then(t=>t.EspacesTravailModule)},{path:":typeUser/:idUser/EspacesTravail",canMatch:[U],data:{accessModules:[b.CLOUD,b.SALLE_DES_PROFS],checkByPath:!0},loadChildren:()=>import("./chunk-BEELOK3A.js").then(t=>t.EspacesTravailModule)},{path:":typeUser/:idUser/Messagerie",canMatch:[U,W],data:{accessModules:[b.MESSAGERIE],checkByPath:!1},loadChildren:()=>import("./chunk-VWX2675J.js").then(t=>t.MessagerieModule)},{path:":typeEntity/:idEntity/:typeUser/:idUser/MonCloud",canMatch:[U,W],data:{accessModules:[b.CLOUD]},loadChildren:()=>import("./chunk-VBVOFFNH.js").then(t=>t.CloudModule)},{path:":typeUser/:idUser/MonCloud",canMatch:[U,W],data:{accessModules:[b.CLOUD],checkByPath:!0},loadChildren:()=>import("./chunk-VBVOFFNH.js").then(t=>t.CloudModule)},{path:":typeUser/:idUser/RPP",canMatch:[U,W],data:{accessModules:[b.REUNIONS_PP],checkByPath:!0,guardTypes:[O.FAMILLE_RESPONSABLE,O.FAMILLE_CONJOINT,O.ENSEIGNANT]},loadChildren:()=>import("./chunk-GUDUFUA7.js").then(t=>t.RPPModule)},{path:"Stages",canMatch:[U,W],data:{accessModules:[b.SUIVI_STAGE]},loadChildren:()=>import("./chunk-HOZBZ7MG.js").then(t=>t.SuiviStageModule)},{path:":typeEntity/:idEntity/stages",canMatch:[U,W],data:{accessModules:[b.SUIVI_STAGE],checkByPath:!0},loadChildren:()=>import("./chunk-HOZBZ7MG.js").then(t=>t.SuiviStageModule)},{path:":typeEntity/:idEntity/VieDeLaClasse",canMatch:[U,Pc,W],data:{accessModules:[b.VIE_DE_LA_CLASSE,b.CAHIER_DE_TEXTES],checkByPath:!0},loadChildren:()=>import("./chunk-7I2FFRBA.js").then(t=>t.VieDeLaClasseModule)},{path:":typeEntity/:idEntity/:typeUser/:idUser/VieScolaire",canMatch:[U,Fo,W],data:{accessModules:[b.VIE_SCOLAIRE]},loadChildren:()=>import("./chunk-AGEZVN3W.js").then(t=>t.VieScolaireModule)},{path:":typeUser/:idUser/VieScolaire",canMatch:[U,Fo],loadChildren:()=>import("./chunk-AGEZVN3W.js").then(t=>t.VieScolaireModule)},{path:":typeUser/:idUser/Commandes",canMatch:[U,W],data:{accessModules:[b.COMMANDE_PASSAGE,b.RESERVATIONS],checkByPath:!0,guardTypes:[O.ENSEIGNANT,O.PERSONNEL]},loadChildren:()=>import("./chunk-X3I5OEEX.js").then(t=>t.CommandesPassageModule)},{path:"CompetencesNumeriques",canMatch:[U,W],data:{accessModules:[b.COMP_NUM],guardTypes:[O.ENSEIGNANT,O.PERSONNEL]},loadChildren:()=>import("./chunk-GAQVQ4QR.js").then(t=>t.CompetencesNumeriquesModule)},{path:":typeUser/:idUser/qcms",canMatch:[U,W],data:{accessModules:[b.QCM],guardTypes:[O.ENSEIGNANT,O.FAMILLE_CONJOINT,O.FAMILLE_RESPONSABLE,O.ELEVE]},loadChildren:()=>import("./chunk-EUSXLWN6.js").then(t=>t.QCMModule)},{path:":typeUser/:idUser/formulaires-et-sondages",canMatch:[U,W],data:{accessModules:[b.EDFORMS]},loadChildren:()=>import("./chunk-ZFTYR6HR.js").then(t=>t.EDFormsModule)},{path:"E/:idUser/Notes",canMatch:[U,W],data:{accessModules:[b.NOTES],checkByPath:!0},loadChildren:()=>import("./chunk-5K25XXYA.js").then(t=>t.NotesModule)},{path:":typeEntity/:idEntity/E/:idUser/Notes",canMatch:[U],loadChildren:()=>import("./chunk-5K25XXYA.js").then(t=>t.NotesModule)},{path:":typeUser/:idUser/ManuelsScolaires",canMatch:[U,W],data:{accessModules:[b.MANUELS_SCOLAIRES],checkByPath:!0},loadChildren:()=>import("./chunk-6PFCOSS3.js").then(t=>t.ManuelsScolairesModule)},{path:"ManuelsScolaires",canMatch:[U,W],data:{accessModules:[b.MANUELS_SCOLAIRES],guardTypes:[O.ENSEIGNANT]},loadChildren:()=>import("./chunk-6PFCOSS3.js").then(t=>t.ManuelsScolairesModule)},{path:":typeUser/:idUser/rendez-vous",canMatch:[U],loadChildren:()=>import("./chunk-3WSYO7PL.js").then(t=>t.RDVModule)},{path:":typeEntity/:idEntity/:typeUser/:idUser/JournalDeClasse",canMatch:[U,Ro],data:{guardTypes:[O.ENSEIGNANT,O.PERSONNEL]},loadChildren:()=>import("./chunk-34GEZ2Y2.js").then(t=>t.JournalDeClasseModule)},{path:":typeEntity/:idEntity/JournalDeClasse",canMatch:[U,Ro],data:{guardTypes:[O.ENSEIGNANT,O.PERSONNEL,O.FAMILLE_CONJOINT,O.FAMILLE_RESPONSABLE,O.ELEVE]},loadChildren:()=>import("./chunk-34GEZ2Y2.js").then(t=>t.JournalDeClasseModule)},{path:"CahierJournal",canMatch:[U,W],data:{accessModules:[b.CAHIER_JOURNAL],guardTypes:[O.ENSEIGNANT]},loadChildren:()=>import("./chunk-TI4OYDIK.js").then(t=>t.CahierJournalModule)},{path:"EmargementCFA",canMatch:[U,W],data:{accessModules:[b.EMARGEMENT_CFA],guardTypes:[O.ENSEIGNANT,O.ELEVE]},loadChildren:()=>import("./chunk-DEYUDKMR.js").then(t=>t.EmargementCfaModule)},{path:":typeUser/:idUser/mes-applis",canMatch:[U],loadChildren:()=>import("./chunk-I4I7YUBL.js").then(t=>t.HubModule)}]},{path:"repondre-au-qcm",outlet:"auxiliaryModal",canMatch:[U],data:{guardTypes:[O.ENSEIGNANT,O.FAMILLE_CONJOINT,O.FAMILLE_RESPONSABLE,O.ELEVE]},loadChildren:()=>import("./chunk-BA5PLDE7.js").then(t=>t.QcmRepondreModule)},{path:"repondre-au-fs",outlet:"auxiliaryModal",canMatch:[U],loadChildren:()=>import("./chunk-OLZK43DQ.js").then(t=>t.EDFormsRepondreModule)},{path:"open-message",outlet:"auxiliaryModal",canMatch:[U],loadChildren:()=>import("./chunk-P4CTVPC4.js").then(t=>t.MessagerieViewMessageModule)},{path:"**",redirectTo:"/Accueil"}],Ic=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=xe({type:i}),i.\u0275inj=Se({providers:[{provide:Ac,useValue:n=>{window.location.href=n.paramMap.get("externalUrl")}},{provide:Un,useClass:Ql}],imports:[Br.forRoot(Sg,{onSameUrlNavigation:"reload",scrollPositionRestoration:"disabled",anchorScrolling:"disabled",enableTracing:!1}),Br]});let t=i;return t})();var wc=["toast-component",""];function xg(t,i){if(t&1){let e=L();a(0,"button",5),S("click",function(){D(e);let r=h();return F(r.remove())}),a(1,"span",6),u(2,"\xD7"),s()()}}function Tg(t,i){if(t&1&&(le(0),u(1),ce()),t&2){let e=h(2);l(),H("[",e.duplicatesCount+1,"]")}}function Mg(t,i){if(t&1&&(a(0,"div"),u(1),E(2,Tg,2,1,"ng-container",4),s()),t&2){let e=h();qe(e.options.titleClass),_e("aria-label",e.title),l(),H(" ",e.title," "),l(),c("ngIf",e.duplicatesCount)}}function Pg(t,i){if(t&1&&g(0,"div",7),t&2){let e=h();qe(e.options.messageClass),c("innerHTML",e.message,ue)}}function Ag(t,i){if(t&1&&(a(0,"div",8),u(1),s()),t&2){let e=h();qe(e.options.messageClass),_e("aria-label",e.message),l(),H(" ",e.message," ")}}function Ig(t,i){if(t&1&&(a(0,"div"),g(1,"div",9),s()),t&2){let e=h();l(),jt("width",e.width()+"%")}}function wg(t,i){if(t&1){let e=L();a(0,"button",5),S("click",function(){D(e);let r=h();return F(r.remove())}),a(1,"span",6),u(2,"\xD7"),s()()}}function kg(t,i){if(t&1&&(le(0),u(1),ce()),t&2){let e=h(2);l(),H("[",e.duplicatesCount+1,"]")}}function Og(t,i){if(t&1&&(a(0,"div"),u(1),E(2,kg,2,1,"ng-container",4),s()),t&2){let e=h();qe(e.options.titleClass),_e("aria-label",e.title),l(),H(" ",e.title," "),l(),c("ngIf",e.duplicatesCount)}}function Dg(t,i){if(t&1&&g(0,"div",7),t&2){let e=h();qe(e.options.messageClass),c("innerHTML",e.message,ue)}}function Fg(t,i){if(t&1&&(a(0,"div",8),u(1),s()),t&2){let e=h();qe(e.options.messageClass),_e("aria-label",e.message),l(),H(" ",e.message," ")}}function Rg(t,i){if(t&1&&(a(0,"div"),g(1,"div",9),s()),t&2){let e=h();l(),jt("width",e.width()+"%")}}var kc=(()=>{class t{el;constructor(e){this.el=e}getContainerElement(){return this.el.nativeElement}static \u0275fac=function(n){return new(n||t)(v(en))};static \u0275dir=Ur({type:t,selectors:[["","toastContainer",""]],exportAs:["toastContainer"]})}return t})(),No=class{_attachedHost;component;viewContainerRef;injector;constructor(i,e){this.component=i,this.injector=e}attach(i,e){return this._attachedHost=i,i.attach(this,e)}detach(){let i=this._attachedHost;if(i)return this._attachedHost=void 0,i.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},Uo=class{_attachedPortal;_disposeFn;attach(i,e){return this._attachedPortal=i,this.attachComponentPortal(i,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(i){this._disposeFn=i}},Lo=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Tt;_activate=new Tt;_manualClose=new Tt;_resetTimeout=new Tt;_countDuplicate=new Tt;constructor(i){this._overlayRef=i}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(i,e){i&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},Wi=class{toastId;config;message;title;toastType;toastRef;_onTap=new Tt;_onAction=new Tt;constructor(i,e,n,r,o,d){this.toastId=i,this.config=e,this.message=n,this.title=r,this.toastType=o,this.toastRef=d,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(i){this._onAction.next(i)}onAction(){return this._onAction.asObservable()}},Oc={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},jo=new Be("ToastConfig"),Bo=class extends Uo{_hostDomElement;_componentFactoryResolver;_appRef;constructor(i,e,n){super(),this._hostDomElement=i,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(i,e){let n=this._componentFactoryResolver.resolveComponentFactory(i.component),r;return r=n.create(i.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(i){return i.hostView.rootNodes[0]}},Ng=(()=>{class t{_document=I($t);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(n){return new(n||t)};static \u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Vo=class{_portalHost;constructor(i){this._portalHost=i}attach(i,e=!0){return this._portalHost.attach(i,e)}detach(){return this._portalHost.detach()}},Ug=(()=>{class t{_overlayContainer=I(Ng);_componentFactoryResolver=I(ha);_appRef=I(Mn);_document=I($t);_paneElements=new Map;create(e,n){return this._createOverlayRef(this.getPaneElement(e,n))}getPaneElement(e="",n){return this._paneElements.get(n)||this._paneElements.set(n,{}),this._paneElements.get(n)[e]||(this._paneElements.get(n)[e]=this._createPaneElement(e,n)),this._paneElements.get(n)[e]}_createPaneElement(e,n){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),n?n.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new Bo(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new Vo(this._createPortalHost(e))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Ji=(()=>{class t{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,n,r,o,d){this.overlay=n,this._injector=r,this.sanitizer=o,this.ngZone=d,this.toastrConfig=J(J({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=J(J({},e.default.iconClasses),e.config.iconClasses))}show(e,n,r={},o=""){return this._preBuildNotification(o,e,n,this.applyConfig(r))}success(e,n,r={}){let o=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}error(e,n,r={}){let o=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}info(e,n,r={}){let o=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}warning(e,n,r={}){let o=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(o,e,n,this.applyConfig(r))}clear(e){for(let n of this.toasts)if(e!==void 0){if(n.toastId===e){n.toastRef.manualClose();return}}else n.toastRef.manualClose()}remove(e){let n=this._findToast(e);if(!n||(n.activeToast.toastRef.close(),this.toasts.splice(n.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",n="",r,o){let{includeTitleDuplicates:d}=this.toastrConfig;for(let m of this.toasts){let p=d&&m.title===e;if((!d||p)&&m.message===n)return m.toastRef.onDuplicate(r,o),m}return null}applyConfig(e={}){return J(J({},this.toastrConfig),e)}_findToast(e){for(let n=0;n<this.toasts.length;n++)if(this.toasts[n].toastId===e)return{index:n,activeToast:this.toasts[n]};return null}_preBuildNotification(e,n,r,o){return o.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,n,r,o)):this._buildNotification(e,n,r,o)}_buildNotification(e,n,r,o){if(!o.toastComponent)throw new Error("toastComponent required");let d=this.findDuplicate(r,n,this.toastrConfig.resetTimeoutOnDuplicate&&o.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||n)&&this.toastrConfig.preventDuplicates&&d!==null)return d;this.previousToastMessage=n;let m=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(m=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let p=this.overlay.create(o.positionClass,this.overlayContainer);this.index=this.index+1;let f=n;n&&o.enableHtml&&(f=this.sanitizer.sanitize(Nr.HTML,n));let _=new Lo(p),y=new Wi(this.index,o,f,r,e,_),T=[{provide:Wi,useValue:y}],P=Sn.create({providers:T,parent:this._injector}),A=new No(o.toastComponent,P),j=p.attach(A,o.newestOnTop);_.componentInstance=j.instance;let ee={toastId:this.index,title:r||"",message:n||"",toastRef:_,onShown:_.afterActivate(),onHidden:_.afterClosed(),onTap:y.onTap(),onAction:y.onAction(),portal:j};return m||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ee.toastRef.activate()})),this.toasts.push(ee),ee}static \u0275fac=function(n){return new(n||t)(X(jo),X(Ug),X(Sn),X(wa),X(Ci))};static \u0275prov=he({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lg=(()=>{class t{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=tn(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,r){this.toastrService=e,this.toastPackage=n,this.ngZone=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o}),this.state=tn({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>Ue(J({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>Ue(J({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>Ue(J({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),n)):this.timeout=setTimeout(()=>e(),n)}outsideInterval(e,n){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),n)):this.intervalId=setInterval(()=>e(),n)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(n){return new(n||t)(v(Ji),v(Wi),v(Ci))};static \u0275cmp=w({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(n,r){n&1&&S("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(_a("@flyInOut",r._state),qe(r.toastClasses),jt("display",r.displayStyle))},attrs:wc,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&E(0,xg,3,0,"button",0)(1,Mg,3,5,"div",1)(2,Pg,1,3,"div",2)(3,Ag,2,4,"div",3)(4,Ig,2,2,"div",4),n&2&&(c("ngIf",r.options.closeButton),l(),c("ngIf",r.title),l(),c("ngIf",r.message&&r.options.enableHtml),l(),c("ngIf",r.message&&!r.options.enableHtml),l(),c("ngIf",r.options.progressBar))},dependencies:[G],encapsulation:2,data:{animation:[fs("flyInOut",[$n("inactive",xi({opacity:0})),$n("active",xi({opacity:1})),$n("removed",xi({opacity:0})),qr("inactive => active",zr("{{ easeTime }}ms {{ easing }}")),qr("active => removed",zr("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return t})(),Bg=Ue(J({},Oc),{toastComponent:Lg}),Vg=(t={})=>Cn([{provide:jo,useValue:{default:Bg,config:t}}]),zo=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[Vg(e)]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=xe({type:t});static \u0275inj=Se({})}return t})();var jg=(()=>{class t{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=tn(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=tn("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,n,r){this.toastrService=e,this.toastPackage=n,this.appRef=r,this.message=n.message,this.title=n.title,this.options=n.config,this.originalTimeout=n.config.timeOut,this.toastClasses=`${n.toastType} ${n.config.toastClass}`,this.sub=n.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=n.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=n.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=n.toastRef.countDuplicate().subscribe(o=>{this.duplicatesCount=o})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),n=this.hideTime-e;this.width.set(n/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(n){return new(n||t)(v(Ji),v(Wi),v(Mn))};static \u0275cmp=w({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(n,r){n&1&&S("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),n&2&&(qe(r.toastClasses),jt("display",r.displayStyle))},attrs:wc,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(n,r){n&1&&E(0,wg,3,0,"button",0)(1,Og,3,5,"div",1)(2,Dg,1,3,"div",2)(3,Fg,2,4,"div",3)(4,Rg,2,2,"div",4),n&2&&(c("ngIf",r.options.closeButton),l(),c("ngIf",r.title),l(),c("ngIf",r.message&&r.options.enableHtml),l(),c("ngIf",r.message&&!r.options.enableHtml),l(),c("ngIf",r.options.progressBar))},dependencies:[G],encapsulation:2,changeDetection:0})}return t})(),zg=Ue(J({},Oc),{toastComponent:jg}),Dc=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:jo,useValue:{default:zg,config:e}}]}}static \u0275fac=function(n){return new(n||t)};static \u0275mod=xe({type:t});static \u0275inj=Se({})}return t})();var Rc=(()=>{let i=class i{constructor(n,r){this.modalService=n,this.modalRef=r}redirectToLogin(){this.modalService.setDismissReason("backLogin"),this.modalRef.hide()}};i.\u0275fac=function(r){return new(r||i)(v(Fe),v(ui))},i.\u0275cmp=w({type:i,selectors:[["ed-modal-reconnexion"]],standalone:!1,decls:17,vars:1,consts:[["role","alertdialog"],[1,"modal-header"],[1,"modal-title"],[1,"modal-subtitle"],[1,"modal-body"],[1,"login-container","session-expire"],[1,"text-center"],["src","/assets/images/logoEcoleDirecte.png","alt","Logo du site EcoleDirecte"],["id","bloc-connexion",1,"form-box",3,"isRelogin"],[1,"modal-footer"],["type","button",1,"btn","btn-link",3,"click"]],template:function(r,o){r&1&&(a(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),u(4,"Votre session a expir\xE9"),s(),a(5,"p",3),u(6,"Vous devez vous reconnecter pour poursuivre"),s()()(),a(7,"div",4)(8,"div",5)(9,"div",6),g(10,"img",7),a(11,"h1"),u(12,"EcoleDirecte"),s()(),g(13,"ed-login-form",8),s()(),a(14,"div",9)(15,"button",10),S("click",function(){return o.redirectToLogin()}),u(16,"Retour \xE0 l'accueil"),s()()()),r&2&&(l(13),c("isRelogin",!0))},dependencies:[ki],encapsulation:2});let t=i;return t})();var Nc=(()=>{let i=class i extends Ie(){constructor(n,r,o,d,m,p,f){super(),this.accountService=n,this.authStore=r,this.httpAccessFailedService=o,this.modalService=d,this.router=m,this.toastr=p,this.uiService=f}startObserving(){this.uiService.select$().pipe(tt(n=>n.typeUiState===Ba.event),De(this._destroyRef)).subscribe(n=>this.displayEvent(n))}presentNotification(n){this.toastr.show(n.message,n.title,J({},n.custom),this.toastr.toastrConfig.iconClasses[n.type])}openModalReconnexion(){if(Object.isExists(this.authStore.currentUser)&&this.authStore.currentUser.isLoggedInFromOAuth){this.uiService.notifyEvent(Y.genericSuccess,`La session d'authentification depuis "${this.authStore.currentUser.oAuthParams.libelle}" a expir\xE9`,"Votre session est expir\xE9e"),this.accountService.logout();return}if(this.httpAccessFailedService.nbFailedRequests<=1){let n={id:"modalReconnexion",keyboard:!1,ignoreBackdropClick:!0};this.modalService.show(Rc,n),this.modalService.onHide.pipe(ke(1)).subscribe(r=>{r==="backLogin"&&this.accountService.logout()})}}displayEvent(n){let r={type:"error",title:n.title,message:n.message,custom:{enableHtml:!0,toastClass:"ngx-toastr",timeOut:5e3}};switch(n.action){case Y.userAccessTokenInvalid:this.openModalReconnexion();return;case Y.e403:this.router.navigateByUrl("/403").catch(o=>console.error("displayEvent navigate to /403"));break;case Y.e404:this.router.navigateByUrl("/404").catch(o=>console.error("displayEvent navigate to /404"));break;case Y.genericInfo:r={type:"info",title:n.title,message:n.message,custom:{enableHtml:!0,toastClass:"ngx-toastr",timeOut:5e3}};break;case Y.genericSuccess:r={type:"success",title:n.title,message:n.message,custom:{enableHtml:!0,toastClass:"ngx-toastr"}};break;case Y.genericWarning:r={type:"warning",title:n.title,message:n.message,custom:{enableHtml:!0,toastClass:"ngx-toastr",timeOut:5e3}};break;case Y.ePersistant:r={type:"error",title:n.title,message:n.message,custom:{enableHtml:!0,toastClass:"ngx-toastr",closeButton:!0,disableTimeOut:!0}};break;case Y.genericError:break;default:console.error(new Error(n.message));return}this.presentNotification(r)}};i.\u0275fac=function(r){return new(r||i)(X(Ft),X(M),X(qn),X(Fe),X(Q),X(Ji),X(ye))},i.\u0275prov=he({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();var Hg=()=>[];function Gg(t,i){t&1&&(le(0),g(1,"ed-custom-busy")(2,"router-outlet")(3,"router-outlet",5),ce())}function $g(t,i){if(t&1&&(a(0,"div",6)(1,"div",7)(2,"header"),g(3,"img",8),a(4,"h1"),u(5,"EcoleDirecte"),s()(),a(6,"p",9),u(7,"Bienvenue sur le portail EcoleDirecte. Espace famille, \xE9l\xE8ve, personnel, enseignant ..."),s()(),a(8,"div",10)(9,"p"),g(10,"fa-icon",11),a(11,"span",9),u(12,"Veuillez patienter pendant le chargement du site EcoleDirecte"),s(),a(13,"em"),u(14," Si au bout de quelques minutes cette page reste affich\xE9e, "),a(15,"a",12),u(16,"cliquez ici"),s()()()()()),t&2){let e=h();l(10),c("icon",e.faSpinner),l(5),c("routerLink",K(2,Hg))}}var Uc=(()=>{let i=class i extends Ie(){constructor(n,r,o,d,m,p,f,_,y,T){super(),this.authStore=n,this.uiNotifierService=r,this.uiService=o,this.router=d,this.location=m,this.etablissementService=p,this.loaderService=f,this.menuStore=_,this.localeService=y,this.toastrService=T,this.faSpinner=Cs,_s("bs5"),Xn.invalidDate="",this.localeService.use("fr"),Os("fr",Xn),this.router.events.pipe(tt(P=>P instanceof ei),q(P=>{this.authStore.isLoggedIn()&&this.manageSubMenus()}),De()).subscribe()}ngOnInit(){this.toastrService.overlayContainer=this.toastContainer,this.uiNotifierService.startObserving(),this.isAppReady=!0}manageSubMenus(){let n,r,o,d=!1,m=this.location.path(),p=[b.CARNET_CORRESPONDANCE];for(let y of p){let T=this.menuStore.getMenuBlockItem(this.authStore.currentUser.id,this.authStore.currentUser.typeCompte,y);if(Object.isExists(T)&&m.startsWith(T.action.route)){this.authStore.removeSubMenu();return}}let f=/\/([CG])\/(\d+)\/E\/(\d+)\/|([CGE])\/(\d+)/,_=f.exec(m);if(Array.isArray(_)&&(Object.isExists(_[4])&&Object.isExists(_[5])?_[4]===O.ELEVE?r=+_[5]:(o=_[4],n=+_[5]):Object.isExists(_[1])&&Object.isExists(_[2])&&Object.isExists(_[3])&&(o=_[1],n=+_[2],r=+_[3]),Object.isExists(n)&&Object.isExists(o)&&(d=!0)),!d){if(f=/\/Consultation\?(?:.*&)?idEntity=[^&]*/,_=f.exec(m),Array.isArray(_)&&_.length>0){f=/([^?]+)(\?.*)?/;let y=f.exec(_[0]);if(Array.isArray(y)&&y.length>=2){let T=new URLSearchParams(y[2]);o=T.get("typeEntity"),n=+T.get("idEntity")}}Object.isExists(n)&&Object.isExists(o)&&(d=!0)}d&&n>0&&(o===on.CLASSE||o===on.GROUPE)?(this.loader=this.loaderService.show(this),this.etablissementService.getClasseGroupeById(n,o).pipe(We(y=>(this.authStore.toggleMenuClasseOuGroupe(n,Si[o],y,!0),this.authStore.removeSubMenu(this.authStore.isProfesseur()?Si.PE:Si.AE),Object.isExists(r)?this.etablissementService.getEleveById(r):Le(new Ga))),q(y=>{y.id>0&&this.authStore.toggleMenuProfOuPersonnelEleve(this.authStore.currentUser,n,Si[o],y,!0)}),ge(()=>this.loaderService.hide(this)),ie(y=>this.uiService.notifyErrorThenEmpty(y,!0,"Consultation"))).subscribe()):Object.isExists(r)?this.authStore.toggleMenuFamilleEleve(this.authStore.currentUser,r):this.authStore.removeSubMenu()}};i.\u0275fac=function(r){return new(r||i)(v(M),v(Nc),v(ye),v(Q),v(An),v(ri),v(Re),v(oi),v(Fs),v(Ji))},i.\u0275cmp=w({type:i,selectors:[["app-root"]],viewQuery:function(r,o){if(r&1&&qt(kc,7),r&2){let d;Ht(d=Gt())&&(o.toastContainer=d.first)}},standalone:!1,features:[Oe],decls:7,vars:3,consts:[["chargementencours",""],[1,"container-principal",3,"cgBusy"],[4,"ngIf","ngIfElse"],["aria-live","polite","toastContainer",""],["id","preloadfont"],["name","auxiliaryModal"],["id","chargementencours",1,"row"],[1,"col-xl-4","col-lg-5","load-container","login-container"],["alt","Logo du site EcoleDirecte","src","/assets/images/logoEcoleDirecte.png"],[1,"text-bold","m-0"],[1,"col-xl-8","col-lg-7","info-container"],["animation","spin-pulse","aria-hidden","true",3,"icon"],["href","","onclick","window.location.href='/?t='+Math.random()","aria-label","Actualiser le site",3,"routerLink"]],template:function(r,o){if(r&1&&(a(0,"div",1),E(1,Gg,4,0,"ng-container",2),s(),g(2,"div",3),a(3,"div",4),u(4,"."),s(),E(5,$g,17,3,"ng-template",null,0,Te)),r&2){let d=re(6);c("cgBusy",o.loader),l(),c("ngIf",o.isAppReady)("ngIfElse",d)}},dependencies:[G,Ni,ae,pe,se,ws],styles:["#chargementencours[_ngcontent-%COMP%]   .load-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;position:relative;padding:80px!important;min-height:100vh}#chargementencours[_ngcontent-%COMP%]   .load-container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:18px}#chargementencours[_ngcontent-%COMP%]   .load-container.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin:100px 0 5vh}#chargementencours[_ngcontent-%COMP%]   .load-container.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:15px;color:var(--dark-primary-color);margin-top:5px;text-align:center}#chargementencours[_ngcontent-%COMP%]   .load-container.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;margin:0 auto}#chargementencours[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]{position:relative;display:flex;min-height:100vh;background:linear-gradient(var(--dark-primary-color) 0%,var(--light-primary-color) 100%)}#chargementencours[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:auto;color:#fff;text-align:center}#chargementencours[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:60px}#chargementencours[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{display:block;margin:30px 0;font-size:20px}#chargementencours[_ngcontent-%COMP%]   .info-container[_ngcontent-%COMP%]   em[_ngcontent-%COMP%]{font-size:18px}@media screen and (width <= 1280px){#chargementencours[_ngcontent-%COMP%]   .load-container.login-container[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{margin:0}#chargementencours[_ngcontent-%COMP%]   .load-container.login-container[_ngcontent-%COMP%]   #bloc-connexion[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}#chargementencours[_ngcontent-%COMP%]   .load-container.login-container[_ngcontent-%COMP%]   #bloc-connexion[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%], #chargementencours[_ngcontent-%COMP%]   .load-container.login-container[_ngcontent-%COMP%]   #bloc-connexion[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{height:30px}#chargementencours[_ngcontent-%COMP%]   .load-container.login-container[_ngcontent-%COMP%]   .log[_ngcontent-%COMP%]{margin:0}#chargementencours[_ngcontent-%COMP%]   .load-container.login-container[_ngcontent-%COMP%]   .mdp-lost[_ngcontent-%COMP%]{margin:1vh 0 4vh}#chargementencours[_ngcontent-%COMP%]   .load-container.login-container[_ngcontent-%COMP%]   span#show-password[_ngcontent-%COMP%]{bottom:-33px}}"]});let t=i;return t})();function Kg(t){let i=t,e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(t.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===0||e===1?1:r===0&&e!==0&&e%1e6===0&&n===0||!(r>=0&&r<=5)?4:5}var Lc=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",Kg];var Bc=[[["minuit","midi","mat.","ap.m.","soir","nuit"],void 0,["minuit","midi","du matin","de l\u2019apr\xE8s-midi","du soir","du matin"]],[["minuit","midi","mat.","ap.m.","soir","nuit"],void 0,["minuit","midi","matin","apr\xE8s-midi","soir","nuit"]],["00:00","12:00",["04:00","12:00"],["12:00","18:00"],["18:00","24:00"],["00:00","04:00"]]];function Qg(t){return typeof t=="string"?()=>{throw new Error(t)}:t}function Pr(t,i){let e=i?Qg(i):()=>{},n=!1;return(...r)=>n?e(...r):(n=!0,t(...r))}function qc(t){return t.endsWith("/")?t:`${t}/`}var Wg=(t,i)=>{let e=i.createElement("script");return e.type="text/javascript",e.defer=!0,e.async=!0,e.src=t,e},Jg=new Be("MATOMO_SCRIPT_FACTORY",{providedIn:"root",factory:()=>Wg});function Ar(t,i){if(t==null)throw new Error("Unexpected "+t+" value: "+i);return t}var Hc=(()=>{let i=class i{constructor(){this.scriptFactory=I(Jg),this.injector=I(Dr),this.document=I($t)}injectDOMScript(n){let r=Fr(this.injector,()=>this.scriptFactory(n,this.document)),o=Ar(this.document.getElementsByTagName("script")[0],"no existing script found");Ar(o.parentNode,"no script's parent node found").insertBefore(r,o)}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=he({token:i,factory:i.\u0275fac});let t=i;return t})(),Xg="No Matomo configuration found! Have you included Matomo module using MatomoModule.forRoot() or provideMatomo()?",Ko=new Be("MATOMO_ROUTER_ENABLED",{factory(){return!1}}),qo=new Be("MATOMO_CONFIGURATION"),_i=new Be("INTERNAL_MATOMO_CONFIGURATION");function Yg(){let n=Ar(I(qo,{optional:!0}),Xg),{mode:t,requireConsent:i}=n,e=yn(n,["mode","requireConsent"]);return J({mode:t?tv(t):void 0,disabled:!1,enableLinkTracking:!0,trackAppInitialLoad:!I(Ko),requireConsent:i?iv(i):"none",enableJSErrorTracking:!1,runOutsideAngularZone:!1,disableCampaignParameters:!1,acceptDoNotTrack:!1},e)}var Ho=new Be("DEFERRED_INTERNAL_MATOMO_CONFIGURATION");function Zg(){let t=I(_i),i;return{configuration:new Promise(n=>i=n),markReady(n){Ar(i,"resolveFn")(J(J({},t),n))}}}var ev=new Be("ASYNC_INTERNAL_MATOMO_CONFIGURATION"),vn=function(t){return t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t[t.AUTO_DEFERRED=2]="AUTO_DEFERRED",t}(vn||{});function tv(t){switch(t){case vn.AUTO:return"auto";case vn.MANUAL:return"manual";case vn.AUTO_DEFERRED:return"deferred";default:return t}}var Mr=function(t){return t[t.NONE=0]="NONE",t[t.COOKIE=1]="COOKIE",t[t.TRACKING=2]="TRACKING",t}(Mr||{});function iv(t){switch(t){case Mr.NONE:return"none";case Mr.COOKIE:return"cookie";case Mr.TRACKING:return"tracking";default:return t}}function nv(t){return t.mode==null||t.mode==="auto"||t.mode===vn.AUTO}function Gc(t){return t.siteId!=null&&t.trackerUrl!=null}function rv(t){return t.scriptUrl!=null&&!Gc(t)}function ov(t){return Gc(t)||$c(t)}function $c(t){return Array.isArray(t.trackers)}function av(t){return $c(t)?t.trackers:[{trackerUrl:t.trackerUrl,siteId:t.siteId,trackerUrlSuffix:t.trackerUrlSuffix}]}function Kc(){window._paq=window._paq||[]}function Vc(t){let i=[...t];for(;i.length>0&&i[i.length-1]===void 0;)i.pop();return i}function sv(){let t=I(_i).disabled,i=rn(I(nn));return t||!i?new lv:new Qo}var Qo=(()=>{let i=class i{constructor(){this.ngZone=I(Ci),this.config=I(_i),Kc()}get(n){return this.pushFn(r=>r[n]())}pushFn(n){return new Promise(r=>{this.push([function(){r(n(this))}])})}push(n){this.config.runOutsideAngularZone?this.ngZone.runOutsideAngular(()=>{window._paq.push(Vc(n))}):window._paq.push(Vc(n))}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=he({token:i,factory:i.\u0275fac});let t=i;return t})(),lv=(()=>{let i=class i{get(n){return kr(this,null,function*(){return Promise.reject("MatomoTracker is disabled")})}push(n){}pushFn(n){return kr(this,null,function*(){return Promise.reject("MatomoTracker is disabled")})}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=he({token:i,factory:i.\u0275fac});let t=i;return t})();var cv="Matomo trackers have already been initialized",dv="Matomo has already been initialized";function uv(t){return typeof t=="object"&&Object.keys(t).length===1&&t.productCategory!=null}function mv(t){return typeof t=="object"&&"productSKU"in t}var _n=(()=>{let i=class i{constructor(){this.delegate=I(Qo),this._pageViewTracked=new Tt,this.pageViewTracked=this._pageViewTracked.asObservable(),I(ma).onDestroy(()=>this._pageViewTracked.complete())}trackPageView(n){this.delegate.push(["trackPageView",n]),this._pageViewTracked.next()}trackEvent(n,r,o,d,m){this.delegate.push(["trackEvent",n,r,o,d,m])}trackSiteSearch(n,r,o,d){this.delegate.push(["trackSiteSearch",n,r,o,d])}trackGoal(n,r,o){this.delegate.push(["trackGoal",n,r,o])}trackLink(n,r,o){this.delegate.push(["trackLink",n,r,o])}trackAllContentImpressions(){this.delegate.push(["trackAllContentImpressions"])}trackVisibleContentImpressions(n,r){this.delegate.push(["trackVisibleContentImpressions",n,r])}trackContentImpressionsWithinNode(n){this.delegate.push(["trackContentImpressionsWithinNode",n])}trackContentInteractionNode(n,r){this.delegate.push(["trackContentInteractionNode",n,r])}trackContentImpression(n,r,o){this.delegate.push(["trackContentImpression",n,r,o])}trackContentInteraction(n,r,o,d){this.delegate.push(["trackContentInteraction",n,r,o,d])}logAllContentBlocksOnPage(){this.delegate.push(["logAllContentBlocksOnPage"])}ping(){this.delegate.push(["ping"])}enableHeartBeatTimer(n){this.delegate.push(["enableHeartBeatTimer",n])}enableLinkTracking(n=!1){this.delegate.push(["enableLinkTracking",n])}disablePerformanceTracking(){this.delegate.push(["disablePerformanceTracking"])}enableCrossDomainLinking(){this.delegate.push(["enableCrossDomainLinking"])}setCrossDomainLinkingTimeout(n){this.delegate.push(["setCrossDomainLinkingTimeout",n])}getCrossDomainLinkingUrlParameter(){return this.delegate.get("getCrossDomainLinkingUrlParameter")}setDocumentTitle(n){this.delegate.push(["setDocumentTitle",n])}setDomains(n){this.delegate.push(["setDomains",n])}setCustomUrl(n){this.delegate.push(["setCustomUrl",n])}setReferrerUrl(n){this.delegate.push(["setReferrerUrl",n])}setSiteId(n){this.delegate.push(["setSiteId",n])}setApiUrl(n){this.delegate.push(["setApiUrl",n])}setTrackerUrl(n){this.delegate.push(["setTrackerUrl",n])}addTracker(n,r){this.delegate.push(["addTracker",n,r])}getMatomoUrl(){return this.delegate.get("getMatomoUrl")}getPiwikUrl(){return this.delegate.get("getPiwikUrl")}getCurrentUrl(){return this.delegate.get("getCurrentUrl")}setDownloadClasses(n){this.delegate.push(["setDownloadClasses",n])}setDownloadExtensions(n){this.delegate.push(["setDownloadExtensions",n])}addDownloadExtensions(n){this.delegate.push(["addDownloadExtensions",n])}removeDownloadExtensions(n){this.delegate.push(["removeDownloadExtensions",n])}setIgnoreClasses(n){this.delegate.push(["setIgnoreClasses",n])}setLinkClasses(n){this.delegate.push(["setLinkClasses",n])}setLinkTrackingTimer(n){this.delegate.push(["setLinkTrackingTimer",n])}getLinkTrackingTimer(){return this.delegate.get("getLinkTrackingTimer")}discardHashTag(n){this.delegate.push(["discardHashTag",n])}setGenerationTimeMs(n){this.delegate.push(["setGenerationTimeMs",n])}setPagePerformanceTiming(n,r,o,d,m,p){let f;typeof n=="object"&&n?(f=n.networkTimeInMs,r=n.serverTimeInMs,o=n.transferTimeInMs,d=n.domProcessingTimeInMs,m=n.domCompletionTimeInMs,p=n.onloadTimeInMs):f=n,this.delegate.push(["setPagePerformanceTiming",f,r,o,d,m,p])}getCustomPagePerformanceTiming(){return this.delegate.get("getCustomPagePerformanceTiming")}appendToTrackingUrl(n){this.delegate.push(["appendToTrackingUrl",n])}setDoNotTrack(n){this.delegate.push(["setDoNotTrack",n])}killFrame(){this.delegate.push(["killFrame"])}redirectFile(n){this.delegate.push(["redirectFile",n])}setHeartBeatTimer(n,r){this.delegate.push(["setHeartBeatTimer",n,r])}getVisitorId(){return this.delegate.get("getVisitorId")}setVisitorId(n){this.delegate.push(["setVisitorId",n])}getVisitorInfo(){return this.delegate.get("getVisitorInfo")}getAttributionInfo(){return this.delegate.get("getAttributionInfo")}getAttributionCampaignName(){return this.delegate.get("getAttributionCampaignName")}getAttributionCampaignKeyword(){return this.delegate.get("getAttributionCampaignKeyword")}getAttributionReferrerTimestamp(){return this.delegate.get("getAttributionReferrerTimestamp")}getAttributionReferrerUrl(){return this.delegate.get("getAttributionReferrerUrl")}getUserId(){return this.delegate.get("getUserId")}setUserId(n){this.delegate.push(["setUserId",n])}resetUserId(){this.delegate.push(["resetUserId"])}setPageViewId(n){this.delegate.push(["setPageViewId",n])}getPageViewId(){return this.delegate.get("getPageViewId")}setCustomData(...n){this.delegate.push(["setCustomData",...n])}getCustomData(){return this.delegate.get("getCustomData")}setCustomVariable(n,r,o,d){this.delegate.push(["setCustomVariable",n,r,o,d])}deleteCustomVariable(n,r){this.delegate.push(["deleteCustomVariable",n,r])}deleteCustomVariables(n){this.delegate.push(["deleteCustomVariables",n])}getCustomVariable(n,r){return this.delegate.pushFn(o=>o.getCustomVariable(n,r))}storeCustomVariablesInCookie(){this.delegate.push(["storeCustomVariablesInCookie"])}setCustomDimension(n,r){this.delegate.push(["setCustomDimension",n,r])}deleteCustomDimension(n){this.delegate.push(["deleteCustomDimension",n])}getCustomDimension(n){return this.delegate.pushFn(r=>r.getCustomDimension(n))}setCampaignNameKey(n){this.delegate.push(["setCampaignNameKey",n])}setCampaignKeywordKey(n){this.delegate.push(["setCampaignKeywordKey",n])}setConversionAttributionFirstReferrer(n){this.delegate.push(["setConversionAttributionFirstReferrer",n])}setEcommerceView(n,r,o,d){uv(n)?this.delegate.push(["setEcommerceView",!1,!1,n.productCategory]):mv(n)?this.delegate.push(["setEcommerceView",n.productSKU,n.productName,n.productCategory,n.price]):this.delegate.push(["setEcommerceView",n,r,o,d])}addEcommerceItem(n,r,o,d,m){typeof n=="string"?this.delegate.push(["addEcommerceItem",n,r,o,d,m]):this.delegate.push(["addEcommerceItem",n.productSKU,n.productName,n.productCategory,n.price,n.quantity])}removeEcommerceItem(n){this.delegate.push(["removeEcommerceItem",n])}clearEcommerceCart(){this.delegate.push(["clearEcommerceCart"])}getEcommerceItems(){return this.delegate.get("getEcommerceItems")}trackEcommerceCartUpdate(n){this.delegate.push(["trackEcommerceCartUpdate",n])}trackEcommerceOrder(n,r,o,d,m,p){this.delegate.push(["trackEcommerceOrder",n,r,o,d,m,p])}requireConsent(){this.delegate.push(["requireConsent"])}setConsentGiven(){this.delegate.push(["setConsentGiven"])}rememberConsentGiven(n){this.delegate.push(["rememberConsentGiven",n])}forgetConsentGiven(){this.delegate.push(["forgetConsentGiven"])}hasRememberedConsent(){return this.delegate.get("hasRememberedConsent")}getRememberedConsent(){return this.delegate.get("getRememberedConsent")}isConsentRequired(){return this.delegate.get("isConsentRequired")}requireCookieConsent(){this.delegate.push(["requireCookieConsent"])}setCookieConsentGiven(){this.delegate.push(["setCookieConsentGiven"])}rememberCookieConsentGiven(n){this.delegate.push(["rememberCookieConsentGiven",n])}forgetCookieConsentGiven(){this.delegate.push(["forgetCookieConsentGiven"])}getRememberedCookieConsent(){return this.delegate.get("getRememberedCookieConsent")}areCookiesEnabled(){return this.delegate.get("areCookiesEnabled")}optUserOut(){this.delegate.push(["optUserOut"])}forgetUserOptOut(){this.delegate.push(["forgetUserOptOut"])}isUserOptedOut(){return this.delegate.get("isUserOptedOut")}disableCookies(){this.delegate.push(["disableCookies"])}deleteCookies(){this.delegate.push(["deleteCookies"])}hasCookies(){return this.delegate.get("hasCookies")}setCookieNamePrefix(n){this.delegate.push(["setCookieNamePrefix",n])}setCookieDomain(n){this.delegate.push(["setCookieDomain",n])}setCookiePath(n){this.delegate.push(["setCookiePath",n])}setSecureCookie(n){this.delegate.push(["setSecureCookie",n])}setCookieSameSite(n){this.delegate.push(["setCookieSameSite",n])}setVisitorCookieTimeout(n){this.delegate.push(["setVisitorCookieTimeout",n])}setReferralCookieTimeout(n){this.delegate.push(["setReferralCookieTimeout",n])}setSessionCookieTimeout(n){this.delegate.push(["setSessionCookieTimeout",n])}addListener(n){this.delegate.push(["addListener",n])}setRequestMethod(n){this.delegate.push(["setRequestMethod",n])}setCustomRequestProcessing(n){this.delegate.push(["setCustomRequestProcessing",n])}setRequestContentType(n){this.delegate.push(["setRequestContentType",n])}disableQueueRequest(){this.delegate.push(["disableQueueRequest"])}setRequestQueueInterval(n){this.delegate.push(["setRequestQueueInterval",n])}disableAlwaysUseSendBeacon(){this.delegate.push(["disableAlwaysUseSendBeacon"])}alwaysUseSendBeacon(){this.delegate.push(["alwaysUseSendBeacon"])}enableJSErrorTracking(){this.delegate.push(["enableJSErrorTracking"])}enableFileTracking(){this.delegate.push(["enableFileTracking"])}setExcludedReferrers(...n){let r=n.flat();this.delegate.push(["setExcludedReferrers",r])}getExcludedReferrers(){return this.delegate.get("getExcludedReferrers")}disableBrowserFeatureDetection(){this.delegate.push(["disableBrowserFeatureDetection"])}enableBrowserFeatureDetection(){this.delegate.push(["enableBrowserFeatureDetection"])}disableCampaignParameters(){this.delegate.push(["disableCampaignParameters"])}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=he({token:i,factory:i.\u0275fac});let t=i;return t})();function jc(t){return`${t}`}function zc(t,i){return i==null?qc(t)+pv:t+i}var pv="matomo.php",hv="matomo.js";function fv(){let t=I(_i).disabled,i=rn(I(nn));return t||!i?new Go:new $o}var Go=class{initialize(){}init(){}initializeTracker(i){}},$o=(()=>{let i=class i{constructor(){this.config=I(_i),this.deferredConfig=I(Ho),this.tracker=I(_n),this.scriptInjector=I(Hc),this.initialize=Pr(()=>{this.runPreInitTasks(),nv(this.config)?this.injectMatomoScript(this.config):this.deferredConfig.markReady(this.config)},dv),this.injectMatomoScript=Pr(n=>{if(ov(n)){let{scriptUrl:r}=n,[o,...d]=av(n),m=r??qc(o.trackerUrl)+hv;this.registerMainTracker(o),this.registerAdditionalTrackers(d),this.scriptInjector.injectDOMScript(m)}else if(rv(n)){let{scriptUrl:r,trackers:o}=J({trackers:[]},n);this.registerAdditionalTrackers(o),this.scriptInjector.injectDOMScript(r)}this.deferredConfig.markReady(n)},cv),Kc()}init(){this.initialize()}initializeTracker(n){this.injectMatomoScript(n)}registerMainTracker(n){let r=zc(n.trackerUrl,n.trackerUrlSuffix),o=jc(n.siteId);this.tracker.setTrackerUrl(r),this.tracker.setSiteId(o)}registerAdditionalTrackers(n){n.forEach(({trackerUrl:r,siteId:o,trackerUrlSuffix:d})=>{let m=zc(r,d),p=jc(o);this.tracker.addTracker(m,p)})}runPreInitTasks(){this.config.acceptDoNotTrack&&this.tracker.setDoNotTrack(!0),this.config.requireConsent==="cookie"?this.tracker.requireCookieConsent():this.config.requireConsent==="tracking"&&this.tracker.requireConsent(),this.config.enableJSErrorTracking&&this.tracker.enableJSErrorTracking(),this.config.disableCampaignParameters&&this.tracker.disableCampaignParameters(),this.config.trackAppInitialLoad&&this.tracker.trackPageView(),this.config.enableLinkTracking&&this.tracker.enableLinkTracking(this.config.enableLinkTracking==="enable-pseudo")}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=he({token:i,factory:i.\u0275fac});let t=i;return t})(),Qc=Symbol("MATOMO_PROVIDERS"),Wc=Symbol("MATOMO_CHECKS");function Jc(t,i,e){return{kind:t,[Qc]:i,[Wc]:e}}function Xc(t,...i){var r;let e=[_n,Hc,{provide:Qo,useFactory:sv},{provide:$o,useFactory:fv},{provide:_i,useFactory:Yg},{provide:Ho,useFactory:Zg},{provide:ev,useFactory:()=>I(Ho).configuration},{provide:bn,multi:!0,useValue(){I($o).initialize()}}],n=[];typeof t=="function"?e.push({provide:qo,useFactory:t}):e.push({provide:qo,useValue:t});for(let o of i)e.push(...o[Qc]),n.push(o.kind);for(let o of i)(r=o[Wc])==null||r.call(o,n);return Cn(e)}var ed=new Be("MATOMO_ROUTER_CONFIGURATION"),vv={prependBaseHref:!0,trackPageTitle:!0,delay:0,exclude:[],navigationEndComparator:"fullUrl"},Xo=new Be("INTERNAL_ROUTER_CONFIGURATION");function _v(){let{disabled:t,enableLinkTracking:i}=I(_i),e=I(ed,{optional:!0})||{};return Ue(J(J({},vv),e),{enableLinkTracking:i,disabled:t})}var Ev=new Be("MATOMO_ROUTER_INTERCEPTORS");var yv="matomo",YC=new Be("MATOMO_ROUTE_DATA_KEY",{providedIn:"root",factory:()=>yv});var bv="MatomoRouter has already been initialized";function Cv(){return new Error('An invalid MATOMO_ROUTER_INTERCEPTORS provider was configured. Did you forget to set "multi: true" ?')}var td=new Be("MATOMO_PAGE_TITLE_PROVIDER"),Sv=(()=>{let i=class i{constructor(n){this.title=n}getCurrentPageTitle(n){return Le(this.title.getTitle())}};i.\u0275fac=function(r){return new(r||i)(X(kn))},i.\u0275prov=he({token:i,factory:i.\u0275fac});let t=i;return t})(),id=new Be("MATOMO_PAGE_URL_PROVIDER");function xv(){return new Jo(I(Xo),I(Sa,{optional:!0}),I(Ca))}function Tv(t){return t.endsWith("/")?t.slice(0,-1):t}var Jo=class{constructor(i,e,n){this.config=i,this.baseHref=e,this.locationStrategy=n}getCurrentPageUrl(i){let e=this.config.prependBaseHref?this.getBaseHrefWithoutTrailingSlash()+i.urlAfterRedirects:i.urlAfterRedirects;return Le(e)}getBaseHrefWithoutTrailingSlash(){return Tv(this.baseHref??this.locationStrategy.getBaseHref()??"")}};function Mv(t){return t instanceof ei}function Yc(t){return typeof t=="string"?new RegExp(t):t}function Pv(t){return t?Array.isArray(t)?t.map(Yc):[Yc(t)]:[]}function Av(t){let i=Pv(t);return e=>!i.some(n=>e.urlAfterRedirects.match(n))}function Iv(t){return t.split("?")[0]}function Zc(t){return(i,e)=>t(i)===t(e)}function wv(t){switch(t.navigationEndComparator){case"fullUrl":return Zc(i=>i.urlAfterRedirects);case"ignoreQueryParams":return Zc(i=>Iv(i.urlAfterRedirects));default:return t.navigationEndComparator}}var Wo=(()=>{let i=class i{constructor(n,r,o,d,m,p,f){if(this.router=n,this.platformId=r,this.config=o,this.pageTitleProvider=d,this.pageUrlProvider=m,this.tracker=p,this.interceptors=f,this.initialize=Pr(()=>{if(this.config.disabled||!rn(this.platformId))return;let _=this.config.delay===-1?ra:ca(this.config.delay),y=wv(this.config);this.router.events.pipe(tt(Mv),tt(Av(this.config.exclude)),da(y),_,We(T=>this.presetPageTitleAndUrl(T).pipe(Ke(({pageUrl:P})=>({pageUrl:P,event:T})))),aa(({event:T,pageUrl:P})=>this.callInterceptors(T).pipe(q(()=>this.trackPageView(P))))).subscribe()},bv),f&&!Array.isArray(f))throw Cv()}init(){this.initialize()}callInterceptors(n){return this.interceptors?ct(this.interceptors.map(r=>{let o=r.beforePageTrack(n);return(o==null?Le(void 0):Or(o)).pipe(ke(1),Yi(void 0))})).pipe(la(void 0),Yi(void 0)):Le(void 0)}presetPageTitleAndUrl(n){let r=this.config.trackPageTitle?this.pageTitleProvider.getCurrentPageTitle(n).pipe(q(d=>this.tracker.setDocumentTitle(d))):Le(void 0),o=Or(this.pageUrlProvider.getCurrentPageUrl(n)).pipe(q(d=>this.tracker.setCustomUrl(d)));return oa([r,o]).pipe(Ke(([d,m])=>({pageUrl:m})))}trackPageView(n){this.tracker.trackPageView(),this.config.enableLinkTracking&&this.tracker.enableLinkTracking(this.config.enableLinkTracking==="enable-pseudo"),this.tracker.setReferrerUrl(n)}};i.\u0275fac=function(r){return new(r||i)(X(Q),X(nn),X(Xo),X(td),X(id),X(_n),X(Ev,8))},i.\u0275prov=he({token:i,factory:i.\u0275fac});let t=i;return t})();function nd(t){let i=kv(t);return Jc("Router",i)}function kv(t){return[Wo,{provide:Ko,useValue:!0},{provide:ed,useValue:t},{provide:Xo,useFactory:_v},{provide:id,useFactory:xv},{provide:td,useClass:Sv},Wo,{provide:bn,multi:!0,useValue(){I(Wo).initialize()}}]}var rd=(()=>{let i=class i extends $a{constructor(){super();try{if(typeof sessionStorage<"u"&&sessionStorage){this._db=sessionStorage,this._pasBon=!1,this._enableStorage=!0;return}}catch{}this._enableStorage=!1,this._pasBon=!0,console.error(Kt[0],"sessionStorage is not available !")}static encode(n){return JSON.stringify(n)}static decode(n){if(n===void 0)return n;try{return JSON.parse(n)}catch{return}}ready(){return Promise.resolve(!0)}isEnable(){return this._enableStorage}disableStorage(n=!1){this._enableStorage=this._pasBon?!1:!n}get(n){if(!this._enableStorage)return Promise.reject(Kt[1]);let r=this._db.getItem(n);return Promise.resolve(i.decode(r))}set(n,r){if(!this._enableStorage)return Promise.reject(Kt[1]);try{this._db.setItem(n,i.encode(r))}catch(o){console.error("SessionStorageService.set setItem :",o)}return Promise.resolve(r)}remove(n){return this._enableStorage?(this._db.removeItem(n),Promise.resolve()):Promise.reject(Kt[1])}clear(){return this._pasBon?Promise.reject(Kt[1]):(this._db.clear(),Promise.resolve())}length(){return this._enableStorage?Promise.resolve(this._db.length):Promise.reject(Kt[1])}keys(){if(!this._enableStorage)return Promise.reject(Kt[1]);let n=[],r=this._db.length;for(let o=0;o<r;o++){let d=this._db.key(o);d&&n.push(d)}return Promise.resolve(n)}iterate(n){if(!this._enableStorage)return Promise.reject(Kt[1]);let r=this._db.length;for(let o=0;o<r;o++){let d=this._db.key(o);if(d){let m=i.decode(this._db.getItem(d));n(m,d,o+1)}}return Promise.resolve()}};i.\u0275fac=function(r){return new(r||i)},i.\u0275prov=he({token:i,factory:i.\u0275fac,providedIn:"root"});let t=i;return t})();xa(Lc,"fr-FR",Bc);var od=(()=>{let i=class i{constructor(n){if(n)throw new Error("EDWebCoreModule has already been loaded. Import it in the AppModule only.")}};i.\u0275fac=function(r){return new(r||i)(X(i,12))},i.\u0275mod=xe({type:i}),i.\u0275inj=Se({providers:[{provide:Lr,useValue:"fr-FR"},{provide:"StorageService",useClass:rd},{provide:"SecureStorageService",useFactory:()=>new Ka},ga(()=>I(M).ready()),Xc({siteId:1,trackerUrl:"https://piwik.ecoledirecte.com/"},nd({delay:1e3}))],imports:[Ta,ll,Ys.forRoot(),Ls.forRoot(),Rs.forRoot(),el.forRoot(),Zs.forRoot(),Xs.forRoot(),Ws.forRoot(),Es.forRoot(),Jn.forRoot(Ms),tl.forRoot(),il.forRoot(),rl.forRoot(),ks.forRoot(),Ds.forRoot(),nl.forRoot(),cl.forRoot({}),Dc.forRoot(Ts),zo.forRoot(),hs.forRoot(Ye),zo]});let t=i;return t})();var ad=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=xe({type:i}),i.\u0275inj=Se({imports:[mt]});let t=i;return t})();var sd=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=xe({type:i}),i.\u0275inj=Se({imports:[mt,ad]});let t=i;return t})();var Ir=(()=>{let i=class i{constructor(n){if(n)throw new Error("PagesModule has already been loaded. Import it in the AppModule only.")}};i.\u0275fac=function(r){return new(r||i)(X(i,12))},i.\u0275mod=xe({type:i}),i.\u0275inj=Se({imports:[mt]});let t=i;return t})();var ld=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=xe({type:i}),i.\u0275inj=Se({imports:[mt,Ir]});let t=i;return t})();var cd=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=xe({type:i}),i.\u0275inj=Se({imports:[mt,ol,dl,sl,tr]});let t=i;return t})();var dd=(()=>{let i=class i{};i.\u0275fac=function(r){return new(r||i)},i.\u0275mod=xe({type:i,bootstrap:[Uc]}),i.\u0275inj=Se({imports:[wn,Vl,Ic,od,sd,Ir,ld,cd,al,Is,Js,Jn,Xa,tr,mt]});let t=i;return t})();var md=na(ud());(0,md.default)({required:{e:89,f:89,o:91,o_a:91,s:13,c:89,samsung:16},insecure:!0,unsupported:!0,api:2021.1,reminder:1,reminderClosed:1,text:{msg:"Votre navigateur ({brow_name}) n'est peut \xEAtre pas compatible.",msgmore:"Cette version ne vous permet pas d'utiliser correctement ce site et ses fonctionnalit\xE9s avanc\xE9es.",bupdate:"Mettre \xE0 jour le navigateur",bignore:"Ignorer",remind:"Une nouvelle alerte sera affich\xE9e dans {days} jour(s).",bnever:"Ne plus afficher"}});xs.production&&(Qa(),void 0);Ia().bootstrapModule(dd).catch(t=>console.error(t));
/*! Bundled license information:

@angular/animations/fesm2022/browser.mjs:
  (**
   * @license Angular v19.1.7
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/platform-browser/fesm2022/animations.mjs:
  (**
   * @license Angular v19.1.7
   * (c) 2010-2024 Google LLC. https://angular.io/
   * License: MIT
   *)

@angular/common/locales/fr.mjs:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)

@angular/common/locales/extra/fr.mjs:
  (**
   * @license
   * Copyright Google LLC All Rights Reserved.
   *
   * Use of this source code is governed by an MIT-style license that can be
   * found in the LICENSE file at https://angular.dev/license
   *)
*/
